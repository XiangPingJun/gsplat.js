class t{constructor(t=0,U=0,F=0){this.x=t,this.y=U,this.z=F}equals(t){return this.x===t.x&&(this.y===t.y&&this.z===t.z)}add(U){return"number"==typeof U?new t(this.x+U,this.y+U,this.z+U):new t(this.x+U.x,this.y+U.y,this.z+U.z)}subtract(U){return"number"==typeof U?new t(this.x-U,this.y-U,this.z-U):new t(this.x-U.x,this.y-U.y,this.z-U.z)}multiply(U){return"number"==typeof U?new t(this.x*U,this.y*U,this.z*U):U instanceof t?new t(this.x*U.x,this.y*U.y,this.z*U.z):new t(this.x*U.buffer[0]+this.y*U.buffer[4]+this.z*U.buffer[8]+U.buffer[12],this.x*U.buffer[1]+this.y*U.buffer[5]+this.z*U.buffer[9]+U.buffer[13],this.x*U.buffer[2]+this.y*U.buffer[6]+this.z*U.buffer[10]+U.buffer[14])}divide(U){return"number"==typeof U?new t(this.x/U,this.y/U,this.z/U):new t(this.x/U.x,this.y/U.y,this.z/U.z)}cross(U){const F=this.y*U.z-this.z*U.y,l=this.z*U.x-this.x*U.z,n=this.x*U.y-this.y*U.x;return new t(F,l,n)}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lerp(U,F){return new t(this.x+(U.x-this.x)*F,this.y+(U.y-this.y)*F,this.z+(U.z-this.z)*F)}min(U){return new t(Math.min(this.x,U.x),Math.min(this.y,U.y),Math.min(this.z,U.z))}max(U){return new t(Math.max(this.x,U.x),Math.max(this.y,U.y),Math.max(this.z,U.z))}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error(`Invalid component index: ${t}`)}}minComponent(){return this.x<this.y&&this.x<this.z?0:this.y<this.z?1:2}maxComponent(){return this.x>this.y&&this.x>this.z?0:this.y>this.z?1:2}magnitude(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}distanceTo(t){return Math.sqrt((this.x-t.x)**2+(this.y-t.y)**2+(this.z-t.z)**2)}normalize(){const U=this.magnitude();return new t(this.x/U,this.y/U,this.z/U)}flat(){return[this.x,this.y,this.z]}clone(){return new t(this.x,this.y,this.z)}toString(){return`[${this.flat().join(", ")}]`}static One(U=1){return new t(U,U,U)}}class U{constructor(t=0,U=0,F=0,l=1){this.x=t,this.y=U,this.z=F,this.w=l}equals(t){return this.x===t.x&&(this.y===t.y&&(this.z===t.z&&this.w===t.w))}normalize(){const t=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return new U(this.x/t,this.y/t,this.z/t,this.w/t)}multiply(t){const F=this.w,l=this.x,n=this.y,Q=this.z,e=t.w,d=t.x,A=t.y,B=t.z;return new U(F*d+l*e+n*B-Q*A,F*A-l*B+n*e+Q*d,F*B+l*A-n*d+Q*e,F*e-l*d-n*A-Q*B)}inverse(){const t=this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w;return new U(-this.x/t,-this.y/t,-this.z/t,this.w/t)}apply(F){const l=new U(F.x,F.y,F.z,0),n=new U(-this.x,-this.y,-this.z,this.w),Q=this.multiply(l).multiply(n);return new t(Q.x,Q.y,Q.z)}flat(){return[this.x,this.y,this.z,this.w]}clone(){return new U(this.x,this.y,this.z,this.w)}static FromEuler(t){const F=t.x/2,l=t.y/2,n=t.z/2,Q=Math.cos(l),e=Math.sin(l),d=Math.cos(F),A=Math.sin(F),B=Math.cos(n),V=Math.sin(n);return new U(Q*A*B+e*d*V,e*d*B-Q*A*V,Q*d*V-e*A*B,Q*d*B+e*A*V)}toEuler(){const U=2*(this.w*this.x+this.y*this.z),F=1-2*(this.x*this.x+this.y*this.y),l=Math.atan2(U,F);let n;const Q=2*(this.w*this.y-this.z*this.x);n=Math.abs(Q)>=1?Math.sign(Q)*Math.PI/2:Math.asin(Q);const e=2*(this.w*this.z+this.x*this.y),d=1-2*(this.y*this.y+this.z*this.z),A=Math.atan2(e,d);return new t(l,n,A)}static FromMatrix3(t){const F=t.buffer,l=F[0]+F[4]+F[8];let n,Q,e,d;if(l>0){const t=.5/Math.sqrt(l+1);d=.25/t,n=(F[7]-F[5])*t,Q=(F[2]-F[6])*t,e=(F[3]-F[1])*t}else if(F[0]>F[4]&&F[0]>F[8]){const t=2*Math.sqrt(1+F[0]-F[4]-F[8]);d=(F[7]-F[5])/t,n=.25*t,Q=(F[1]+F[3])/t,e=(F[2]+F[6])/t}else if(F[4]>F[8]){const t=2*Math.sqrt(1+F[4]-F[0]-F[8]);d=(F[2]-F[6])/t,n=(F[1]+F[3])/t,Q=.25*t,e=(F[5]+F[7])/t}else{const t=2*Math.sqrt(1+F[8]-F[0]-F[4]);d=(F[3]-F[1])/t,n=(F[2]+F[6])/t,Q=(F[5]+F[7])/t,e=.25*t}return new U(n,Q,e,d)}static FromAxisAngle(t,F){const l=F/2,n=Math.sin(l),Q=Math.cos(l);return new U(t.x*n,t.y*n,t.z*n,Q)}static LookRotation(F){const l=new t(0,0,1),n=l.dot(F);if(Math.abs(n- -1)<1e-6)return new U(0,1,0,Math.PI);if(Math.abs(n-1)<1e-6)return new U;const Q=Math.acos(n),e=l.cross(F).normalize();return U.FromAxisAngle(e,Q)}toString(){return`[${this.flat().join(", ")}]`}}class F{constructor(){const t=new Map;this.addEventListener=(U,F)=>{t.has(U)||t.set(U,new Set),t.get(U).add(F)},this.removeEventListener=(U,F)=>{t.has(U)&&t.get(U).delete(F)},this.hasEventListener=(U,F)=>!!t.has(U)&&t.get(U).has(F),this.dispatchEvent=U=>{if(t.has(U.type))for(const F of t.get(U.type))F(U)}}}class l{constructor(t=1,U=0,F=0,l=0,n=0,Q=1,e=0,d=0,A=0,B=0,V=1,a=0,i=0,Z=0,R=0,s=1){this.buffer=[t,U,F,l,n,Q,e,d,A,B,V,a,i,Z,R,s]}equals(t){if(this.buffer.length!==t.buffer.length)return!1;if(this.buffer===t.buffer)return!0;for(let U=0;U<this.buffer.length;U++)if(this.buffer[U]!==t.buffer[U])return!1;return!0}multiply(t){const U=this.buffer,F=t.buffer;return new l(F[0]*U[0]+F[1]*U[4]+F[2]*U[8]+F[3]*U[12],F[0]*U[1]+F[1]*U[5]+F[2]*U[9]+F[3]*U[13],F[0]*U[2]+F[1]*U[6]+F[2]*U[10]+F[3]*U[14],F[0]*U[3]+F[1]*U[7]+F[2]*U[11]+F[3]*U[15],F[4]*U[0]+F[5]*U[4]+F[6]*U[8]+F[7]*U[12],F[4]*U[1]+F[5]*U[5]+F[6]*U[9]+F[7]*U[13],F[4]*U[2]+F[5]*U[6]+F[6]*U[10]+F[7]*U[14],F[4]*U[3]+F[5]*U[7]+F[6]*U[11]+F[7]*U[15],F[8]*U[0]+F[9]*U[4]+F[10]*U[8]+F[11]*U[12],F[8]*U[1]+F[9]*U[5]+F[10]*U[9]+F[11]*U[13],F[8]*U[2]+F[9]*U[6]+F[10]*U[10]+F[11]*U[14],F[8]*U[3]+F[9]*U[7]+F[10]*U[11]+F[11]*U[15],F[12]*U[0]+F[13]*U[4]+F[14]*U[8]+F[15]*U[12],F[12]*U[1]+F[13]*U[5]+F[14]*U[9]+F[15]*U[13],F[12]*U[2]+F[13]*U[6]+F[14]*U[10]+F[15]*U[14],F[12]*U[3]+F[13]*U[7]+F[14]*U[11]+F[15]*U[15])}clone(){const t=this.buffer;return new l(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}determinant(){const t=this.buffer;return t[12]*t[9]*t[6]*t[3]-t[8]*t[13]*t[6]*t[3]-t[12]*t[5]*t[10]*t[3]+t[4]*t[13]*t[10]*t[3]+t[8]*t[5]*t[14]*t[3]-t[4]*t[9]*t[14]*t[3]-t[12]*t[9]*t[2]*t[7]+t[8]*t[13]*t[2]*t[7]+t[12]*t[1]*t[10]*t[7]-t[0]*t[13]*t[10]*t[7]-t[8]*t[1]*t[14]*t[7]+t[0]*t[9]*t[14]*t[7]+t[12]*t[5]*t[2]*t[11]-t[4]*t[13]*t[2]*t[11]-t[12]*t[1]*t[6]*t[11]+t[0]*t[13]*t[6]*t[11]+t[4]*t[1]*t[14]*t[11]-t[0]*t[5]*t[14]*t[11]-t[8]*t[5]*t[2]*t[15]+t[4]*t[9]*t[2]*t[15]+t[8]*t[1]*t[6]*t[15]-t[0]*t[9]*t[6]*t[15]-t[4]*t[1]*t[10]*t[15]+t[0]*t[5]*t[10]*t[15]}invert(){const t=this.buffer,U=this.determinant();if(0===U)throw new Error("Matrix is not invertible.");const F=1/U;return new l(F*(t[5]*t[10]*t[15]-t[5]*t[11]*t[14]-t[9]*t[6]*t[15]+t[9]*t[7]*t[14]+t[13]*t[6]*t[11]-t[13]*t[7]*t[10]),F*(-t[1]*t[10]*t[15]+t[1]*t[11]*t[14]+t[9]*t[2]*t[15]-t[9]*t[3]*t[14]-t[13]*t[2]*t[11]+t[13]*t[3]*t[10]),F*(t[1]*t[6]*t[15]-t[1]*t[7]*t[14]-t[5]*t[2]*t[15]+t[5]*t[3]*t[14]+t[13]*t[2]*t[7]-t[13]*t[3]*t[6]),F*(-t[1]*t[6]*t[11]+t[1]*t[7]*t[10]+t[5]*t[2]*t[11]-t[5]*t[3]*t[10]-t[9]*t[2]*t[7]+t[9]*t[3]*t[6]),F*(-t[4]*t[10]*t[15]+t[4]*t[11]*t[14]+t[8]*t[6]*t[15]-t[8]*t[7]*t[14]-t[12]*t[6]*t[11]+t[12]*t[7]*t[10]),F*(t[0]*t[10]*t[15]-t[0]*t[11]*t[14]-t[8]*t[2]*t[15]+t[8]*t[3]*t[14]+t[12]*t[2]*t[11]-t[12]*t[3]*t[10]),F*(-t[0]*t[6]*t[15]+t[0]*t[7]*t[14]+t[4]*t[2]*t[15]-t[4]*t[3]*t[14]-t[12]*t[2]*t[7]+t[12]*t[3]*t[6]),F*(t[0]*t[6]*t[11]-t[0]*t[7]*t[10]-t[4]*t[2]*t[11]+t[4]*t[3]*t[10]+t[8]*t[2]*t[7]-t[8]*t[3]*t[6]),F*(t[4]*t[9]*t[15]-t[4]*t[11]*t[13]-t[8]*t[5]*t[15]+t[8]*t[7]*t[13]+t[12]*t[5]*t[11]-t[12]*t[7]*t[9]),F*(-t[0]*t[9]*t[15]+t[0]*t[11]*t[13]+t[8]*t[1]*t[15]-t[8]*t[3]*t[13]-t[12]*t[1]*t[11]+t[12]*t[3]*t[9]),F*(t[0]*t[5]*t[15]-t[0]*t[7]*t[13]-t[4]*t[1]*t[15]+t[4]*t[3]*t[13]+t[12]*t[1]*t[7]-t[12]*t[3]*t[5]),F*(-t[0]*t[5]*t[11]+t[0]*t[7]*t[9]+t[4]*t[1]*t[11]-t[4]*t[3]*t[9]-t[8]*t[1]*t[7]+t[8]*t[3]*t[5]),F*(-t[4]*t[9]*t[14]+t[4]*t[10]*t[13]+t[8]*t[5]*t[14]-t[8]*t[6]*t[13]-t[12]*t[5]*t[10]+t[12]*t[6]*t[9]),F*(t[0]*t[9]*t[14]-t[0]*t[10]*t[13]-t[8]*t[1]*t[14]+t[8]*t[2]*t[13]+t[12]*t[1]*t[10]-t[12]*t[2]*t[9]),F*(-t[0]*t[5]*t[14]+t[0]*t[6]*t[13]+t[4]*t[1]*t[14]-t[4]*t[2]*t[13]-t[12]*t[1]*t[6]+t[12]*t[2]*t[5]),F*(t[0]*t[5]*t[10]-t[0]*t[6]*t[9]-t[4]*t[1]*t[10]+t[4]*t[2]*t[9]+t[8]*t[1]*t[6]-t[8]*t[2]*t[5]))}static Compose(t,U,F){const n=U.x,Q=U.y,e=U.z,d=U.w,A=n+n,B=Q+Q,V=e+e,a=n*A,i=n*B,Z=n*V,R=Q*B,s=Q*V,c=e*V,o=d*A,r=d*B,h=d*V,W=F.x,I=F.y,m=F.z;return new l((1-(R+c))*W,(i+h)*W,(Z-r)*W,0,(i-h)*I,(1-(a+c))*I,(s+o)*I,0,(Z+r)*m,(s-o)*m,(1-(a+R))*m,0,t.x,t.y,t.z,1)}toString(){return`[${this.buffer.join(", ")}]`}}class n extends Event{constructor(t){super("objectAdded"),this.object=t}}class Q extends Event{constructor(t){super("objectRemoved"),this.object=t}}class e extends Event{constructor(t){super("objectChanged"),this.object=t}}class d extends F{constructor(){super(),this.positionChanged=!1,this.rotationChanged=!1,this.scaleChanged=!1,this._position=new t,this._rotation=new U,this._scale=new t(1,1,1),this._transform=new l,this._changeEvent=new e(this),this.update=()=>{},this.applyPosition=()=>{this.position=new t},this.applyRotation=()=>{this.rotation=new U},this.applyScale=()=>{this.scale=new t(1,1,1)},this.raiseChangeEvent=()=>{this.dispatchEvent(this._changeEvent)}}_updateMatrix(){this._transform=l.Compose(this._position,this._rotation,this._scale)}get position(){return this._position}set position(t){this._position.equals(t)||(this._position=t,this.positionChanged=!0,this._updateMatrix(),this.dispatchEvent(this._changeEvent))}get rotation(){return this._rotation}set rotation(t){this._rotation.equals(t)||(this._rotation=t,this.rotationChanged=!0,this._updateMatrix(),this.dispatchEvent(this._changeEvent))}get scale(){return this._scale}set scale(t){this._scale.equals(t)||(this._scale=t,this.scaleChanged=!0,this._updateMatrix(),this.dispatchEvent(this._changeEvent))}get forward(){let U=new t(0,0,1);return U=this.rotation.apply(U),U}get transform(){return this._transform}}class A{constructor(t=1,U=0,F=0,l=0,n=1,Q=0,e=0,d=0,A=1){this.buffer=[t,U,F,l,n,Q,e,d,A]}equals(t){if(this.buffer.length!==t.buffer.length)return!1;if(this.buffer===t.buffer)return!0;for(let U=0;U<this.buffer.length;U++)if(this.buffer[U]!==t.buffer[U])return!1;return!0}multiply(t){const U=this.buffer,F=t.buffer;return new A(F[0]*U[0]+F[3]*U[1]+F[6]*U[2],F[1]*U[0]+F[4]*U[1]+F[7]*U[2],F[2]*U[0]+F[5]*U[1]+F[8]*U[2],F[0]*U[3]+F[3]*U[4]+F[6]*U[5],F[1]*U[3]+F[4]*U[4]+F[7]*U[5],F[2]*U[3]+F[5]*U[4]+F[8]*U[5],F[0]*U[6]+F[3]*U[7]+F[6]*U[8],F[1]*U[6]+F[4]*U[7]+F[7]*U[8],F[2]*U[6]+F[5]*U[7]+F[8]*U[8])}clone(){const t=this.buffer;return new A(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}static Eye(t=1){return new A(t,0,0,0,t,0,0,0,t)}static Diagonal(t){return new A(t.x,0,0,0,t.y,0,0,0,t.z)}static RotationFromQuaternion(t){return new A(1-2*t.y*t.y-2*t.z*t.z,2*t.x*t.y-2*t.z*t.w,2*t.x*t.z+2*t.y*t.w,2*t.x*t.y+2*t.z*t.w,1-2*t.x*t.x-2*t.z*t.z,2*t.y*t.z-2*t.x*t.w,2*t.x*t.z-2*t.y*t.w,2*t.y*t.z+2*t.x*t.w,1-2*t.x*t.x-2*t.y*t.y)}static RotationFromEuler(t){const U=Math.cos(t.x),F=Math.sin(t.x),l=Math.cos(t.y),n=Math.sin(t.y),Q=Math.cos(t.z),e=Math.sin(t.z);return new A(...[l*Q+n*F*e,-l*e+n*F*Q,n*U,U*e,U*Q,-F,-n*Q+l*F*e,n*e+l*F*Q,l*U])}toString(){return`[${this.buffer.join(", ")}]`}}class B{constructor(t=0,F=null,l=null,n=null,Q=null){this.changed=!1,this.detached=!1,this._vertexCount=t,this._positions=F||new Float32Array(0),this._rotations=l||new Float32Array(0),this._scales=n||new Float32Array(0),this._colors=Q||new Uint8Array(0),this._selection=new Uint8Array(this.vertexCount),this.translate=t=>{for(let U=0;U<this.vertexCount;U++)this.positions[3*U+0]+=t.x,this.positions[3*U+1]+=t.y,this.positions[3*U+2]+=t.z;this.changed=!0},this.rotate=t=>{const F=A.RotationFromQuaternion(t).buffer;for(let l=0;l<this.vertexCount;l++){const n=this.positions[3*l+0],Q=this.positions[3*l+1],e=this.positions[3*l+2];this.positions[3*l+0]=F[0]*n+F[1]*Q+F[2]*e,this.positions[3*l+1]=F[3]*n+F[4]*Q+F[5]*e,this.positions[3*l+2]=F[6]*n+F[7]*Q+F[8]*e;const d=new U(this.rotations[4*l+1],this.rotations[4*l+2],this.rotations[4*l+3],this.rotations[4*l+0]),A=t.multiply(d);this.rotations[4*l+1]=A.x,this.rotations[4*l+2]=A.y,this.rotations[4*l+3]=A.z,this.rotations[4*l+0]=A.w}this.changed=!0},this.scale=t=>{for(let U=0;U<this.vertexCount;U++)this.positions[3*U+0]*=t.x,this.positions[3*U+1]*=t.y,this.positions[3*U+2]*=t.z,this.scales[3*U+0]*=t.x,this.scales[3*U+1]*=t.y,this.scales[3*U+2]*=t.z;this.changed=!0},this.serialize=()=>{const t=new Uint8Array(this.vertexCount*B.RowLength),U=new Float32Array(t.buffer),F=new Uint8Array(t.buffer);for(let t=0;t<this.vertexCount;t++)U[8*t+0]=this.positions[3*t+0],U[8*t+1]=this.positions[3*t+1],U[8*t+2]=this.positions[3*t+2],F[32*t+24+0]=this.colors[4*t+0],F[32*t+24+1]=this.colors[4*t+1],F[32*t+24+2]=this.colors[4*t+2],F[32*t+24+3]=this.colors[4*t+3],U[8*t+3+0]=this.scales[3*t+0],U[8*t+3+1]=this.scales[3*t+1],U[8*t+3+2]=this.scales[3*t+2],F[32*t+28+0]=128*this.rotations[4*t+0]+128&255,F[32*t+28+1]=128*this.rotations[4*t+1]+128&255,F[32*t+28+2]=128*this.rotations[4*t+2]+128&255,F[32*t+28+3]=128*this.rotations[4*t+3]+128&255;return t},this.reattach=(t,U,F,l,n)=>{console.assert(t.byteLength===3*this.vertexCount*4,`Expected ${3*this.vertexCount*4} bytes, got ${t.byteLength} bytes`),this._positions=new Float32Array(t),this._rotations=new Float32Array(U),this._scales=new Float32Array(F),this._colors=new Uint8Array(l),this._selection=new Uint8Array(n),this.detached=!1}}static Deserialize(t){const U=t.length/B.RowLength,F=new Float32Array(3*U),l=new Float32Array(4*U),n=new Float32Array(3*U),Q=new Uint8Array(4*U),e=new Float32Array(t.buffer),d=new Uint8Array(t.buffer);for(let t=0;t<U;t++)F[3*t+0]=e[8*t+0],F[3*t+1]=e[8*t+1],F[3*t+2]=e[8*t+2],l[4*t+0]=(d[32*t+28+0]-128)/128,l[4*t+1]=(d[32*t+28+1]-128)/128,l[4*t+2]=(d[32*t+28+2]-128)/128,l[4*t+3]=(d[32*t+28+3]-128)/128,n[3*t+0]=e[8*t+3+0],n[3*t+1]=e[8*t+3+1],n[3*t+2]=e[8*t+3+2],Q[4*t+0]=d[32*t+24+0],Q[4*t+1]=d[32*t+24+1],Q[4*t+2]=d[32*t+24+2],Q[4*t+3]=d[32*t+24+3];return new B(U,F,l,n,Q)}get vertexCount(){return this._vertexCount}get positions(){return this._positions}get rotations(){return this._rotations}get scales(){return this._scales}get colors(){return this._colors}get selection(){return this._selection}clone(){return new B(this.vertexCount,new Float32Array(this.positions),new Float32Array(this.rotations),new Float32Array(this.scales),new Uint8Array(this.colors))}}B.RowLength=32;class V{constructor(t,U,F,l,n){this._vertexCount=t,this._positions=U,this._data=F,this._width=l,this._height=n,this.serialize=()=>new Uint8Array(this._data.buffer)}static Deserialize(t,U,F){const l=new Uint32Array(t.buffer),n=new Float32Array(t.buffer),Q=Math.floor(n.byteLength/this.RowLength),e=new Float32Array(3*Q);for(let t=0;t<Q;t++)e[3*t+0]=n[16*t+0],e[3*t+1]=n[16*t+1],e[3*t+2]=n[16*t+2],e[3*t+0]=n[16*t+3];return new V(Q,e,l,U,F)}get vertexCount(){return this._vertexCount}get positions(){return this._positions}get data(){return this._data}get width(){return this._width}get height(){return this._height}}V.RowLength=64;class a{static SplatToPLY(t,F){let l="ply\nformat binary_little_endian 1.0\n";l+=`element vertex ${F}\n`;const n=["x","y","z","nx","ny","nz","f_dc_0","f_dc_1","f_dc_2"];for(let t=0;t<45;t++)n.push(`f_rest_${t}`);n.push("opacity"),n.push("scale_0"),n.push("scale_1"),n.push("scale_2"),n.push("rot_0"),n.push("rot_1"),n.push("rot_2"),n.push("rot_3");for(const t of n)l+=`property float ${t}\n`;l+="end_header\n";const Q=(new TextEncoder).encode(l),e=248,d=F*e,A=new DataView(new ArrayBuffer(Q.length+d));new Uint8Array(A.buffer).set(Q,0);const B=new Float32Array(t),V=new Uint8Array(t),a=Q.length,i=220,Z=232;for(let t=0;t<F;t++){const F=B[8*t+0],l=B[8*t+1],n=B[8*t+2],Q=(V[32*t+24+0]/255-.5)/this.SH_C0,d=(V[32*t+24+1]/255-.5)/this.SH_C0,R=(V[32*t+24+2]/255-.5)/this.SH_C0,s=V[32*t+24+3]/255,c=Math.log(s/(1-s)),o=Math.log(B[8*t+3+0]),r=Math.log(B[8*t+3+1]),h=Math.log(B[8*t+3+2]);let W=new U((V[32*t+28+1]-128)/128,(V[32*t+28+2]-128)/128,(V[32*t+28+3]-128)/128,(V[32*t+28+0]-128)/128);W=W.normalize();const I=W.w,m=W.x,J=W.y,g=W.z;A.setFloat32(a+e*t+0,F,!0),A.setFloat32(a+e*t+4,l,!0),A.setFloat32(a+e*t+8,n,!0),A.setFloat32(a+e*t+24+0,Q,!0),A.setFloat32(a+e*t+24+4,d,!0),A.setFloat32(a+e*t+24+8,R,!0),A.setFloat32(a+e*t+216,c,!0),A.setFloat32(a+e*t+i+0,o,!0),A.setFloat32(a+e*t+i+4,r,!0),A.setFloat32(a+e*t+i+8,h,!0),A.setFloat32(a+e*t+Z+0,I,!0),A.setFloat32(a+e*t+Z+4,m,!0),A.setFloat32(a+e*t+Z+8,J,!0),A.setFloat32(a+e*t+Z+12,g,!0)}return A.buffer}}a.SH_C0=.28209479177387814;class i{constructor(t,U){this.min=t,this.max=U}contains(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y&&t.z>=this.min.z&&t.z<=this.max.z}intersects(t){return this.max.x>=t.min.x&&this.min.x<=t.max.x&&this.max.y>=t.min.y&&this.min.y<=t.max.y&&this.max.z>=t.min.z&&this.min.z<=t.max.z}size(){return this.max.subtract(this.min)}center(){return this.min.add(this.max).divide(2)}expand(t){this.min=this.min.min(t),this.max=this.max.max(t)}permute(){const U=this.min,F=this.max;this.min=new t(Math.min(U.x,F.x),Math.min(U.y,F.y),Math.min(U.z,F.z)),this.max=new t(Math.max(U.x,F.x),Math.max(U.y,F.y),Math.max(U.z,F.z))}}class Z extends d{constructor(F=void 0){super(),this.selectedChanged=!1,this.colorTransformChanged=!1,this._selected=!1,this._colorTransforms=[],this._colorTransformsMap=new Map,this._data=F||new B,this._bounds=new i(new t(1/0,1/0,1/0),new t(-1/0,-1/0,-1/0)),this.recalculateBounds=()=>{this._bounds=new i(new t(1/0,1/0,1/0),new t(-1/0,-1/0,-1/0));for(let U=0;U<this._data.vertexCount;U++)this._bounds.expand(new t(this._data.positions[3*U],this._data.positions[3*U+1],this._data.positions[3*U+2]))},this.applyPosition=()=>{this.data.translate(this.position),this.position=new t},this.applyRotation=()=>{this.data.rotate(this.rotation),this.rotation=new U},this.applyScale=()=>{this.data.scale(this.scale),this.scale=new t(1,1,1)},this.recalculateBounds()}saveToFile(t=null,U="splat"){if(!document)return;if(!t){const F=new Date;t=`splat-${F.getFullYear()}-${F.getMonth()+1}-${F.getDate()}.${U}`}const F=this.clone();F.applyRotation(),F.applyScale(),F.applyPosition();const l=F.data.serialize();let n;if("ply"===U){const t=a.SplatToPLY(l.buffer,F.data.vertexCount);n=new Blob([t],{type:"application/octet-stream"})}else n=new Blob([l.buffer],{type:"application/octet-stream"});const Q=document.createElement("a");Q.download=t,Q.href=URL.createObjectURL(n),Q.click()}get data(){return this._data}get selected(){return this._selected}set selected(t){this._selected!==t&&(this._selected=t,this.selectedChanged=!0,this.dispatchEvent(this._changeEvent))}get colorTransforms(){return this._colorTransforms}get colorTransformsMap(){return this._colorTransformsMap}get bounds(){let t=this._bounds.center();t=t.add(this.position);let U=this._bounds.size();return U=U.multiply(this.scale),new i(t.subtract(U.divide(2)),t.add(U.divide(2)))}clone(){const t=new Z(this.data.clone());return t.position=this.position.clone(),t.rotation=this.rotation.clone(),t.scale=this.scale.clone(),t}}class R extends d{constructor(t){super(),this._data=t}get data(){return this._data}}class s{constructor(){this._fx=1132,this._fy=1132,this._near=.1,this._far=100,this._width=512,this._height=512,this._projectionMatrix=new l,this._viewMatrix=new l,this._viewProj=new l,this._updateProjectionMatrix=()=>{this._projectionMatrix=new l(2*this.fx/this.width,0,0,0,0,-2*this.fy/this.height,0,0,0,0,this.far/(this.far-this.near),1,0,0,-this.far*this.near/(this.far-this.near),0),this._viewProj=this.projectionMatrix.multiply(this.viewMatrix)},this.update=(t,U)=>{const F=A.RotationFromQuaternion(U).buffer,n=t.flat();this._viewMatrix=new l(F[0],F[1],F[2],0,F[3],F[4],F[5],0,F[6],F[7],F[8],0,-n[0]*F[0]-n[1]*F[3]-n[2]*F[6],-n[0]*F[1]-n[1]*F[4]-n[2]*F[7],-n[0]*F[2]-n[1]*F[5]-n[2]*F[8],1),this._viewProj=this.projectionMatrix.multiply(this.viewMatrix)},this.setSize=(t,U)=>{this._width=t,this._height=U,this._updateProjectionMatrix()}}get fx(){return this._fx}set fx(t){this._fx!==t&&(this._fx=t,this._updateProjectionMatrix())}get fy(){return this._fy}set fy(t){this._fy!==t&&(this._fy=t,this._updateProjectionMatrix())}get near(){return this._near}set near(t){this._near!==t&&(this._near=t,this._updateProjectionMatrix())}get far(){return this._far}set far(t){this._far!==t&&(this._far=t,this._updateProjectionMatrix())}get width(){return this._width}get height(){return this._height}get projectionMatrix(){return this._projectionMatrix}get viewMatrix(){return this._viewMatrix}get viewProj(){return this._viewProj}}class c{constructor(t=0,U=0,F=0,l=0){this.x=t,this.y=U,this.z=F,this.w=l}equals(t){return this.x===t.x&&(this.y===t.y&&(this.z===t.z&&this.w===t.w))}add(t){return"number"==typeof t?new c(this.x+t,this.y+t,this.z+t,this.w+t):new c(this.x+t.x,this.y+t.y,this.z+t.z,this.w+t.w)}subtract(t){return"number"==typeof t?new c(this.x-t,this.y-t,this.z-t,this.w-t):new c(this.x-t.x,this.y-t.y,this.z-t.z,this.w-t.w)}multiply(t){return"number"==typeof t?new c(this.x*t,this.y*t,this.z*t,this.w*t):t instanceof c?new c(this.x*t.x,this.y*t.y,this.z*t.z,this.w*t.w):new c(this.x*t.buffer[0]+this.y*t.buffer[4]+this.z*t.buffer[8]+this.w*t.buffer[12],this.x*t.buffer[1]+this.y*t.buffer[5]+this.z*t.buffer[9]+this.w*t.buffer[13],this.x*t.buffer[2]+this.y*t.buffer[6]+this.z*t.buffer[10]+this.w*t.buffer[14],this.x*t.buffer[3]+this.y*t.buffer[7]+this.z*t.buffer[11]+this.w*t.buffer[15])}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lerp(t,U){return new c(this.x+(t.x-this.x)*U,this.y+(t.y-this.y)*U,this.z+(t.z-this.z)*U,this.w+(t.w-this.w)*U)}magnitude(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}distanceTo(t){return Math.sqrt((this.x-t.x)**2+(this.y-t.y)**2+(this.z-t.z)**2+(this.w-t.w)**2)}normalize(){const t=this.magnitude();return new c(this.x/t,this.y/t,this.z/t,this.w/t)}flat(){return[this.x,this.y,this.z,this.w]}clone(){return new c(this.x,this.y,this.z,this.w)}toString(){return`[${this.flat().join(", ")}]`}}class o extends d{constructor(U=void 0){super(),this._data=U||new s,this._position=new t(0,0,-5),this.update=()=>{this.data.update(this.position,this.rotation)},this.screenPointToRay=(U,F)=>{const l=new c(U,F,-1,1),n=this._data.projectionMatrix.invert(),Q=l.multiply(n),e=this._data.viewMatrix.invert(),d=Q.multiply(e);return new t(d.x/d.w,d.y/d.w,d.z/d.w).subtract(this.position).normalize()}}get data(){return this._data}}class r extends F{constructor(){super(),this._objects=[],this.addObject=t=>{this.objects.push(t),this.dispatchEvent(new n(t))},this.removeObject=t=>{const U=this.objects.indexOf(t);if(U<0)throw new Error("Object not found in scene");this.objects.splice(U,1),this.dispatchEvent(new Q(t))},this.findObject=t=>{for(const U of this.objects)if(t(U))return U},this.findObjectOfType=t=>{for(const U of this.objects)if(U instanceof t)return U},this.reset=()=>{const t=this.objects.slice();for(const U of t)this.removeObject(U)},this.reset()}getMergedSceneDataBuffer(t="splat"){const U=[];let F=0;for(const t of this.objects)if(t instanceof Z){const l=t.clone();l.applyRotation(),l.applyScale(),l.applyPosition();const n=l.data.serialize();U.push(n),F+=l.data.vertexCount}const l=new Uint8Array(F*B.RowLength);let n=0;for(const t of U)l.set(t,n),n+=t.length;return"ply"===t?a.SplatToPLY(l.buffer,F):l.buffer}saveToFile(t=null,U="splat"){if(!document)return;if(!t){const F=new Date;t=`scene-${F.getFullYear()}-${F.getMonth()+1}-${F.getDate()}.${U}`}const F=this.getMergedSceneDataBuffer(U),l=new Blob([F],{type:"application/octet-stream"}),n=document.createElement("a");n.download=t,n.href=URL.createObjectURL(l),n.click()}get objects(){return this._objects}}async function h(t,U){const F=await fetch(t,{mode:"cors",credentials:"omit",cache:U?"force-cache":"default"});if(200!=F.status)throw new Error(F.status+" Unable to load "+F.url);return F}async function W(t,U){return t.headers.has("content-length")?async function(t,U){const F=t.body.getReader(),l=parseInt(t.headers.get("content-length")),n=new Uint8Array(l);let Q=0;for(;;){const{done:t,value:e}=await F.read();if(t)break;n.set(e,Q),Q+=e.length,null==U||U(Q/l)}return n}(t,U):async function(t,U){const F=t.body.getReader(),l=[];let n=0;for(;;){const{done:t,value:U}=await F.read();if(t)break;l.push(U),n+=U.length}const Q=new Uint8Array(n);let e=0;for(const t of l)Q.set(t,e),e+=t.length,null==U||U(e/n);return Q}(t,U)}class I{static async LoadAsync(t,U,F,l=!1){const n=await h(t,l),Q=await W(n,F);return this.LoadFromArrayBuffer(Q,U)}static async LoadFromFileAsync(t,U,F){const l=new FileReader;let n=new Z;return l.onload=t=>{n=this.LoadFromArrayBuffer(t.target.result,U)},l.onprogress=t=>{null==F||F(t.loaded/t.total)},l.readAsArrayBuffer(t),await new Promise((t=>{l.onloadend=()=>{t()}})),n}static LoadFromArrayBuffer(t,U){const F=new Uint8Array(t),l=B.Deserialize(F),n=new Z(l);return U.addObject(n),n}}class m{static async LoadAsync(t,U,F,l="",n=!1){const Q=await h(t,n),e=await W(Q,F);if(112!==e[0]||108!==e[1]||121!==e[2]||10!==e[3])throw new Error("Invalid PLY file");return this.LoadFromArrayBuffer(e.buffer,U,l)}static async LoadFromFileAsync(t,U,F,l=""){const n=new FileReader;let Q=new Z;return n.onload=t=>{Q=this.LoadFromArrayBuffer(t.target.result,U,l)},n.onprogress=t=>{null==F||F(t.loaded/t.total)},n.readAsArrayBuffer(t),await new Promise((t=>{n.onloadend=()=>{t()}})),Q}static LoadFromArrayBuffer(t,U,F=""){const l=new Uint8Array(this._ParsePLYBuffer(t,F)),n=B.Deserialize(l),Q=new Z(n);return U.addObject(Q),Q}static _ParsePLYBuffer(F,l){const n=new Uint8Array(F),Q=(new TextDecoder).decode(n.slice(0,10240)),e="end_header\n",d=Q.indexOf(e);if(d<0)throw new Error("Unable to read .ply file header");const A=parseInt(/element vertex (\d+)\n/.exec(Q)[1]);let V=0;const i={double:8,int:4,uint:4,float:4,short:2,ushort:2,uchar:1},Z=[];for(const t of Q.slice(0,d).split("\n").filter((t=>t.startsWith("property ")))){const[U,F,l]=t.split(" ");if(Z.push({name:l,type:F,offset:V}),!i[F])throw new Error(`Unsupported property type: ${F}`);V+=i[F]}const R=new DataView(F,d+11),s=new ArrayBuffer(B.RowLength*A),c=U.FromEuler(new t(Math.PI/2,0,0));for(let t=0;t<A;t++){const F=new Float32Array(s,t*B.RowLength,3),n=new Float32Array(s,t*B.RowLength+12,3),Q=new Uint8ClampedArray(s,t*B.RowLength+24,4),e=new Uint8ClampedArray(s,t*B.RowLength+28,4);let d=255,A=0,i=0,o=0;Z.forEach((U=>{let l;switch(U.type){case"float":l=R.getFloat32(U.offset+t*V,!0);break;case"int":l=R.getInt32(U.offset+t*V,!0);break;default:throw new Error(`Unsupported property type: ${U.type}`)}switch(U.name){case"x":F[0]=l;break;case"y":F[1]=l;break;case"z":F[2]=l;break;case"scale_0":case"scaling_0":n[0]=Math.exp(l);break;case"scale_1":case"scaling_1":n[1]=Math.exp(l);break;case"scale_2":case"scaling_2":n[2]=Math.exp(l);break;case"red":Q[0]=l;break;case"green":Q[1]=l;break;case"blue":Q[2]=l;break;case"f_dc_0":case"features_0":Q[0]=255*(.5+a.SH_C0*l);break;case"f_dc_1":case"features_1":Q[1]=255*(.5+a.SH_C0*l);break;case"f_dc_2":case"features_2":Q[2]=255*(.5+a.SH_C0*l);break;case"f_dc_3":Q[3]=255*(.5+a.SH_C0*l);break;case"opacity":case"opacity_0":Q[3]=1/(1+Math.exp(-l))*255;break;case"rot_0":case"rotation_0":d=l;break;case"rot_1":case"rotation_1":A=l;break;case"rot_2":case"rotation_2":i=l;break;case"rot_3":case"rotation_3":o=l}}));let r=new U(A,i,o,d);switch(l){case"polycam":{const t=F[1];F[1]=-F[2],F[2]=t,r=c.multiply(r);break}case"":break;default:throw new Error(`Unsupported format: ${l}`)}r=r.normalize(),e[0]=128*r.w+128,e[1]=128*r.x+128,e[2]=128*r.y+128,e[3]=128*r.z+128}return s}}class J{static async LoadAsync(t,U,F,l,n=!1){const Q=await h(t,n),e=await W(Q,l);return this._ParseSplatvBuffer(e.buffer,U,F)}static async LoadFromFileAsync(t,U,F,l){const n=new FileReader;let Q=null;if(n.onload=t=>{Q=this._ParseSplatvBuffer(t.target.result,U,F)},n.onprogress=t=>{null==l||l(t.loaded/t.total)},n.readAsArrayBuffer(t),await new Promise((t=>{n.onloadend=()=>{t()}})),!Q)throw new Error("Failed to load splatv file");return Q}static _ParseSplatvBuffer(F,l,n){let Q=null;const e=(F,e,d)=>{if("magic"===F.type){const t=new Int32Array(e.buffer);if(26443!==t[0])throw new Error("Invalid splatv file");d.push({size:t[1],type:"chunks"})}else if("chunks"===F.type){const F=JSON.parse(new TextDecoder("utf-8").decode(e));if(0==F.length)throw new Error("Invalid splatv file");F.length>1&&console.warn("Splatv file contains more than one chunk, only the first one will be loaded");const l=F[0],Q=l.cameras;if(n&&Q&&Q.length){const F=Q[0],l=new t(F.position[0],F.position[1],F.position[2]),e=U.FromMatrix3(new A(F.rotation[0][0],F.rotation[0][1],F.rotation[0][2],F.rotation[1][0],F.rotation[1][1],F.rotation[1][2],F.rotation[2][0],F.rotation[2][1],F.rotation[2][2]));n.position=l,n.rotation=e}d.push(l)}else if("splat"===F.type){const t=V.Deserialize(e,F.texwidth,F.texheight),U=new R(t);l.addObject(U),Q=U}},d=new Uint8Array(F),B=[{size:8,type:"magic",texwidth:0,texheight:0}];let a=B.shift(),i=new Uint8Array(a.size),Z=0,s=0;for(;a;){for(;Z<a.size;){const t=Math.min(a.size-Z,d.length-s);i.set(d.subarray(s,s+t),Z),Z+=t,s+=t}if(e(a,i,B),Q)return Q;a=B.shift(),a&&(i=new Uint8Array(a.size),Z=0)}throw new Error("Invalid splatv file")}}function g(t,U,F){var l=function(t){return atob(t)}(t),n=l.indexOf("\n",10)+1,Q=l.substring(n)+"",e=new Blob([Q],{type:"application/javascript"});return URL.createObjectURL(e)}function b(t,U,F){var l;return function(U){return l=l||g(t),new Worker(l,U)}}var C=b("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKCiAgdmFyIGxvYWRXYXNtID0gKCgpID0+IHsKICAgIAogICAgcmV0dXJuICgKICBmdW5jdGlvbihtb2R1bGVBcmcgPSB7fSkgewogICAgdmFyIG1vZHVsZVJ0bjsKCiAgdmFyIE1vZHVsZT1tb2R1bGVBcmc7dmFyIHJlYWR5UHJvbWlzZVJlc29sdmUscmVhZHlQcm9taXNlUmVqZWN0O3ZhciByZWFkeVByb21pc2U9bmV3IFByb21pc2UoKHJlc29sdmUscmVqZWN0KT0+e3JlYWR5UHJvbWlzZVJlc29sdmU9cmVzb2x2ZTtyZWFkeVByb21pc2VSZWplY3Q9cmVqZWN0O30pO3ZhciBtb2R1bGVPdmVycmlkZXM9T2JqZWN0LmFzc2lnbih7fSxNb2R1bGUpO3ZhciBzY3JpcHREaXJlY3Rvcnk9IiI7dmFyIHJlYWRCaW5hcnk7e3tzY3JpcHREaXJlY3Rvcnk9c2VsZi5sb2NhdGlvbi5ocmVmO31pZihzY3JpcHREaXJlY3Rvcnkuc3RhcnRzV2l0aCgiYmxvYjoiKSl7c2NyaXB0RGlyZWN0b3J5PSIiO31lbHNlIHtzY3JpcHREaXJlY3Rvcnk9c2NyaXB0RGlyZWN0b3J5LnN1YnN0cigwLHNjcmlwdERpcmVjdG9yeS5yZXBsYWNlKC9bPyNdLiovLCIiKS5sYXN0SW5kZXhPZigiLyIpKzEpO317e3JlYWRCaW5hcnk9dXJsPT57dmFyIHhocj1uZXcgWE1MSHR0cFJlcXVlc3Q7eGhyLm9wZW4oIkdFVCIsdXJsLGZhbHNlKTt4aHIucmVzcG9uc2VUeXBlPSJhcnJheWJ1ZmZlciI7eGhyLnNlbmQobnVsbCk7cmV0dXJuIG5ldyBVaW50OEFycmF5KHhoci5yZXNwb25zZSl9O319fU1vZHVsZVsicHJpbnQiXXx8Y29uc29sZS5sb2cuYmluZChjb25zb2xlKTt2YXIgZXJyPU1vZHVsZVsicHJpbnRFcnIiXXx8Y29uc29sZS5lcnJvci5iaW5kKGNvbnNvbGUpO09iamVjdC5hc3NpZ24oTW9kdWxlLG1vZHVsZU92ZXJyaWRlcyk7bW9kdWxlT3ZlcnJpZGVzPW51bGw7aWYoTW9kdWxlWyJhcmd1bWVudHMiXSlNb2R1bGVbImFyZ3VtZW50cyJdO2lmKE1vZHVsZVsidGhpc1Byb2dyYW0iXSlNb2R1bGVbInRoaXNQcm9ncmFtIl07dmFyIHdhc21CaW5hcnk9TW9kdWxlWyJ3YXNtQmluYXJ5Il07ZnVuY3Rpb24gaW50QXJyYXlGcm9tQmFzZTY0KHMpe3ZhciBkZWNvZGVkPWF0b2Iocyk7dmFyIGJ5dGVzPW5ldyBVaW50OEFycmF5KGRlY29kZWQubGVuZ3RoKTtmb3IodmFyIGk9MDtpPGRlY29kZWQubGVuZ3RoOysraSl7Ynl0ZXNbaV09ZGVjb2RlZC5jaGFyQ29kZUF0KGkpO31yZXR1cm4gYnl0ZXN9ZnVuY3Rpb24gdHJ5UGFyc2VBc0RhdGFVUkkoZmlsZW5hbWUpe2lmKCFpc0RhdGFVUkkoZmlsZW5hbWUpKXtyZXR1cm59cmV0dXJuIGludEFycmF5RnJvbUJhc2U2NChmaWxlbmFtZS5zbGljZShkYXRhVVJJUHJlZml4Lmxlbmd0aCkpfXZhciB3YXNtTWVtb3J5O3ZhciBBQk9SVD1mYWxzZTt2YXIgSEVBUDgsSEVBUFU4LEhFQVAxNixIRUFQVTE2LEhFQVAzMixIRUFQVTMyLEhFQVBGMzIsSEVBUEY2NDtmdW5jdGlvbiB1cGRhdGVNZW1vcnlWaWV3cygpe3ZhciBiPXdhc21NZW1vcnkuYnVmZmVyO01vZHVsZVsiSEVBUDgiXT1IRUFQOD1uZXcgSW50OEFycmF5KGIpO01vZHVsZVsiSEVBUDE2Il09SEVBUDE2PW5ldyBJbnQxNkFycmF5KGIpO01vZHVsZVsiSEVBUFU4Il09SEVBUFU4PW5ldyBVaW50OEFycmF5KGIpO01vZHVsZVsiSEVBUFUxNiJdPUhFQVBVMTY9bmV3IFVpbnQxNkFycmF5KGIpO01vZHVsZVsiSEVBUDMyIl09SEVBUDMyPW5ldyBJbnQzMkFycmF5KGIpO01vZHVsZVsiSEVBUFUzMiJdPUhFQVBVMzI9bmV3IFVpbnQzMkFycmF5KGIpO01vZHVsZVsiSEVBUEYzMiJdPUhFQVBGMzI9bmV3IEZsb2F0MzJBcnJheShiKTtNb2R1bGVbIkhFQVBGNjQiXT1IRUFQRjY0PW5ldyBGbG9hdDY0QXJyYXkoYik7fXZhciBfX0FUUFJFUlVOX189W107dmFyIF9fQVRJTklUX189W107dmFyIF9fQVRQT1NUUlVOX189W107ZnVuY3Rpb24gcHJlUnVuKCl7aWYoTW9kdWxlWyJwcmVSdW4iXSl7aWYodHlwZW9mIE1vZHVsZVsicHJlUnVuIl09PSJmdW5jdGlvbiIpTW9kdWxlWyJwcmVSdW4iXT1bTW9kdWxlWyJwcmVSdW4iXV07d2hpbGUoTW9kdWxlWyJwcmVSdW4iXS5sZW5ndGgpe2FkZE9uUHJlUnVuKE1vZHVsZVsicHJlUnVuIl0uc2hpZnQoKSk7fX1jYWxsUnVudGltZUNhbGxiYWNrcyhfX0FUUFJFUlVOX18pO31mdW5jdGlvbiBpbml0UnVudGltZSgpe2NhbGxSdW50aW1lQ2FsbGJhY2tzKF9fQVRJTklUX18pO31mdW5jdGlvbiBwb3N0UnVuKCl7aWYoTW9kdWxlWyJwb3N0UnVuIl0pe2lmKHR5cGVvZiBNb2R1bGVbInBvc3RSdW4iXT09ImZ1bmN0aW9uIilNb2R1bGVbInBvc3RSdW4iXT1bTW9kdWxlWyJwb3N0UnVuIl1dO3doaWxlKE1vZHVsZVsicG9zdFJ1biJdLmxlbmd0aCl7YWRkT25Qb3N0UnVuKE1vZHVsZVsicG9zdFJ1biJdLnNoaWZ0KCkpO319Y2FsbFJ1bnRpbWVDYWxsYmFja3MoX19BVFBPU1RSVU5fXyk7fWZ1bmN0aW9uIGFkZE9uUHJlUnVuKGNiKXtfX0FUUFJFUlVOX18udW5zaGlmdChjYik7fWZ1bmN0aW9uIGFkZE9uSW5pdChjYil7X19BVElOSVRfXy51bnNoaWZ0KGNiKTt9ZnVuY3Rpb24gYWRkT25Qb3N0UnVuKGNiKXtfX0FUUE9TVFJVTl9fLnVuc2hpZnQoY2IpO312YXIgcnVuRGVwZW5kZW5jaWVzPTA7dmFyIGRlcGVuZGVuY2llc0Z1bGZpbGxlZD1udWxsO2Z1bmN0aW9uIGFkZFJ1bkRlcGVuZGVuY3koaWQpe3J1bkRlcGVuZGVuY2llcysrO01vZHVsZVsibW9uaXRvclJ1bkRlcGVuZGVuY2llcyJdPy4ocnVuRGVwZW5kZW5jaWVzKTt9ZnVuY3Rpb24gcmVtb3ZlUnVuRGVwZW5kZW5jeShpZCl7cnVuRGVwZW5kZW5jaWVzLS07TW9kdWxlWyJtb25pdG9yUnVuRGVwZW5kZW5jaWVzIl0/LihydW5EZXBlbmRlbmNpZXMpO2lmKHJ1bkRlcGVuZGVuY2llcz09MCl7aWYoZGVwZW5kZW5jaWVzRnVsZmlsbGVkKXt2YXIgY2FsbGJhY2s9ZGVwZW5kZW5jaWVzRnVsZmlsbGVkO2RlcGVuZGVuY2llc0Z1bGZpbGxlZD1udWxsO2NhbGxiYWNrKCk7fX19ZnVuY3Rpb24gYWJvcnQod2hhdCl7TW9kdWxlWyJvbkFib3J0Il0/Lih3aGF0KTt3aGF0PSJBYm9ydGVkKCIrd2hhdCsiKSI7ZXJyKHdoYXQpO0FCT1JUPXRydWU7d2hhdCs9Ii4gQnVpbGQgd2l0aCAtc0FTU0VSVElPTlMgZm9yIG1vcmUgaW5mby4iO3ZhciBlPW5ldyBXZWJBc3NlbWJseS5SdW50aW1lRXJyb3Iod2hhdCk7cmVhZHlQcm9taXNlUmVqZWN0KGUpO3Rocm93IGV9dmFyIGRhdGFVUklQcmVmaXg9ImRhdGE6YXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtO2Jhc2U2NCwiO3ZhciBpc0RhdGFVUkk9ZmlsZW5hbWU9PmZpbGVuYW1lLnN0YXJ0c1dpdGgoZGF0YVVSSVByZWZpeCk7ZnVuY3Rpb24gZmluZFdhc21CaW5hcnkoKXt2YXIgZj0iZGF0YTphcHBsaWNhdGlvbi9vY3RldC1zdHJlYW07YmFzZTY0LEFHRnpiUUVBQUFBQldnMWdCSDkvZjM4QVlBTi9mMzhBWUFWL2YzOS9md0JnQm45L2YzOS9md0JnQVg4QVlBRi9BWDlnQTM5L2Z3Ri9ZQUovZndCZ0FBQmdCMzkvZjM5L2YzOEFZQUovZndGL1lBUi9mMzUrQUdBSmYzOS9mMzkvZjM5L0FBSTlDZ0ZoQVdFQUFRRmhBV0lBQWdGaEFXTUFBUUZoQVdRQUJ3RmhBV1VBQVFGaEFXWUFDUUZoQVdjQUJBRmhBV2dBQUFGaEFXa0FCd0ZoQVdvQUJRTVlGd1lGQ2dRSUJBc0lBUUFCQkFVRkF3TUNBZ0FBQmdZTUJBVUJjQUVRRUFVSEFRR0NBb0NBQWdZSUFYOEJRZENkQkFzSEdRWUJhd0lBQVd3QURnRnRBQ0FCYmdFQUFXOEFGd0Z3QUE4SkZRRUFRUUVMRHhZTkZSVWZEUjRZR2gwTkdSc2NFUXEzU2hkeEFRRi9JQUpGQkVBZ0FDZ0NCQ0FCS0FJRVJnOExJQUFnQVVZRVFFRUJEd3NDUUNBQUtBSUVJZ0l0QUFBaUFFVWdBQ0FCS0FJRUlnRXRBQUFpQTBkeURRQURRQ0FCTFFBQklRTWdBaTBBQVNJQVJRMEJJQUZCQVdvaEFTQUNRUUZxSVFJZ0FDQURSZzBBQ3dzZ0FDQURSZ3RQQVFKL1FjZ1pLQUlBSWdFZ0FFRUhha0Y0Y1NJQ2FpRUFBa0FnQWtFQUlBQWdBVTBiUlFSQUlBQS9BRUVRZEUwTkFTQUFFQWtOQVF0QnpCbEJNRFlDQUVGL0R3dEJ5QmtnQURZQ0FDQUJDeWtCQVg4Z0FRUkFJQUFoQWdOQUlBSkJBRG9BQUNBQ1FRRnFJUUlnQVVFQmF5SUJEUUFMQ3lBQUN3WUFJQUFRRHdzcEFFSEVIVUVQTmdJQVFjZ2RRUUEyQWdBUUVVSElIVUhBSFNnQ0FEWUNBRUhBSFVIRUhUWUNBQXZoQ3dFSGZ3SkFJQUJGRFFBZ0FFRUlheUlESUFCQkJHc29BZ0FpQWtGNGNTSUFhaUVGQWtBZ0FrRUJjUTBBSUFKQkFuRkZEUUVnQXlBREtBSUFJZ1JySWdOQjRCa29BZ0JKRFFFZ0FDQUVhaUVBQWtBQ1FBSkFRZVFaS0FJQUlBTkhCRUFnQXlnQ0RDRUJJQVJCL3dGTkJFQWdBU0FES0FJSUlnSkhEUUpCMEJsQjBCa29BZ0JCZmlBRVFRTjJkM0UyQWdBTUJRc2dBeWdDR0NFR0lBRWdBMGNFUUNBREtBSUlJZ0lnQVRZQ0RDQUJJQUkyQWdnTUJBc2dBeWdDRkNJQ0JIOGdBMEVVYWdVZ0F5Z0NFQ0lDUlEwRElBTkJFR29MSVFRRFFDQUVJUWNnQWlJQlFSUnFJUVFnQVNnQ0ZDSUNEUUFnQVVFUWFpRUVJQUVvQWhBaUFnMEFDeUFIUVFBMkFnQU1Bd3NnQlNnQ0JDSUNRUU54UVFOSERRTkIyQmtnQURZQ0FDQUZJQUpCZm5FMkFnUWdBeUFBUVFGeU5nSUVJQVVnQURZQ0FBOExJQUlnQVRZQ0RDQUJJQUkyQWdnTUFndEJBQ0VCQ3lBR1JRMEFBa0FnQXlnQ0hDSUVRUUowUVlBY2FpSUNLQUlBSUFOR0JFQWdBaUFCTmdJQUlBRU5BVUhVR1VIVUdTZ0NBRUYrSUFSM2NUWUNBQXdDQ3dKQUlBTWdCaWdDRUVZRVFDQUdJQUUyQWhBTUFRc2dCaUFCTmdJVUN5QUJSUTBCQ3lBQklBWTJBaGdnQXlnQ0VDSUNCRUFnQVNBQ05nSVFJQUlnQVRZQ0dBc2dBeWdDRkNJQ1JRMEFJQUVnQWpZQ0ZDQUNJQUUyQWhnTElBTWdCVThOQUNBRktBSUVJZ1JCQVhGRkRRQUNRQUpBQWtBQ1FDQUVRUUp4UlFSQVFlZ1pLQUlBSUFWR0JFQkI2QmtnQXpZQ0FFSGNHVUhjR1NnQ0FDQUFhaUlBTmdJQUlBTWdBRUVCY2pZQ0JDQURRZVFaS0FJQVJ3MEdRZGdaUVFBMkFnQkI1QmxCQURZQ0FBOExRZVFaS0FJQUlBVkdCRUJCNUJrZ0F6WUNBRUhZR1VIWUdTZ0NBQ0FBYWlJQU5nSUFJQU1nQUVFQmNqWUNCQ0FBSUFOcUlBQTJBZ0FQQ3lBRVFYaHhJQUJxSVFBZ0JTZ0NEQ0VCSUFSQi93Rk5CRUFnQlNnQ0NDSUNJQUZHQkVCQjBCbEIwQmtvQWdCQmZpQUVRUU4yZDNFMkFnQU1CUXNnQWlBQk5nSU1JQUVnQWpZQ0NBd0VDeUFGS0FJWUlRWWdBU0FGUndSQUlBVW9BZ2dpQWlBQk5nSU1JQUVnQWpZQ0NBd0RDeUFGS0FJVUlnSUVmeUFGUVJScUJTQUZLQUlRSWdKRkRRSWdCVUVRYWdzaEJBTkFJQVFoQnlBQ0lnRkJGR29oQkNBQktBSVVJZ0lOQUNBQlFSQnFJUVFnQVNnQ0VDSUNEUUFMSUFkQkFEWUNBQXdDQ3lBRklBUkJmbkUyQWdRZ0F5QUFRUUZ5TmdJRUlBQWdBMm9nQURZQ0FBd0RDMEVBSVFFTElBWkZEUUFDUUNBRktBSWNJZ1JCQW5SQmdCeHFJZ0lvQWdBZ0JVWUVRQ0FDSUFFMkFnQWdBUTBCUWRRWlFkUVpLQUlBUVg0Z0JIZHhOZ0lBREFJTEFrQWdCU0FHS0FJUVJnUkFJQVlnQVRZQ0VBd0JDeUFHSUFFMkFoUUxJQUZGRFFFTElBRWdCallDR0NBRktBSVFJZ0lFUUNBQklBSTJBaEFnQWlBQk5nSVlDeUFGS0FJVUlnSkZEUUFnQVNBQ05nSVVJQUlnQVRZQ0dBc2dBeUFBUVFGeU5nSUVJQUFnQTJvZ0FEWUNBQ0FEUWVRWktBSUFSdzBBUWRnWklBQTJBZ0FQQ3lBQVFmOEJUUVJBSUFCQmVIRkIrQmxxSVFJQ2YwSFFHU2dDQUNJRVFRRWdBRUVEZG5RaUFIRkZCRUJCMEJrZ0FDQUVjallDQUNBQ0RBRUxJQUlvQWdnTElRQWdBaUFETmdJSUlBQWdBellDRENBRElBSTJBZ3dnQXlBQU5nSUlEd3RCSHlFQklBQkIvLy8vQjAwRVFDQUFRU1lnQUVFSWRtY2lBbXQyUVFGeElBSkJBWFJyUVQ1cUlRRUxJQU1nQVRZQ0hDQURRZ0EzQWhBZ0FVRUNkRUdBSEdvaEJBSi9Ba0FDZjBIVUdTZ0NBQ0lIUVFFZ0FYUWlBbkZGQkVCQjFCa2dBaUFIY2pZQ0FDQUVJQU0yQWdCQkdDRUJRUWdNQVFzZ0FFRVpJQUZCQVhaclFRQWdBVUVmUnh0MElRRWdCQ2dDQUNFRUEwQWdCQ0lDS0FJRVFYaHhJQUJHRFFJZ0FVRWRkaUVFSUFGQkFYUWhBU0FDSUFSQkJIRnFJZ2RCRUdvb0FnQWlCQTBBQ3lBSElBTTJBaEJCR0NFQklBSWhCRUVJQ3lFQUlBTWlBZ3dCQ3lBQ0tBSUlJZ1FnQXpZQ0RDQUNJQU0yQWdoQkdDRUFRUWdoQVVFQUN5RUhJQUVnQTJvZ0JEWUNBQ0FESUFJMkFnd2dBQ0FEYWlBSE5nSUFRZkFaUWZBWktBSUFRUUZySWdCQmZ5QUFHellDQUFzTEhBQWdBQ0FCUVFnZ0FxY2dBa0lnaUtjZ0E2Y2dBMElnaUtjUUJRdmVBd0JCekFsQmlnMFFDRUhZQ1VHNURFRUJRUUFRQjBIa0NVRzBERUVCUVlCL1FmOEFFQUZCL0FsQnJReEJBVUdBZjBIL0FCQUJRZkFKUWFzTVFRRkJBRUgvQVJBQlFZZ0tRWWtNUVFKQmdJQitRZi8vQVJBQlFaUUtRWUFNUVFKQkFFSC8vd01RQVVHZ0NrR1lERUVFUVlDQWdJQjRRZi8vLy84SEVBRkJyQXBCand4QkJFRUFRWDhRQVVHNENrSEhERUVFUVlDQWdJQjRRZi8vLy84SEVBRkJ4QXBCdmd4QkJFRUFRWDhRQVVIUUNrR2pERUtBZ0lDQWdJQ0FnSUIvUXYvLy8vLy8vLy8vL3dBUUVFSGNDa0dpREVJQVFuOFFFRUhvQ2tHY0RFRUVFQVJCOUFwQmd3MUJDQkFFUWZRU1Fka01FQU5CdkJOQmh4RVFBMEdFRkVFRVFjd01FQUpCMEJSQkFrSGxEQkFDUVp3VlFRUkI5QXdRQWtHNEZSQUdRZUFWUVFCQndoQVFBRUdJRmtFQVFhZ1JFQUJCc0JaQkFVSGdFQkFBUWRnV1FRSkJqdzBRQUVHQUYwRURRYTRORUFCQnFCZEJCRUhXRFJBQVFkQVhRUVZCOHcwUUFFSDRGMEVFUWMwUkVBQkJvQmhCQlVIckVSQUFRWWdXUVFCQjJRNFFBRUd3RmtFQlFiZ09FQUJCMkJaQkFrR2JEeEFBUVlBWFFRTkIrUTRRQUVHb0YwRUVRYUVRRUFCQjBCZEJCVUgvRHhBQVFjZ1lRUWhCM2c4UUFFSHdHRUVKUWJ3UEVBQkJtQmxCQmtHWkRoQUFRY0FaUVFkQmtoSVFBQXNnQUFKQUlBRWdBQ2dDQkVjTkFDQUFLQUljUVFGR0RRQWdBQ0FDTmdJY0N3dWFBUUFnQUVFQk9nQTFBa0FnQWlBQUtBSUVSdzBBSUFCQkFUb0FOQUpBSUFBb0FoQWlBa1VFUUNBQVFRRTJBaVFnQUNBRE5nSVlJQUFnQVRZQ0VDQURRUUZIRFFJZ0FDZ0NNRUVCUmcwQkRBSUxJQUVnQWtZRVFDQUFLQUlZSWdKQkFrWUVRQ0FBSUFNMkFoZ2dBeUVDQ3lBQUtBSXdRUUZIRFFJZ0FrRUJSZzBCREFJTElBQWdBQ2dDSkVFQmFqWUNKQXNnQUVFQk9nQTJDd3QyQVFGL0lBQW9BaVFpQTBVRVFDQUFJQUkyQWhnZ0FDQUJOZ0lRSUFCQkFUWUNKQ0FBSUFBb0FqZzJBaFFQQ3dKQUFrQWdBQ2dDRkNBQUtBSTRSdzBBSUFBb0FoQWdBVWNOQUNBQUtBSVlRUUpIRFFFZ0FDQUNOZ0lZRHdzZ0FFRUJPZ0EySUFCQkFqWUNHQ0FBSUFOQkFXbzJBaVFMQ3dJQUN3UUFJQUFMMFNjQkMzOGpBRUVRYXlJS0pBQUNRQUpBQWtBQ1FBSkFBa0FDUUFKQUFrQUNRQ0FBUWZRQlRRUkFRZEFaS0FJQUlnUkJFQ0FBUVF0cVFmZ0RjU0FBUVF0Skd5SUdRUU4ySWdCMklnRkJBM0VFUUFKQUlBRkJmM05CQVhFZ0FHb2lBa0VEZENJQlFmZ1phaUlBSUFGQmdCcHFLQUlBSWdFb0FnZ2lCVVlFUUVIUUdTQUVRWDRnQW5keE5nSUFEQUVMSUFVZ0FEWUNEQ0FBSUFVMkFnZ0xJQUZCQ0dvaEFDQUJJQUpCQTNRaUFrRURjallDQkNBQklBSnFJZ0VnQVNnQ0JFRUJjallDQkF3TEN5QUdRZGdaS0FJQUlnaE5EUUVnQVFSQUFrQkJBaUFBZENJQ1FRQWdBbXR5SUFFZ0FIUnhhQ0lCUVFOMElnQkIrQmxxSWdJZ0FFR0FHbW9vQWdBaUFDZ0NDQ0lGUmdSQVFkQVpJQVJCZmlBQmQzRWlCRFlDQUF3QkN5QUZJQUkyQWd3Z0FpQUZOZ0lJQ3lBQUlBWkJBM0kyQWdRZ0FDQUdhaUlISUFGQkEzUWlBU0FHYXlJRlFRRnlOZ0lFSUFBZ0FXb2dCVFlDQUNBSUJFQWdDRUY0Y1VINEdXb2hBVUhrR1NnQ0FDRUNBbjhnQkVFQklBaEJBM1owSWdOeFJRUkFRZEFaSUFNZ0JISTJBZ0FnQVF3QkN5QUJLQUlJQ3lFRElBRWdBallDQ0NBRElBSTJBZ3dnQWlBQk5nSU1JQUlnQXpZQ0NBc2dBRUVJYWlFQVFlUVpJQWMyQWdCQjJCa2dCVFlDQUF3TEMwSFVHU2dDQUNJTFJRMEJJQXRvUVFKMFFZQWNhaWdDQUNJQ0tBSUVRWGh4SUFacklRTWdBaUVCQTBBQ1FDQUJLQUlRSWdCRkJFQWdBU2dDRkNJQVJRMEJDeUFBS0FJRVFYaHhJQVpySWdFZ0F5QUJJQU5KSWdFYklRTWdBQ0FDSUFFYklRSWdBQ0VCREFFTEN5QUNLQUlZSVFrZ0FpQUNLQUlNSWdCSEJFQWdBaWdDQ0NJQklBQTJBZ3dnQUNBQk5nSUlEQW9MSUFJb0FoUWlBUVIvSUFKQkZHb0ZJQUlvQWhBaUFVVU5BeUFDUVJCcUN5RUZBMEFnQlNFSElBRWlBRUVVYWlFRklBQW9BaFFpQVEwQUlBQkJFR29oQlNBQUtBSVFJZ0VOQUFzZ0IwRUFOZ0lBREFrTFFYOGhCaUFBUWI5L1N3MEFJQUJCQzJvaUFVRjRjU0VHUWRRWktBSUFJZ2RGRFFCQkh5RUlRUUFnQm1zaEF5QUFRZlQvL3dkTkJFQWdCa0VtSUFGQkNIWm5JZ0JyZGtFQmNTQUFRUUYwYTBFK2FpRUlDd0pBQWtBQ1FDQUlRUUowUVlBY2FpZ0NBQ0lCUlFSQVFRQWhBQXdCQzBFQUlRQWdCa0VaSUFoQkFYWnJRUUFnQ0VFZlJ4dDBJUUlEUUFKQUlBRW9BZ1JCZUhFZ0Jtc2lCQ0FEVHcwQUlBRWhCU0FFSWdNTkFFRUFJUU1nQVNFQURBTUxJQUFnQVNnQ0ZDSUVJQVFnQVNBQ1FSMTJRUVJ4YWlnQ0VDSUJSaHNnQUNBRUd5RUFJQUpCQVhRaEFpQUJEUUFMQ3lBQUlBVnlSUVJBUVFBaEJVRUNJQWgwSWdCQkFDQUFhM0lnQjNFaUFFVU5BeUFBYUVFQ2RFR0FIR29vQWdBaEFBc2dBRVVOQVFzRFFDQUFLQUlFUVhoeElBWnJJZ0lnQTBraEFTQUNJQU1nQVJzaEF5QUFJQVVnQVJzaEJTQUFLQUlRSWdFRWZ5QUJCU0FBS0FJVUN5SUFEUUFMQ3lBRlJRMEFJQU5CMkJrb0FnQWdCbXRQRFFBZ0JTZ0NHQ0VJSUFVZ0JTZ0NEQ0lBUndSQUlBVW9BZ2dpQVNBQU5nSU1JQUFnQVRZQ0NBd0lDeUFGS0FJVUlnRUVmeUFGUVJScUJTQUZLQUlRSWdGRkRRTWdCVUVRYWdzaEFnTkFJQUloQkNBQklnQkJGR29oQWlBQUtBSVVJZ0VOQUNBQVFSQnFJUUlnQUNnQ0VDSUJEUUFMSUFSQkFEWUNBQXdIQ3lBR1FkZ1pLQUlBSWdWTkJFQkI1QmtvQWdBaEFBSkFJQVVnQm1zaUFVRVFUd1JBSUFBZ0Jtb2lBaUFCUVFGeU5nSUVJQUFnQldvZ0FUWUNBQ0FBSUFaQkEzSTJBZ1FNQVFzZ0FDQUZRUU55TmdJRUlBQWdCV29pQVNBQktBSUVRUUZ5TmdJRVFRQWhBa0VBSVFFTFFkZ1pJQUUyQWdCQjVCa2dBallDQUNBQVFRaHFJUUFNQ1FzZ0JrSGNHU2dDQUNJQ1NRUkFRZHdaSUFJZ0Jtc2lBVFlDQUVIb0dVSG9HU2dDQUNJQUlBWnFJZ0kyQWdBZ0FpQUJRUUZ5TmdJRUlBQWdCa0VEY2pZQ0JDQUFRUWhxSVFBTUNRdEJBQ0VBSUFaQkwyb2lBd0ovUWFnZEtBSUFCRUJCc0Iwb0FnQU1BUXRCdEIxQ2Z6Y0NBRUdzSFVLQW9JQ0FnSUFFTndJQVFhZ2RJQXBCREdwQmNIRkIyS3JWcWdWek5nSUFRYndkUVFBMkFnQkJqQjFCQURZQ0FFR0FJQXNpQVdvaUJFRUFJQUZySWdkeElnRWdCazBOQ0VHSUhTZ0NBQ0lGQkVCQmdCMG9BZ0FpQ0NBQmFpSUpJQWhOSUFVZ0NVbHlEUWtMQWtCQmpCMHRBQUJCQkhGRkJFQUNRQUpBQWtBQ1FFSG9HU2dDQUNJRkJFQkJrQjBoQUFOQUlBQW9BZ0FpQ0NBRlRRUkFJQVVnQ0NBQUtBSUVha2tOQXdzZ0FDZ0NDQ0lBRFFBTEMwRUFFQXNpQWtGL1JnMERJQUVoQkVHc0hTZ0NBQ0lBUVFGcklnVWdBbkVFUUNBQklBSnJJQUlnQldwQkFDQUFhM0ZxSVFRTElBUWdCazBOQTBHSUhTZ0NBQ0lBQkVCQmdCMG9BZ0FpQlNBRWFpSUhJQVZOSUFBZ0IwbHlEUVFMSUFRUUN5SUFJQUpIRFFFTUJRc2dCQ0FDYXlBSGNTSUVFQXNpQWlBQUtBSUFJQUFvQWdScVJnMEJJQUloQUFzZ0FFRi9SZzBCSUFaQk1Hb2dCRTBFUUNBQUlRSU1CQXRCc0Iwb0FnQWlBaUFESUFScmFrRUFJQUpyY1NJQ0VBdEJmMFlOQVNBQ0lBUnFJUVFnQUNFQ0RBTUxJQUpCZjBjTkFndEJqQjFCakIwb0FnQkJCSEkyQWdBTElBRVFDeUlDUVg5R1FRQVFDeUlBUVg5R2NpQUFJQUpOY2cwRklBQWdBbXNpQkNBR1FTaHFUUTBGQzBHQUhVR0FIU2dDQUNBRWFpSUFOZ0lBUVlRZEtBSUFJQUJKQkVCQmhCMGdBRFlDQUFzQ1FFSG9HU2dDQUNJREJFQkJrQjBoQUFOQUlBSWdBQ2dDQUNJQklBQW9BZ1FpQldwR0RRSWdBQ2dDQ0NJQURRQUxEQVFMUWVBWktBSUFJZ0JCQUNBQUlBSk5HMFVFUUVIZ0dTQUNOZ0lBQzBFQUlRQkJsQjBnQkRZQ0FFR1FIU0FDTmdJQVFmQVpRWDgyQWdCQjlCbEJxQjBvQWdBMkFnQkJuQjFCQURZQ0FBTkFJQUJCQTNRaUFVR0FHbW9nQVVINEdXb2lCVFlDQUNBQlFZUWFhaUFGTmdJQUlBQkJBV29pQUVFZ1J3MEFDMEhjR1NBRVFTaHJJZ0JCZUNBQ2EwRUhjU0lCYXlJRk5nSUFRZWdaSUFFZ0Ftb2lBVFlDQUNBQklBVkJBWEkyQWdRZ0FDQUNha0VvTmdJRVFld1pRYmdkS0FJQU5nSUFEQVFMSUFJZ0EwMGdBU0FEUzNJTkFpQUFLQUlNUVFoeERRSWdBQ0FFSUFWcU5nSUVRZWdaSUFOQmVDQURhMEVIY1NJQWFpSUJOZ0lBUWR3WlFkd1pLQUlBSUFScUlnSWdBR3NpQURZQ0FDQUJJQUJCQVhJMkFnUWdBaUFEYWtFb05nSUVRZXdaUWJnZEtBSUFOZ0lBREFNTFFRQWhBQXdHQzBFQUlRQU1CQXRCNEJrb0FnQWdBa3NFUUVIZ0dTQUNOZ0lBQ3lBQ0lBUnFJUVZCa0IwaEFBSkFBMEFnQlNBQUtBSUFJZ0ZIQkVBZ0FDZ0NDQ0lBRFFFTUFnc0xJQUF0QUF4QkNIRkZEUU1MUVpBZElRQURRQUpBSUFBb0FnQWlBU0FEVFFSQUlBTWdBU0FBS0FJRWFpSUZTUTBCQ3lBQUtBSUlJUUFNQVFzTFFkd1pJQVJCS0dzaUFFRjRJQUpyUVFkeElnRnJJZ2MyQWdCQjZCa2dBU0FDYWlJQk5nSUFJQUVnQjBFQmNqWUNCQ0FBSUFKcVFTZzJBZ1JCN0JsQnVCMG9BZ0EyQWdBZ0F5QUZRU2NnQld0QkIzRnFRUzlySWdBZ0FDQURRUkJxU1JzaUFVRWJOZ0lFSUFGQm1CMHBBZ0EzQWhBZ0FVR1FIU2tDQURjQ0NFR1lIU0FCUVFocU5nSUFRWlFkSUFRMkFnQkJrQjBnQWpZQ0FFR2NIVUVBTmdJQUlBRkJHR29oQUFOQUlBQkJCellDQkNBQVFRaHFJQUJCQkdvaEFDQUZTUTBBQ3lBQklBTkdEUUFnQVNBQktBSUVRWDV4TmdJRUlBTWdBU0FEYXlJQ1FRRnlOZ0lFSUFFZ0FqWUNBQUovSUFKQi93Rk5CRUFnQWtGNGNVSDRHV29oQUFKL1FkQVpLQUlBSWdGQkFTQUNRUU4yZENJQ2NVVUVRRUhRR1NBQklBSnlOZ0lBSUFBTUFRc2dBQ2dDQ0FzaEFTQUFJQU0yQWdnZ0FTQUROZ0lNUVF3aEFrRUlEQUVMUVI4aEFDQUNRZi8vL3dkTkJFQWdBa0VtSUFKQkNIWm5JZ0JyZGtFQmNTQUFRUUYwYTBFK2FpRUFDeUFESUFBMkFod2dBMElBTndJUUlBQkJBblJCZ0J4cUlRRUNRQUpBUWRRWktBSUFJZ1ZCQVNBQWRDSUVjVVVFUUVIVUdTQUVJQVZ5TmdJQUlBRWdBellDQUF3QkN5QUNRUmtnQUVFQmRtdEJBQ0FBUVI5SEczUWhBQ0FCS0FJQUlRVURRQ0FGSWdFb0FnUkJlSEVnQWtZTkFpQUFRUjEySVFVZ0FFRUJkQ0VBSUFFZ0JVRUVjV29pQkNnQ0VDSUZEUUFMSUFRZ0F6WUNFQXNnQXlBQk5nSVlRUWdoQWlBRElnRWhBRUVNREFFTElBRW9BZ2dpQUNBRE5nSU1JQUVnQXpZQ0NDQURJQUEyQWdoQkFDRUFRUmdoQWtFTUN5QURhaUFCTmdJQUlBSWdBMm9nQURZQ0FBdEIzQmtvQWdBaUFDQUdUUTBBUWR3WklBQWdCbXNpQVRZQ0FFSG9HVUhvR1NnQ0FDSUFJQVpxSWdJMkFnQWdBaUFCUVFGeU5nSUVJQUFnQmtFRGNqWUNCQ0FBUVFocUlRQU1CQXRCekJsQk1EWUNBRUVBSVFBTUF3c2dBQ0FDTmdJQUlBQWdBQ2dDQkNBRWFqWUNCQ0FDUVhnZ0FtdEJCM0ZxSWdnZ0JrRURjallDQkNBQlFYZ2dBV3RCQjNGcUlnUWdCaUFJYWlJRGF5RUhBa0JCNkJrb0FnQWdCRVlFUUVIb0dTQUROZ0lBUWR3WlFkd1pLQUlBSUFkcUlnQTJBZ0FnQXlBQVFRRnlOZ0lFREFFTFFlUVpLQUlBSUFSR0JFQkI1QmtnQXpZQ0FFSFlHVUhZR1NnQ0FDQUhhaUlBTmdJQUlBTWdBRUVCY2pZQ0JDQUFJQU5xSUFBMkFnQU1BUXNnQkNnQ0JDSUFRUU54UVFGR0JFQWdBRUY0Y1NFSklBUW9BZ3doQWdKQUlBQkIvd0ZOQkVBZ0JDZ0NDQ0lCSUFKR0JFQkIwQmxCMEJrb0FnQkJmaUFBUVFOMmQzRTJBZ0FNQWdzZ0FTQUNOZ0lNSUFJZ0FUWUNDQXdCQ3lBRUtBSVlJUVlDUUNBQ0lBUkhCRUFnQkNnQ0NDSUFJQUkyQWd3Z0FpQUFOZ0lJREFFTEFrQWdCQ2dDRkNJQUJIOGdCRUVVYWdVZ0JDZ0NFQ0lBUlEwQklBUkJFR29MSVFFRFFDQUJJUVVnQUNJQ1FSUnFJUUVnQUNnQ0ZDSUFEUUFnQWtFUWFpRUJJQUlvQWhBaUFBMEFDeUFGUVFBMkFnQU1BUXRCQUNFQ0N5QUdSUTBBQWtBZ0JDZ0NIQ0lBUVFKMFFZQWNhaUlCS0FJQUlBUkdCRUFnQVNBQ05nSUFJQUlOQVVIVUdVSFVHU2dDQUVGK0lBQjNjVFlDQUF3Q0N3SkFJQVFnQmlnQ0VFWUVRQ0FHSUFJMkFoQU1BUXNnQmlBQ05nSVVDeUFDUlEwQkN5QUNJQVkyQWhnZ0JDZ0NFQ0lBQkVBZ0FpQUFOZ0lRSUFBZ0FqWUNHQXNnQkNnQ0ZDSUFSUTBBSUFJZ0FEWUNGQ0FBSUFJMkFoZ0xJQWNnQ1dvaEJ5QUVJQWxxSWdRb0FnUWhBQXNnQkNBQVFYNXhOZ0lFSUFNZ0IwRUJjallDQkNBRElBZHFJQWMyQWdBZ0IwSC9BVTBFUUNBSFFYaHhRZmdaYWlFQUFuOUIwQmtvQWdBaUFVRUJJQWRCQTNaMElnSnhSUVJBUWRBWklBRWdBbkkyQWdBZ0FBd0JDeUFBS0FJSUN5RUJJQUFnQXpZQ0NDQUJJQU0yQWd3Z0F5QUFOZ0lNSUFNZ0FUWUNDQXdCQzBFZklRSWdCMEgvLy84SFRRUkFJQWRCSmlBSFFRaDJaeUlBYTNaQkFYRWdBRUVCZEd0QlBtb2hBZ3NnQXlBQ05nSWNJQU5DQURjQ0VDQUNRUUowUVlBY2FpRUFBa0FDUUVIVUdTZ0NBQ0lCUVFFZ0FuUWlCWEZGQkVCQjFCa2dBU0FGY2pZQ0FDQUFJQU0yQWdBTUFRc2dCMEVaSUFKQkFYWnJRUUFnQWtFZlJ4dDBJUUlnQUNnQ0FDRUJBMEFnQVNJQUtBSUVRWGh4SUFkR0RRSWdBa0VkZGlFQklBSkJBWFFoQWlBQUlBRkJCSEZxSWdVb0FoQWlBUTBBQ3lBRklBTTJBaEFMSUFNZ0FEWUNHQ0FESUFNMkFnd2dBeUFETmdJSURBRUxJQUFvQWdnaUFTQUROZ0lNSUFBZ0F6WUNDQ0FEUVFBMkFoZ2dBeUFBTmdJTUlBTWdBVFlDQ0FzZ0NFRUlhaUVBREFJTEFrQWdDRVVOQUFKQUlBVW9BaHdpQVVFQ2RFR0FIR29pQWlnQ0FDQUZSZ1JBSUFJZ0FEWUNBQ0FBRFFGQjFCa2dCMEYrSUFGM2NTSUhOZ0lBREFJTEFrQWdCU0FJS0FJUVJnUkFJQWdnQURZQ0VBd0JDeUFJSUFBMkFoUUxJQUJGRFFFTElBQWdDRFlDR0NBRktBSVFJZ0VFUUNBQUlBRTJBaEFnQVNBQU5nSVlDeUFGS0FJVUlnRkZEUUFnQUNBQk5nSVVJQUVnQURZQ0dBc0NRQ0FEUVE5TkJFQWdCU0FESUFacUlnQkJBM0kyQWdRZ0FDQUZhaUlBSUFBb0FnUkJBWEkyQWdRTUFRc2dCU0FHUVFOeU5nSUVJQVVnQm1vaUJDQURRUUZ5TmdJRUlBTWdCR29nQXpZQ0FDQURRZjhCVFFSQUlBTkJlSEZCK0JscUlRQUNmMEhRR1NnQ0FDSUJRUUVnQTBFRGRuUWlBbkZGQkVCQjBCa2dBU0FDY2pZQ0FDQUFEQUVMSUFBb0FnZ0xJUUVnQUNBRU5nSUlJQUVnQkRZQ0RDQUVJQUEyQWd3Z0JDQUJOZ0lJREFFTFFSOGhBQ0FEUWYvLy93ZE5CRUFnQTBFbUlBTkJDSFpuSWdCcmRrRUJjU0FBUVFGMGEwRSthaUVBQ3lBRUlBQTJBaHdnQkVJQU53SVFJQUJCQW5SQmdCeHFJUUVDUUFKQUlBZEJBU0FBZENJQ2NVVUVRRUhVR1NBQ0lBZHlOZ0lBSUFFZ0JEWUNBQ0FFSUFFMkFoZ01BUXNnQTBFWklBQkJBWFpyUVFBZ0FFRWZSeHQwSVFBZ0FTZ0NBQ0VCQTBBZ0FTSUNLQUlFUVhoeElBTkdEUUlnQUVFZGRpRUJJQUJCQVhRaEFDQUNJQUZCQkhGcUlnY29BaEFpQVEwQUN5QUhJQVEyQWhBZ0JDQUNOZ0lZQ3lBRUlBUTJBZ3dnQkNBRU5nSUlEQUVMSUFJb0FnZ2lBQ0FFTmdJTUlBSWdCRFlDQ0NBRVFRQTJBaGdnQkNBQ05nSU1JQVFnQURZQ0NBc2dCVUVJYWlFQURBRUxBa0FnQ1VVTkFBSkFJQUlvQWh3aUFVRUNkRUdBSEdvaUJTZ0NBQ0FDUmdSQUlBVWdBRFlDQUNBQURRRkIxQmtnQzBGK0lBRjNjVFlDQUF3Q0N3SkFJQUlnQ1NnQ0VFWUVRQ0FKSUFBMkFoQU1BUXNnQ1NBQU5nSVVDeUFBUlEwQkN5QUFJQWsyQWhnZ0FpZ0NFQ0lCQkVBZ0FDQUJOZ0lRSUFFZ0FEWUNHQXNnQWlnQ0ZDSUJSUTBBSUFBZ0FUWUNGQ0FCSUFBMkFoZ0xBa0FnQTBFUFRRUkFJQUlnQXlBR2FpSUFRUU55TmdJRUlBQWdBbW9pQUNBQUtBSUVRUUZ5TmdJRURBRUxJQUlnQmtFRGNqWUNCQ0FDSUFacUlnVWdBMEVCY2pZQ0JDQURJQVZxSUFNMkFnQWdDQVJBSUFoQmVIRkIrQmxxSVFCQjVCa29BZ0FoQVFKL1FRRWdDRUVEZG5RaUJ5QUVjVVVFUUVIUUdTQUVJQWR5TmdJQUlBQU1BUXNnQUNnQ0NBc2hCQ0FBSUFFMkFnZ2dCQ0FCTmdJTUlBRWdBRFlDRENBQklBUTJBZ2dMUWVRWklBVTJBZ0JCMkJrZ0F6WUNBQXNnQWtFSWFpRUFDeUFLUVJCcUpBQWdBQXNhQUNBQUlBRW9BZ2dnQlJBS0JFQWdBU0FDSUFNZ0JCQVRDd3MzQUNBQUlBRW9BZ2dnQlJBS0JFQWdBU0FDSUFNZ0JCQVREd3NnQUNnQ0NDSUFJQUVnQWlBRElBUWdCU0FBS0FJQUtBSVVFUU1BQzVFQkFDQUFJQUVvQWdnZ0JCQUtCRUFnQVNBQ0lBTVFFZzhMQWtBZ0FDQUJLQUlBSUFRUUNrVU5BQUpBSUFFb0FoQWdBa2NFUUNBQ0lBRW9BaFJIRFFFTElBTkJBVWNOQVNBQlFRRTJBaUFQQ3lBQklBSTJBaFFnQVNBRE5nSWdJQUVnQVNnQ0tFRUJhallDS0FKQUlBRW9BaVJCQVVjTkFDQUJLQUlZUVFKSERRQWdBVUVCT2dBMkN5QUJRUVEyQWl3TEMvVUJBQ0FBSUFFb0FnZ2dCQkFLQkVBZ0FTQUNJQU1RRWc4TEFrQWdBQ0FCS0FJQUlBUVFDZ1JBQWtBZ0FTZ0NFQ0FDUndSQUlBSWdBU2dDRkVjTkFRc2dBMEVCUncwQ0lBRkJBVFlDSUE4TElBRWdBellDSUFKQUlBRW9BaXhCQkVZTkFDQUJRUUE3QVRRZ0FDZ0NDQ0lBSUFFZ0FpQUNRUUVnQkNBQUtBSUFLQUlVRVFNQUlBRXRBRFZCQVVZRVFDQUJRUU0yQWl3Z0FTMEFORVVOQVF3REN5QUJRUVEyQWl3TElBRWdBallDRkNBQklBRW9BaWhCQVdvMkFpZ2dBU2dDSkVFQlJ3MEJJQUVvQWhoQkFrY05BU0FCUVFFNkFEWVBDeUFBS0FJSUlnQWdBU0FDSUFNZ0JDQUFLQUlBS0FJWUVRSUFDd3N4QUNBQUlBRW9BZ2hCQUJBS0JFQWdBU0FDSUFNUUZBOExJQUFvQWdnaUFDQUJJQUlnQXlBQUtBSUFLQUljRVFBQUN4Z0FJQUFnQVNnQ0NFRUFFQW9FUUNBQklBSWdBeEFVQ3d2NUJBRUdmeU1BUVVCcUlnUWtBQUovUVFFZ0FDQUJRUUFRQ2cwQUdrRUFJQUZGRFFBYUl3QkJFR3NpQmlRQUlBWWdBU2dDQUNJRFFRaHJLQUlBSWdVMkFnd2dCaUFCSUFWcU5nSUVJQVlnQTBFRWF5Z0NBRFlDQ0NBR0tBSUlJZ05CN0FoQkFCQUtJUVVnQmlnQ0JDRUhBa0FnQlFSQUlBWW9BZ3doQVNNQVFVQnFJZ01rQUNBRFFVQnJKQUJCQUNBSElBRWJJUU1NQVFzZ0F5RUZJd0JCUUdvaUF5UUFJQUVnQjA0RVFDQURRZ0EzQWh3Z0EwSUFOd0lrSUFOQ0FEY0NMQ0FEUWdBM0FoUWdBMEVBTmdJUUlBTkI3QWcyQWd3Z0F5QUZOZ0lFSUFOQkFEWUNQQ0FEUW9HQWdJQ0FnSUNBQVRjQ05DQURJQUUyQWdnZ0JTQURRUVJxSUFjZ0IwRUJRUUFnQlNnQ0FDZ0NGQkVEQUNBQlFRQWdBeWdDSEJzaENBc2dBMEZBYXlRQUlBZ2lBdzBBSXdCQlFHb2lBeVFBSUFOQkFEWUNFQ0FEUWJ3SU5nSU1JQU1nQVRZQ0NDQURRZXdJTmdJRVFRQWhBU0FEUVJScVFTY1FEQm9nQTBFQU5nSThJQU5CQVRvQU95QUZJQU5CQkdvZ0IwRUJRUUFnQlNnQ0FDZ0NHQkVDQUFKQUFrQUNRQ0FES0FJb0RnSUFBUUlMSUFNb0FoaEJBQ0FES0FJa1FRRkdHMEVBSUFNb0FpQkJBVVliUVFBZ0F5Z0NMRUVCUmhzaEFRd0JDeUFES0FJY1FRRkhCRUFnQXlnQ0xBMEJJQU1vQWlCQkFVY05BU0FES0FJa1FRRkhEUUVMSUFNb0FoUWhBUXNnQTBGQWF5UUFJQUVoQXdzZ0JrRVFhaVFBUVFBZ0EwVU5BQm9nQkVFSWFrRTRFQXdhSUFSQkFUb0FPeUFFUVg4MkFoQWdCQ0FBTmdJTUlBUWdBellDQkNBRVFRRTJBalFnQXlBRVFRUnFJQUlvQWdCQkFTQURLQUlBS0FJY0VRQUFJQVFvQWh3aUFFRUJSZ1JBSUFJZ0JDZ0NGRFlDQUFzZ0FFRUJSZ3NnQkVGQWF5UUFDd29BSUFBZ0FVRUFFQW9MK2dRQ0JuOEtmVUgvLy8vL0J5RU1RWUNBZ0lCNElRMUJmeUVLQTBBZ0F5QUxSZ1JBUVFBaENTQUlRWUNBRUJBTUlRQkRBUDkvUnlBTklBeHJzcFVoRUFOQUlBTWdDVVlFUUVFQUlRa2dCMEVBTmdJQUlBQkJCR3NoQUVFQUlReEJBU0VMQTBBZ0MwR0FnQVJHUlFSQUlBY2dDMEVDZENJQmFpQUFJQUZxS0FJQUlBeHFJZ3cyQWdBZ0MwRUJhaUVMREFFTEN3TkFJQU1nQ1VaRkJFQWdCeUFGSUFsQkFuUnFLQUlBUVFKMGFpSUFJQUFvQWdBaUFFRUJhallDQUNBR0lBQkJBblJxSUFrMkFnQWdDVUVCYWlFSkRBRUxDd1VDZnlBUUlBVWdDVUVDZEdvaUFTZ0NBQ0FNYTdPVUlnOURBQUNBVDEwZ0QwTUFBQUFBWUhFRVFDQVBxUXdCQzBFQUN5RUxJQUVnQ3pZQ0FDQUFJQXRCQW5ScUlnRWdBU2dDQUVFQmFqWUNBQ0FKUVFGcUlRa01BUXNMQlNBRUlBdEJER3hxSWdrcUFnQWhFeUFKS2dJSUlSUWdDU29DQkNFVklBb2dBaUFMUVFKMElnNXFLQUlBSWdsSEJFQWdBU0FKUWRBQWJHb2lDaW9DUENBQUtnSTRJZytVSUFvcUFqZ2dBQ29DS0NJUWxDQUtLZ0l3SUFBcUFnZ2lFWlFnQUNvQ0dDSVNJQW9xQWpTVWtwS1NJUllnQ2lvQ0xDQVBsQ0FLS2dJb0lCQ1VJQW9xQWlBZ0VaUWdFaUFLS2dJa2xKS1NraUVYSUFvcUFod2dENVFnQ2lvQ0dDQVFsQ0FLS2dJUUlCR1VJQklnQ2lvQ0ZKU1NrcEloR0NBS0tnSU1JQStVSUFvcUFnZ2dFSlFnQ2lvQ0FDQVJsQ0FLS2dJRUlCS1VrcEtTSVE4Z0NTRUtDeUFGSUE1cUFuOGdGaUFYSUJTVUlBOGdFNVFnRlNBWWxKS1Nra01BQUlCRmxDSVFpME1BQUFCUFhRUkFJQkNvREFFTFFZQ0FnSUI0Q3lJSk5nSUFJQXdnQ1NBSklBeEtHeUVNSUEwZ0NTQUpJQTFJR3lFTklBdEJBV29oQ3d3QkN3c0xDOWNSQWdCQmdBZ0x4aEZUZERsMGVYQmxYMmx1Wm04QUFBQUFoQVVBQUFBRUFBQk9NVEJmWDJONGVHRmlhWFl4TVRaZlgzTm9hVzFmZEhsd1pWOXBibVp2UlFBQUFBQ3NCUUFBR0FRQUFCQUVBQUJPTVRCZlgyTjRlR0ZpYVhZeE1UZGZYMk5zWVhOelgzUjVjR1ZmYVc1bWIwVUFBQUNzQlFBQVNBUUFBRHdFQUFBQUFBQUF2QVFBQUFFQUFBQUNBQUFBQXdBQUFBUUFBQUFGQUFBQVRqRXdYMTlqZUhoaFltbDJNVEl6WDE5bWRXNWtZVzFsYm5SaGJGOTBlWEJsWDJsdVptOUZBS3dGQUFDVUJBQUFQQVFBQUhZQUFBQ0FCQUFBeUFRQUFHSUFBQUNBQkFBQTFBUUFBR01BQUFDQUJBQUE0QVFBQUdnQUFBQ0FCQUFBN0FRQUFHRUFBQUNBQkFBQStBUUFBSE1BQUFDQUJBQUFCQVVBQUhRQUFBQ0FCQUFBRUFVQUFHa0FBQUNBQkFBQUhBVUFBR29BQUFDQUJBQUFLQVVBQUd3QUFBQ0FCQUFBTkFVQUFHMEFBQUNBQkFBQVFBVUFBSGdBQUFDQUJBQUFUQVVBQUhrQUFBQ0FCQUFBV0FVQUFHWUFBQUNBQkFBQVpBVUFBR1FBQUFDQUJBQUFjQVVBQUFBQUFBQnNCQUFBQVFBQUFBWUFBQUFEQUFBQUJBQUFBQWNBQUFBSUFBQUFDUUFBQUFvQUFBQUFBQUFBOUFVQUFBRUFBQUFMQUFBQUF3QUFBQVFBQUFBSEFBQUFEQUFBQUEwQUFBQU9BQUFBVGpFd1gxOWplSGhoWW1sMk1USXdYMTl6YVY5amJHRnpjMTkwZVhCbFgybHVabTlGQUFBQUFLd0ZBQURNQlFBQWJBUUFBSFZ1YzJsbmJtVmtJSE5vYjNKMEFIVnVjMmxuYm1Wa0lHbHVkQUJtYkc5aGRBQjFhVzUwTmpSZmRBQjFibk5wWjI1bFpDQmphR0Z5QUdKdmIyd0FkVzV6YVdkdVpXUWdiRzl1WndCemRHUTZPbmR6ZEhKcGJtY0FjM1JrT2pwemRISnBibWNBYzNSa09qcDFNVFp6ZEhKcGJtY0FjM1JrT2pwMU16SnpkSEpwYm1jQVpHOTFZbXhsQUhadmFXUUFaVzF6WTNKcGNIUmxiam82YldWdGIzSjVYM1pwWlhjOGMyaHZjblErQUdWdGMyTnlhWEIwWlc0Nk9tMWxiVzl5ZVY5MmFXVjNQSFZ1YzJsbmJtVmtJSE5vYjNKMFBnQmxiWE5qY21sd2RHVnVPanB0WlcxdmNubGZkbWxsZHp4cGJuUStBR1Z0YzJOeWFYQjBaVzQ2T20xbGJXOXllVjkyYVdWM1BIVnVjMmxuYm1Wa0lHbHVkRDRBWlcxelkzSnBjSFJsYmpvNmJXVnRiM0o1WDNacFpYYzhabXh2WVhRK0FHVnRjMk55YVhCMFpXNDZPbTFsYlc5eWVWOTJhV1YzUEhWcGJuUTRYM1ErQUdWdGMyTnlhWEIwWlc0Nk9tMWxiVzl5ZVY5MmFXVjNQR2x1ZERoZmRENEFaVzF6WTNKcGNIUmxiam82YldWdGIzSjVYM1pwWlhjOGRXbHVkREUyWDNRK0FHVnRjMk55YVhCMFpXNDZPbTFsYlc5eWVWOTJhV1YzUEdsdWRERTJYM1ErQUdWdGMyTnlhWEIwWlc0Nk9tMWxiVzl5ZVY5MmFXVjNQSFZwYm5RMk5GOTBQZ0JsYlhOamNtbHdkR1Z1T2pwdFpXMXZjbmxmZG1sbGR6eHBiblEyTkY5MFBnQmxiWE5qY21sd2RHVnVPanB0WlcxdmNubGZkbWxsZHp4MWFXNTBNekpmZEQ0QVpXMXpZM0pwY0hSbGJqbzZiV1Z0YjNKNVgzWnBaWGM4YVc1ME16SmZkRDRBWlcxelkzSnBjSFJsYmpvNmJXVnRiM0o1WDNacFpYYzhZMmhoY2o0QVpXMXpZM0pwY0hSbGJqbzZiV1Z0YjNKNVgzWnBaWGM4ZFc1emFXZHVaV1FnWTJoaGNqNEFjM1JrT2pwaVlYTnBZMTl6ZEhKcGJtYzhkVzV6YVdkdVpXUWdZMmhoY2o0QVpXMXpZM0pwY0hSbGJqbzZiV1Z0YjNKNVgzWnBaWGM4YzJsbmJtVmtJR05vWVhJK0FHVnRjMk55YVhCMFpXNDZPbTFsYlc5eWVWOTJhV1YzUEd4dmJtYytBR1Z0YzJOeWFYQjBaVzQ2T20xbGJXOXllVjkyYVdWM1BIVnVjMmxuYm1Wa0lHeHZibWMrQUdWdGMyTnlhWEIwWlc0Nk9tMWxiVzl5ZVY5MmFXVjNQR1J2ZFdKc1pUNEFUbE4wTTE5Zk1qRXlZbUZ6YVdOZmMzUnlhVzVuU1dOT1UxOHhNV05vWVhKZmRISmhhWFJ6U1dORlJVNVRYemxoYkd4dlkyRjBiM0pKWTBWRlJVVUFBQUFBaEFVQUFESUpBQUJPVTNRelgxOHlNVEppWVhOcFkxOXpkSEpwYm1kSmFFNVRYekV4WTJoaGNsOTBjbUZwZEhOSmFFVkZUbE5mT1dGc2JHOWpZWFJ2Y2tsb1JVVkZSUUFBaEFVQUFId0pBQUJPVTNRelgxOHlNVEppWVhOcFkxOXpkSEpwYm1kSmQwNVRYekV4WTJoaGNsOTBjbUZwZEhOSmQwVkZUbE5mT1dGc2JHOWpZWFJ2Y2tsM1JVVkZSUUFBaEFVQUFNUUpBQUJPVTNRelgxOHlNVEppWVhOcFkxOXpkSEpwYm1kSlJITk9VMTh4TVdOb1lYSmZkSEpoYVhSelNVUnpSVVZPVTE4NVlXeHNiMk5oZEc5eVNVUnpSVVZGUlFBQUFJUUZBQUFNQ2dBQVRsTjBNMTlmTWpFeVltRnphV05mYzNSeWFXNW5TVVJwVGxOZk1URmphR0Z5WDNSeVlXbDBjMGxFYVVWRlRsTmZPV0ZzYkc5allYUnZja2xFYVVWRlJVVUFBQUNFQlFBQVdBb0FBRTR4TUdWdGMyTnlhWEIwWlc0emRtRnNSUUFBaEFVQUFLUUtBQUJPTVRCbGJYTmpjbWx3ZEdWdU1URnRaVzF2Y25sZmRtbGxkMGxqUlVVQUFJUUZBQURBQ2dBQVRqRXdaVzF6WTNKcGNIUmxiakV4YldWdGIzSjVYM1pwWlhkSllVVkZBQUNFQlFBQTZBb0FBRTR4TUdWdGMyTnlhWEIwWlc0eE1XMWxiVzl5ZVY5MmFXVjNTV2hGUlFBQWhBVUFBQkFMQUFCT01UQmxiWE5qY21sd2RHVnVNVEZ0WlcxdmNubGZkbWxsZDBselJVVUFBSVFGQUFBNEN3QUFUakV3WlcxelkzSnBjSFJsYmpFeGJXVnRiM0o1WDNacFpYZEpkRVZGQUFDRUJRQUFZQXNBQUU0eE1HVnRjMk55YVhCMFpXNHhNVzFsYlc5eWVWOTJhV1YzU1dsRlJRQUFoQVVBQUlnTEFBQk9NVEJsYlhOamNtbHdkR1Z1TVRGdFpXMXZjbmxmZG1sbGQwbHFSVVVBQUlRRkFBQ3dDd0FBVGpFd1pXMXpZM0pwY0hSbGJqRXhiV1Z0YjNKNVgzWnBaWGRKYkVWRkFBQ0VCUUFBMkFzQUFFNHhNR1Z0YzJOeWFYQjBaVzR4TVcxbGJXOXllVjkyYVdWM1NXMUZSUUFBaEFVQUFBQU1BQUJPTVRCbGJYTmpjbWx3ZEdWdU1URnRaVzF2Y25sZmRtbGxkMGw0UlVVQUFJUUZBQUFvREFBQVRqRXdaVzF6WTNKcGNIUmxiakV4YldWdGIzSjVYM1pwWlhkSmVVVkZBQUNFQlFBQVVBd0FBRTR4TUdWdGMyTnlhWEIwWlc0eE1XMWxiVzl5ZVY5MmFXVjNTV1pGUlFBQWhBVUFBSGdNQUFCT01UQmxiWE5qY21sd2RHVnVNVEZ0WlcxdmNubGZkbWxsZDBsa1JVVUFBSVFGQUFDZ0RBQkJ5QmtMQTlBT0FRPT0iO3JldHVybiBmfXZhciB3YXNtQmluYXJ5RmlsZTtmdW5jdGlvbiBnZXRCaW5hcnlTeW5jKGZpbGUpe2lmKGZpbGU9PXdhc21CaW5hcnlGaWxlJiZ3YXNtQmluYXJ5KXtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkod2FzbUJpbmFyeSl9dmFyIGJpbmFyeT10cnlQYXJzZUFzRGF0YVVSSShmaWxlKTtpZihiaW5hcnkpe3JldHVybiBiaW5hcnl9aWYocmVhZEJpbmFyeSl7cmV0dXJuIHJlYWRCaW5hcnkoZmlsZSl9dGhyb3cgImJvdGggYXN5bmMgYW5kIHN5bmMgZmV0Y2hpbmcgb2YgdGhlIHdhc20gZmFpbGVkIn1mdW5jdGlvbiBnZXRCaW5hcnlQcm9taXNlKGJpbmFyeUZpbGUpe3JldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpPT5nZXRCaW5hcnlTeW5jKGJpbmFyeUZpbGUpKX1mdW5jdGlvbiBpbnN0YW50aWF0ZUFycmF5QnVmZmVyKGJpbmFyeUZpbGUsaW1wb3J0cyxyZWNlaXZlcil7cmV0dXJuIGdldEJpbmFyeVByb21pc2UoYmluYXJ5RmlsZSkudGhlbihiaW5hcnk9PldlYkFzc2VtYmx5Lmluc3RhbnRpYXRlKGJpbmFyeSxpbXBvcnRzKSkudGhlbihyZWNlaXZlcixyZWFzb249PntlcnIoYGZhaWxlZCB0byBhc3luY2hyb25vdXNseSBwcmVwYXJlIHdhc206ICR7cmVhc29ufWApO2Fib3J0KHJlYXNvbik7fSl9ZnVuY3Rpb24gaW5zdGFudGlhdGVBc3luYyhiaW5hcnksYmluYXJ5RmlsZSxpbXBvcnRzLGNhbGxiYWNrKXtyZXR1cm4gaW5zdGFudGlhdGVBcnJheUJ1ZmZlcihiaW5hcnlGaWxlLGltcG9ydHMsY2FsbGJhY2spfWZ1bmN0aW9uIGdldFdhc21JbXBvcnRzKCl7cmV0dXJuIHthOndhc21JbXBvcnRzfX1mdW5jdGlvbiBjcmVhdGVXYXNtKCl7dmFyIGluZm89Z2V0V2FzbUltcG9ydHMoKTtmdW5jdGlvbiByZWNlaXZlSW5zdGFuY2UoaW5zdGFuY2UsbW9kdWxlKXt3YXNtRXhwb3J0cz1pbnN0YW5jZS5leHBvcnRzO3dhc21NZW1vcnk9d2FzbUV4cG9ydHNbImsiXTt1cGRhdGVNZW1vcnlWaWV3cygpO2FkZE9uSW5pdCh3YXNtRXhwb3J0c1sibCJdKTtyZW1vdmVSdW5EZXBlbmRlbmN5KCk7cmV0dXJuIHdhc21FeHBvcnRzfWFkZFJ1bkRlcGVuZGVuY3koKTtmdW5jdGlvbiByZWNlaXZlSW5zdGFudGlhdGlvblJlc3VsdChyZXN1bHQpe3JlY2VpdmVJbnN0YW5jZShyZXN1bHRbImluc3RhbmNlIl0pO31pZihNb2R1bGVbImluc3RhbnRpYXRlV2FzbSJdKXt0cnl7cmV0dXJuIE1vZHVsZVsiaW5zdGFudGlhdGVXYXNtIl0oaW5mbyxyZWNlaXZlSW5zdGFuY2UpfWNhdGNoKGUpe2VycihgTW9kdWxlLmluc3RhbnRpYXRlV2FzbSBjYWxsYmFjayBmYWlsZWQgd2l0aCBlcnJvcjogJHtlfWApO3JlYWR5UHJvbWlzZVJlamVjdChlKTt9fXdhc21CaW5hcnlGaWxlPz89ZmluZFdhc21CaW5hcnkoKTtpbnN0YW50aWF0ZUFzeW5jKHdhc21CaW5hcnksd2FzbUJpbmFyeUZpbGUsaW5mbyxyZWNlaXZlSW5zdGFudGlhdGlvblJlc3VsdCkuY2F0Y2gocmVhZHlQcm9taXNlUmVqZWN0KTtyZXR1cm4ge319dmFyIGNhbGxSdW50aW1lQ2FsbGJhY2tzPWNhbGxiYWNrcz0+e3doaWxlKGNhbGxiYWNrcy5sZW5ndGg+MCl7Y2FsbGJhY2tzLnNoaWZ0KCkoTW9kdWxlKTt9fTtNb2R1bGVbIm5vRXhpdFJ1bnRpbWUiXXx8dHJ1ZTt2YXIgX19lbWJpbmRfcmVnaXN0ZXJfYmlnaW50PShwcmltaXRpdmVUeXBlLG5hbWUsc2l6ZSxtaW5SYW5nZSxtYXhSYW5nZSk9Pnt9O3ZhciBlbWJpbmRfaW5pdF9jaGFyQ29kZXM9KCk9Pnt2YXIgY29kZXM9bmV3IEFycmF5KDI1Nik7Zm9yKHZhciBpPTA7aTwyNTY7KytpKXtjb2Rlc1tpXT1TdHJpbmcuZnJvbUNoYXJDb2RlKGkpO31lbWJpbmRfY2hhckNvZGVzPWNvZGVzO307dmFyIGVtYmluZF9jaGFyQ29kZXM7dmFyIHJlYWRMYXRpbjFTdHJpbmc9cHRyPT57dmFyIHJldD0iIjt2YXIgYz1wdHI7d2hpbGUoSEVBUFU4W2NdKXtyZXQrPWVtYmluZF9jaGFyQ29kZXNbSEVBUFU4W2MrK11dO31yZXR1cm4gcmV0fTt2YXIgYXdhaXRpbmdEZXBlbmRlbmNpZXM9e307dmFyIHJlZ2lzdGVyZWRUeXBlcz17fTt2YXIgQmluZGluZ0Vycm9yO3ZhciB0aHJvd0JpbmRpbmdFcnJvcj1tZXNzYWdlPT57dGhyb3cgbmV3IEJpbmRpbmdFcnJvcihtZXNzYWdlKX07ZnVuY3Rpb24gc2hhcmVkUmVnaXN0ZXJUeXBlKHJhd1R5cGUscmVnaXN0ZXJlZEluc3RhbmNlLG9wdGlvbnM9e30pe3ZhciBuYW1lPXJlZ2lzdGVyZWRJbnN0YW5jZS5uYW1lO2lmKCFyYXdUeXBlKXt0aHJvd0JpbmRpbmdFcnJvcihgdHlwZSAiJHtuYW1lfSIgbXVzdCBoYXZlIGEgcG9zaXRpdmUgaW50ZWdlciB0eXBlaWQgcG9pbnRlcmApO31pZihyZWdpc3RlcmVkVHlwZXMuaGFzT3duUHJvcGVydHkocmF3VHlwZSkpe2lmKG9wdGlvbnMuaWdub3JlRHVwbGljYXRlUmVnaXN0cmF0aW9ucyl7cmV0dXJufWVsc2Uge3Rocm93QmluZGluZ0Vycm9yKGBDYW5ub3QgcmVnaXN0ZXIgdHlwZSAnJHtuYW1lfScgdHdpY2VgKTt9fXJlZ2lzdGVyZWRUeXBlc1tyYXdUeXBlXT1yZWdpc3RlcmVkSW5zdGFuY2U7aWYoYXdhaXRpbmdEZXBlbmRlbmNpZXMuaGFzT3duUHJvcGVydHkocmF3VHlwZSkpe3ZhciBjYWxsYmFja3M9YXdhaXRpbmdEZXBlbmRlbmNpZXNbcmF3VHlwZV07ZGVsZXRlIGF3YWl0aW5nRGVwZW5kZW5jaWVzW3Jhd1R5cGVdO2NhbGxiYWNrcy5mb3JFYWNoKGNiPT5jYigpKTt9fWZ1bmN0aW9uIHJlZ2lzdGVyVHlwZShyYXdUeXBlLHJlZ2lzdGVyZWRJbnN0YW5jZSxvcHRpb25zPXt9KXtyZXR1cm4gc2hhcmVkUmVnaXN0ZXJUeXBlKHJhd1R5cGUscmVnaXN0ZXJlZEluc3RhbmNlLG9wdGlvbnMpfXZhciBHZW5lcmljV2lyZVR5cGVTaXplPTg7dmFyIF9fZW1iaW5kX3JlZ2lzdGVyX2Jvb2w9KHJhd1R5cGUsbmFtZSx0cnVlVmFsdWUsZmFsc2VWYWx1ZSk9PntuYW1lPXJlYWRMYXRpbjFTdHJpbmcobmFtZSk7cmVnaXN0ZXJUeXBlKHJhd1R5cGUse25hbWUsZnJvbVdpcmVUeXBlOmZ1bmN0aW9uKHd0KXtyZXR1cm4gISF3dH0sdG9XaXJlVHlwZTpmdW5jdGlvbihkZXN0cnVjdG9ycyxvKXtyZXR1cm4gbz90cnVlVmFsdWU6ZmFsc2VWYWx1ZX0sYXJnUGFja0FkdmFuY2U6R2VuZXJpY1dpcmVUeXBlU2l6ZSxyZWFkVmFsdWVGcm9tUG9pbnRlcjpmdW5jdGlvbihwb2ludGVyKXtyZXR1cm4gdGhpc1siZnJvbVdpcmVUeXBlIl0oSEVBUFU4W3BvaW50ZXJdKX0sZGVzdHJ1Y3RvckZ1bmN0aW9uOm51bGx9KTt9O3ZhciBlbXZhbF9mcmVlbGlzdD1bXTt2YXIgZW12YWxfaGFuZGxlcz1bXTt2YXIgX19lbXZhbF9kZWNyZWY9aGFuZGxlPT57aWYoaGFuZGxlPjkmJjA9PT0tLWVtdmFsX2hhbmRsZXNbaGFuZGxlKzFdKXtlbXZhbF9oYW5kbGVzW2hhbmRsZV09dW5kZWZpbmVkO2VtdmFsX2ZyZWVsaXN0LnB1c2goaGFuZGxlKTt9fTt2YXIgY291bnRfZW12YWxfaGFuZGxlcz0oKT0+ZW12YWxfaGFuZGxlcy5sZW5ndGgvMi01LWVtdmFsX2ZyZWVsaXN0Lmxlbmd0aDt2YXIgaW5pdF9lbXZhbD0oKT0+e2VtdmFsX2hhbmRsZXMucHVzaCgwLDEsdW5kZWZpbmVkLDEsbnVsbCwxLHRydWUsMSxmYWxzZSwxKTtNb2R1bGVbImNvdW50X2VtdmFsX2hhbmRsZXMiXT1jb3VudF9lbXZhbF9oYW5kbGVzO307dmFyIEVtdmFsPXt0b1ZhbHVlOmhhbmRsZT0+e2lmKCFoYW5kbGUpe3Rocm93QmluZGluZ0Vycm9yKCJDYW5ub3QgdXNlIGRlbGV0ZWQgdmFsLiBoYW5kbGUgPSAiK2hhbmRsZSk7fXJldHVybiBlbXZhbF9oYW5kbGVzW2hhbmRsZV19LHRvSGFuZGxlOnZhbHVlPT57c3dpdGNoKHZhbHVlKXtjYXNlIHVuZGVmaW5lZDpyZXR1cm4gMjtjYXNlIG51bGw6cmV0dXJuIDQ7Y2FzZSB0cnVlOnJldHVybiA2O2Nhc2UgZmFsc2U6cmV0dXJuIDg7ZGVmYXVsdDp7Y29uc3QgaGFuZGxlPWVtdmFsX2ZyZWVsaXN0LnBvcCgpfHxlbXZhbF9oYW5kbGVzLmxlbmd0aDtlbXZhbF9oYW5kbGVzW2hhbmRsZV09dmFsdWU7ZW12YWxfaGFuZGxlc1toYW5kbGUrMV09MTtyZXR1cm4gaGFuZGxlfX19fTtmdW5jdGlvbiByZWFkUG9pbnRlcihwb2ludGVyKXtyZXR1cm4gdGhpc1siZnJvbVdpcmVUeXBlIl0oSEVBUFUzMltwb2ludGVyPj4yXSl9dmFyIEVtVmFsVHlwZT17bmFtZToiZW1zY3JpcHRlbjo6dmFsIixmcm9tV2lyZVR5cGU6aGFuZGxlPT57dmFyIHJ2PUVtdmFsLnRvVmFsdWUoaGFuZGxlKTtfX2VtdmFsX2RlY3JlZihoYW5kbGUpO3JldHVybiBydn0sdG9XaXJlVHlwZTooZGVzdHJ1Y3RvcnMsdmFsdWUpPT5FbXZhbC50b0hhbmRsZSh2YWx1ZSksYXJnUGFja0FkdmFuY2U6R2VuZXJpY1dpcmVUeXBlU2l6ZSxyZWFkVmFsdWVGcm9tUG9pbnRlcjpyZWFkUG9pbnRlcixkZXN0cnVjdG9yRnVuY3Rpb246bnVsbH07dmFyIF9fZW1iaW5kX3JlZ2lzdGVyX2VtdmFsPXJhd1R5cGU9PnJlZ2lzdGVyVHlwZShyYXdUeXBlLEVtVmFsVHlwZSk7dmFyIGZsb2F0UmVhZFZhbHVlRnJvbVBvaW50ZXI9KG5hbWUsd2lkdGgpPT57c3dpdGNoKHdpZHRoKXtjYXNlIDQ6cmV0dXJuIGZ1bmN0aW9uKHBvaW50ZXIpe3JldHVybiB0aGlzWyJmcm9tV2lyZVR5cGUiXShIRUFQRjMyW3BvaW50ZXI+PjJdKX07Y2FzZSA4OnJldHVybiBmdW5jdGlvbihwb2ludGVyKXtyZXR1cm4gdGhpc1siZnJvbVdpcmVUeXBlIl0oSEVBUEY2NFtwb2ludGVyPj4zXSl9O2RlZmF1bHQ6dGhyb3cgbmV3IFR5cGVFcnJvcihgaW52YWxpZCBmbG9hdCB3aWR0aCAoJHt3aWR0aH0pOiAke25hbWV9YCl9fTt2YXIgX19lbWJpbmRfcmVnaXN0ZXJfZmxvYXQ9KHJhd1R5cGUsbmFtZSxzaXplKT0+e25hbWU9cmVhZExhdGluMVN0cmluZyhuYW1lKTtyZWdpc3RlclR5cGUocmF3VHlwZSx7bmFtZSxmcm9tV2lyZVR5cGU6dmFsdWU9PnZhbHVlLHRvV2lyZVR5cGU6KGRlc3RydWN0b3JzLHZhbHVlKT0+dmFsdWUsYXJnUGFja0FkdmFuY2U6R2VuZXJpY1dpcmVUeXBlU2l6ZSxyZWFkVmFsdWVGcm9tUG9pbnRlcjpmbG9hdFJlYWRWYWx1ZUZyb21Qb2ludGVyKG5hbWUsc2l6ZSksZGVzdHJ1Y3RvckZ1bmN0aW9uOm51bGx9KTt9O3ZhciBpbnRlZ2VyUmVhZFZhbHVlRnJvbVBvaW50ZXI9KG5hbWUsd2lkdGgsc2lnbmVkKT0+e3N3aXRjaCh3aWR0aCl7Y2FzZSAxOnJldHVybiBzaWduZWQ/cG9pbnRlcj0+SEVBUDhbcG9pbnRlcl06cG9pbnRlcj0+SEVBUFU4W3BvaW50ZXJdO2Nhc2UgMjpyZXR1cm4gc2lnbmVkP3BvaW50ZXI9PkhFQVAxNltwb2ludGVyPj4xXTpwb2ludGVyPT5IRUFQVTE2W3BvaW50ZXI+PjFdO2Nhc2UgNDpyZXR1cm4gc2lnbmVkP3BvaW50ZXI9PkhFQVAzMltwb2ludGVyPj4yXTpwb2ludGVyPT5IRUFQVTMyW3BvaW50ZXI+PjJdO2RlZmF1bHQ6dGhyb3cgbmV3IFR5cGVFcnJvcihgaW52YWxpZCBpbnRlZ2VyIHdpZHRoICgke3dpZHRofSk6ICR7bmFtZX1gKX19O3ZhciBfX2VtYmluZF9yZWdpc3Rlcl9pbnRlZ2VyPShwcmltaXRpdmVUeXBlLG5hbWUsc2l6ZSxtaW5SYW5nZSxtYXhSYW5nZSk9PntuYW1lPXJlYWRMYXRpbjFTdHJpbmcobmFtZSk7dmFyIGZyb21XaXJlVHlwZT12YWx1ZT0+dmFsdWU7aWYobWluUmFuZ2U9PT0wKXt2YXIgYml0c2hpZnQ9MzItOCpzaXplO2Zyb21XaXJlVHlwZT12YWx1ZT0+dmFsdWU8PGJpdHNoaWZ0Pj4+Yml0c2hpZnQ7fXZhciBpc1Vuc2lnbmVkVHlwZT1uYW1lLmluY2x1ZGVzKCJ1bnNpZ25lZCIpO3ZhciBjaGVja0Fzc2VydGlvbnM9KHZhbHVlLHRvVHlwZU5hbWUpPT57fTt2YXIgdG9XaXJlVHlwZTtpZihpc1Vuc2lnbmVkVHlwZSl7dG9XaXJlVHlwZT1mdW5jdGlvbihkZXN0cnVjdG9ycyx2YWx1ZSl7Y2hlY2tBc3NlcnRpb25zKHZhbHVlLHRoaXMubmFtZSk7cmV0dXJuIHZhbHVlPj4+MH07fWVsc2Uge3RvV2lyZVR5cGU9ZnVuY3Rpb24oZGVzdHJ1Y3RvcnMsdmFsdWUpe2NoZWNrQXNzZXJ0aW9ucyh2YWx1ZSx0aGlzLm5hbWUpO3JldHVybiB2YWx1ZX07fXJlZ2lzdGVyVHlwZShwcmltaXRpdmVUeXBlLHtuYW1lLGZyb21XaXJlVHlwZSx0b1dpcmVUeXBlLGFyZ1BhY2tBZHZhbmNlOkdlbmVyaWNXaXJlVHlwZVNpemUscmVhZFZhbHVlRnJvbVBvaW50ZXI6aW50ZWdlclJlYWRWYWx1ZUZyb21Qb2ludGVyKG5hbWUsc2l6ZSxtaW5SYW5nZSE9PTApLGRlc3RydWN0b3JGdW5jdGlvbjpudWxsfSk7fTt2YXIgX19lbWJpbmRfcmVnaXN0ZXJfbWVtb3J5X3ZpZXc9KHJhd1R5cGUsZGF0YVR5cGVJbmRleCxuYW1lKT0+e3ZhciB0eXBlTWFwcGluZz1bSW50OEFycmF5LFVpbnQ4QXJyYXksSW50MTZBcnJheSxVaW50MTZBcnJheSxJbnQzMkFycmF5LFVpbnQzMkFycmF5LEZsb2F0MzJBcnJheSxGbG9hdDY0QXJyYXldO3ZhciBUQT10eXBlTWFwcGluZ1tkYXRhVHlwZUluZGV4XTtmdW5jdGlvbiBkZWNvZGVNZW1vcnlWaWV3KGhhbmRsZSl7dmFyIHNpemU9SEVBUFUzMltoYW5kbGU+PjJdO3ZhciBkYXRhPUhFQVBVMzJbaGFuZGxlKzQ+PjJdO3JldHVybiBuZXcgVEEoSEVBUDguYnVmZmVyLGRhdGEsc2l6ZSl9bmFtZT1yZWFkTGF0aW4xU3RyaW5nKG5hbWUpO3JlZ2lzdGVyVHlwZShyYXdUeXBlLHtuYW1lLGZyb21XaXJlVHlwZTpkZWNvZGVNZW1vcnlWaWV3LGFyZ1BhY2tBZHZhbmNlOkdlbmVyaWNXaXJlVHlwZVNpemUscmVhZFZhbHVlRnJvbVBvaW50ZXI6ZGVjb2RlTWVtb3J5Vmlld30se2lnbm9yZUR1cGxpY2F0ZVJlZ2lzdHJhdGlvbnM6dHJ1ZX0pO307dmFyIHN0cmluZ1RvVVRGOEFycmF5PShzdHIsaGVhcCxvdXRJZHgsbWF4Qnl0ZXNUb1dyaXRlKT0+e2lmKCEobWF4Qnl0ZXNUb1dyaXRlPjApKXJldHVybiAwO3ZhciBzdGFydElkeD1vdXRJZHg7dmFyIGVuZElkeD1vdXRJZHgrbWF4Qnl0ZXNUb1dyaXRlLTE7Zm9yKHZhciBpPTA7aTxzdHIubGVuZ3RoOysraSl7dmFyIHU9c3RyLmNoYXJDb2RlQXQoaSk7aWYodT49NTUyOTYmJnU8PTU3MzQzKXt2YXIgdTE9c3RyLmNoYXJDb2RlQXQoKytpKTt1PTY1NTM2KygodSYxMDIzKTw8MTApfHUxJjEwMjM7fWlmKHU8PTEyNyl7aWYob3V0SWR4Pj1lbmRJZHgpYnJlYWs7aGVhcFtvdXRJZHgrK109dTt9ZWxzZSBpZih1PD0yMDQ3KXtpZihvdXRJZHgrMT49ZW5kSWR4KWJyZWFrO2hlYXBbb3V0SWR4KytdPTE5Mnx1Pj42O2hlYXBbb3V0SWR4KytdPTEyOHx1JjYzO31lbHNlIGlmKHU8PTY1NTM1KXtpZihvdXRJZHgrMj49ZW5kSWR4KWJyZWFrO2hlYXBbb3V0SWR4KytdPTIyNHx1Pj4xMjtoZWFwW291dElkeCsrXT0xMjh8dT4+NiY2MztoZWFwW291dElkeCsrXT0xMjh8dSY2Mzt9ZWxzZSB7aWYob3V0SWR4KzM+PWVuZElkeClicmVhaztoZWFwW291dElkeCsrXT0yNDB8dT4+MTg7aGVhcFtvdXRJZHgrK109MTI4fHU+PjEyJjYzO2hlYXBbb3V0SWR4KytdPTEyOHx1Pj42JjYzO2hlYXBbb3V0SWR4KytdPTEyOHx1JjYzO319aGVhcFtvdXRJZHhdPTA7cmV0dXJuIG91dElkeC1zdGFydElkeH07dmFyIHN0cmluZ1RvVVRGOD0oc3RyLG91dFB0cixtYXhCeXRlc1RvV3JpdGUpPT5zdHJpbmdUb1VURjhBcnJheShzdHIsSEVBUFU4LG91dFB0cixtYXhCeXRlc1RvV3JpdGUpO3ZhciBsZW5ndGhCeXRlc1VURjg9c3RyPT57dmFyIGxlbj0wO2Zvcih2YXIgaT0wO2k8c3RyLmxlbmd0aDsrK2kpe3ZhciBjPXN0ci5jaGFyQ29kZUF0KGkpO2lmKGM8PTEyNyl7bGVuKys7fWVsc2UgaWYoYzw9MjA0Nyl7bGVuKz0yO31lbHNlIGlmKGM+PTU1Mjk2JiZjPD01NzM0Myl7bGVuKz00OysraTt9ZWxzZSB7bGVuKz0zO319cmV0dXJuIGxlbn07dmFyIFVURjhEZWNvZGVyPXR5cGVvZiBUZXh0RGVjb2RlciE9InVuZGVmaW5lZCI/bmV3IFRleHREZWNvZGVyOnVuZGVmaW5lZDt2YXIgVVRGOEFycmF5VG9TdHJpbmc9KGhlYXBPckFycmF5LGlkeCxtYXhCeXRlc1RvUmVhZCk9Pnt2YXIgZW5kSWR4PWlkeCttYXhCeXRlc1RvUmVhZDt2YXIgZW5kUHRyPWlkeDt3aGlsZShoZWFwT3JBcnJheVtlbmRQdHJdJiYhKGVuZFB0cj49ZW5kSWR4KSkrK2VuZFB0cjtpZihlbmRQdHItaWR4PjE2JiZoZWFwT3JBcnJheS5idWZmZXImJlVURjhEZWNvZGVyKXtyZXR1cm4gVVRGOERlY29kZXIuZGVjb2RlKGhlYXBPckFycmF5LnN1YmFycmF5KGlkeCxlbmRQdHIpKX12YXIgc3RyPSIiO3doaWxlKGlkeDxlbmRQdHIpe3ZhciB1MD1oZWFwT3JBcnJheVtpZHgrK107aWYoISh1MCYxMjgpKXtzdHIrPVN0cmluZy5mcm9tQ2hhckNvZGUodTApO2NvbnRpbnVlfXZhciB1MT1oZWFwT3JBcnJheVtpZHgrK10mNjM7aWYoKHUwJjIyNCk9PTE5Mil7c3RyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKCh1MCYzMSk8PDZ8dTEpO2NvbnRpbnVlfXZhciB1Mj1oZWFwT3JBcnJheVtpZHgrK10mNjM7aWYoKHUwJjI0MCk9PTIyNCl7dTA9KHUwJjE1KTw8MTJ8dTE8PDZ8dTI7fWVsc2Uge3UwPSh1MCY3KTw8MTh8dTE8PDEyfHUyPDw2fGhlYXBPckFycmF5W2lkeCsrXSY2Mzt9aWYodTA8NjU1MzYpe3N0cis9U3RyaW5nLmZyb21DaGFyQ29kZSh1MCk7fWVsc2Uge3ZhciBjaD11MC02NTUzNjtzdHIrPVN0cmluZy5mcm9tQ2hhckNvZGUoNTUyOTZ8Y2g+PjEwLDU2MzIwfGNoJjEwMjMpO319cmV0dXJuIHN0cn07dmFyIFVURjhUb1N0cmluZz0ocHRyLG1heEJ5dGVzVG9SZWFkKT0+cHRyP1VURjhBcnJheVRvU3RyaW5nKEhFQVBVOCxwdHIsbWF4Qnl0ZXNUb1JlYWQpOiIiO3ZhciBfX2VtYmluZF9yZWdpc3Rlcl9zdGRfc3RyaW5nPShyYXdUeXBlLG5hbWUpPT57bmFtZT1yZWFkTGF0aW4xU3RyaW5nKG5hbWUpO3ZhciBzdGRTdHJpbmdJc1VURjg9bmFtZT09PSJzdGQ6OnN0cmluZyI7cmVnaXN0ZXJUeXBlKHJhd1R5cGUse25hbWUsZnJvbVdpcmVUeXBlKHZhbHVlKXt2YXIgbGVuZ3RoPUhFQVBVMzJbdmFsdWU+PjJdO3ZhciBwYXlsb2FkPXZhbHVlKzQ7dmFyIHN0cjtpZihzdGRTdHJpbmdJc1VURjgpe3ZhciBkZWNvZGVTdGFydFB0cj1wYXlsb2FkO2Zvcih2YXIgaT0wO2k8PWxlbmd0aDsrK2kpe3ZhciBjdXJyZW50Qnl0ZVB0cj1wYXlsb2FkK2k7aWYoaT09bGVuZ3RofHxIRUFQVThbY3VycmVudEJ5dGVQdHJdPT0wKXt2YXIgbWF4UmVhZD1jdXJyZW50Qnl0ZVB0ci1kZWNvZGVTdGFydFB0cjt2YXIgc3RyaW5nU2VnbWVudD1VVEY4VG9TdHJpbmcoZGVjb2RlU3RhcnRQdHIsbWF4UmVhZCk7aWYoc3RyPT09dW5kZWZpbmVkKXtzdHI9c3RyaW5nU2VnbWVudDt9ZWxzZSB7c3RyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDApO3N0cis9c3RyaW5nU2VnbWVudDt9ZGVjb2RlU3RhcnRQdHI9Y3VycmVudEJ5dGVQdHIrMTt9fX1lbHNlIHt2YXIgYT1uZXcgQXJyYXkobGVuZ3RoKTtmb3IodmFyIGk9MDtpPGxlbmd0aDsrK2kpe2FbaV09U3RyaW5nLmZyb21DaGFyQ29kZShIRUFQVThbcGF5bG9hZCtpXSk7fXN0cj1hLmpvaW4oIiIpO31fZnJlZSh2YWx1ZSk7cmV0dXJuIHN0cn0sdG9XaXJlVHlwZShkZXN0cnVjdG9ycyx2YWx1ZSl7aWYodmFsdWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcil7dmFsdWU9bmV3IFVpbnQ4QXJyYXkodmFsdWUpO312YXIgbGVuZ3RoO3ZhciB2YWx1ZUlzT2ZUeXBlU3RyaW5nPXR5cGVvZiB2YWx1ZT09InN0cmluZyI7aWYoISh2YWx1ZUlzT2ZUeXBlU3RyaW5nfHx2YWx1ZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fHZhbHVlIGluc3RhbmNlb2YgVWludDhDbGFtcGVkQXJyYXl8fHZhbHVlIGluc3RhbmNlb2YgSW50OEFycmF5KSl7dGhyb3dCaW5kaW5nRXJyb3IoIkNhbm5vdCBwYXNzIG5vbi1zdHJpbmcgdG8gc3RkOjpzdHJpbmciKTt9aWYoc3RkU3RyaW5nSXNVVEY4JiZ2YWx1ZUlzT2ZUeXBlU3RyaW5nKXtsZW5ndGg9bGVuZ3RoQnl0ZXNVVEY4KHZhbHVlKTt9ZWxzZSB7bGVuZ3RoPXZhbHVlLmxlbmd0aDt9dmFyIGJhc2U9X21hbGxvYyg0K2xlbmd0aCsxKTt2YXIgcHRyPWJhc2UrNDtIRUFQVTMyW2Jhc2U+PjJdPWxlbmd0aDtpZihzdGRTdHJpbmdJc1VURjgmJnZhbHVlSXNPZlR5cGVTdHJpbmcpe3N0cmluZ1RvVVRGOCh2YWx1ZSxwdHIsbGVuZ3RoKzEpO31lbHNlIHtpZih2YWx1ZUlzT2ZUeXBlU3RyaW5nKXtmb3IodmFyIGk9MDtpPGxlbmd0aDsrK2kpe3ZhciBjaGFyQ29kZT12YWx1ZS5jaGFyQ29kZUF0KGkpO2lmKGNoYXJDb2RlPjI1NSl7X2ZyZWUocHRyKTt0aHJvd0JpbmRpbmdFcnJvcigiU3RyaW5nIGhhcyBVVEYtMTYgY29kZSB1bml0cyB0aGF0IGRvIG5vdCBmaXQgaW4gOCBiaXRzIik7fUhFQVBVOFtwdHIraV09Y2hhckNvZGU7fX1lbHNlIHtmb3IodmFyIGk9MDtpPGxlbmd0aDsrK2kpe0hFQVBVOFtwdHIraV09dmFsdWVbaV07fX19aWYoZGVzdHJ1Y3RvcnMhPT1udWxsKXtkZXN0cnVjdG9ycy5wdXNoKF9mcmVlLGJhc2UpO31yZXR1cm4gYmFzZX0sYXJnUGFja0FkdmFuY2U6R2VuZXJpY1dpcmVUeXBlU2l6ZSxyZWFkVmFsdWVGcm9tUG9pbnRlcjpyZWFkUG9pbnRlcixkZXN0cnVjdG9yRnVuY3Rpb24ocHRyKXtfZnJlZShwdHIpO319KTt9O3ZhciBVVEYxNkRlY29kZXI9dHlwZW9mIFRleHREZWNvZGVyIT0idW5kZWZpbmVkIj9uZXcgVGV4dERlY29kZXIoInV0Zi0xNmxlIik6dW5kZWZpbmVkO3ZhciBVVEYxNlRvU3RyaW5nPShwdHIsbWF4Qnl0ZXNUb1JlYWQpPT57dmFyIGVuZFB0cj1wdHI7dmFyIGlkeD1lbmRQdHI+PjE7dmFyIG1heElkeD1pZHgrbWF4Qnl0ZXNUb1JlYWQvMjt3aGlsZSghKGlkeD49bWF4SWR4KSYmSEVBUFUxNltpZHhdKSsraWR4O2VuZFB0cj1pZHg8PDE7aWYoZW5kUHRyLXB0cj4zMiYmVVRGMTZEZWNvZGVyKXJldHVybiBVVEYxNkRlY29kZXIuZGVjb2RlKEhFQVBVOC5zdWJhcnJheShwdHIsZW5kUHRyKSk7dmFyIHN0cj0iIjtmb3IodmFyIGk9MDshKGk+PW1heEJ5dGVzVG9SZWFkLzIpOysraSl7dmFyIGNvZGVVbml0PUhFQVAxNltwdHIraSoyPj4xXTtpZihjb2RlVW5pdD09MClicmVhaztzdHIrPVN0cmluZy5mcm9tQ2hhckNvZGUoY29kZVVuaXQpO31yZXR1cm4gc3RyfTt2YXIgc3RyaW5nVG9VVEYxNj0oc3RyLG91dFB0cixtYXhCeXRlc1RvV3JpdGUpPT57bWF4Qnl0ZXNUb1dyaXRlPz89MjE0NzQ4MzY0NztpZihtYXhCeXRlc1RvV3JpdGU8MilyZXR1cm4gMDttYXhCeXRlc1RvV3JpdGUtPTI7dmFyIHN0YXJ0UHRyPW91dFB0cjt2YXIgbnVtQ2hhcnNUb1dyaXRlPW1heEJ5dGVzVG9Xcml0ZTxzdHIubGVuZ3RoKjI/bWF4Qnl0ZXNUb1dyaXRlLzI6c3RyLmxlbmd0aDtmb3IodmFyIGk9MDtpPG51bUNoYXJzVG9Xcml0ZTsrK2kpe3ZhciBjb2RlVW5pdD1zdHIuY2hhckNvZGVBdChpKTtIRUFQMTZbb3V0UHRyPj4xXT1jb2RlVW5pdDtvdXRQdHIrPTI7fUhFQVAxNltvdXRQdHI+PjFdPTA7cmV0dXJuIG91dFB0ci1zdGFydFB0cn07dmFyIGxlbmd0aEJ5dGVzVVRGMTY9c3RyPT5zdHIubGVuZ3RoKjI7dmFyIFVURjMyVG9TdHJpbmc9KHB0cixtYXhCeXRlc1RvUmVhZCk9Pnt2YXIgaT0wO3ZhciBzdHI9IiI7d2hpbGUoIShpPj1tYXhCeXRlc1RvUmVhZC80KSl7dmFyIHV0ZjMyPUhFQVAzMltwdHIraSo0Pj4yXTtpZih1dGYzMj09MClicmVhazsrK2k7aWYodXRmMzI+PTY1NTM2KXt2YXIgY2g9dXRmMzItNjU1MzY7c3RyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDU1Mjk2fGNoPj4xMCw1NjMyMHxjaCYxMDIzKTt9ZWxzZSB7c3RyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHV0ZjMyKTt9fXJldHVybiBzdHJ9O3ZhciBzdHJpbmdUb1VURjMyPShzdHIsb3V0UHRyLG1heEJ5dGVzVG9Xcml0ZSk9PnttYXhCeXRlc1RvV3JpdGU/Pz0yMTQ3NDgzNjQ3O2lmKG1heEJ5dGVzVG9Xcml0ZTw0KXJldHVybiAwO3ZhciBzdGFydFB0cj1vdXRQdHI7dmFyIGVuZFB0cj1zdGFydFB0cittYXhCeXRlc1RvV3JpdGUtNDtmb3IodmFyIGk9MDtpPHN0ci5sZW5ndGg7KytpKXt2YXIgY29kZVVuaXQ9c3RyLmNoYXJDb2RlQXQoaSk7aWYoY29kZVVuaXQ+PTU1Mjk2JiZjb2RlVW5pdDw9NTczNDMpe3ZhciB0cmFpbFN1cnJvZ2F0ZT1zdHIuY2hhckNvZGVBdCgrK2kpO2NvZGVVbml0PTY1NTM2KygoY29kZVVuaXQmMTAyMyk8PDEwKXx0cmFpbFN1cnJvZ2F0ZSYxMDIzO31IRUFQMzJbb3V0UHRyPj4yXT1jb2RlVW5pdDtvdXRQdHIrPTQ7aWYob3V0UHRyKzQ+ZW5kUHRyKWJyZWFrfUhFQVAzMltvdXRQdHI+PjJdPTA7cmV0dXJuIG91dFB0ci1zdGFydFB0cn07dmFyIGxlbmd0aEJ5dGVzVVRGMzI9c3RyPT57dmFyIGxlbj0wO2Zvcih2YXIgaT0wO2k8c3RyLmxlbmd0aDsrK2kpe3ZhciBjb2RlVW5pdD1zdHIuY2hhckNvZGVBdChpKTtpZihjb2RlVW5pdD49NTUyOTYmJmNvZGVVbml0PD01NzM0MykrK2k7bGVuKz00O31yZXR1cm4gbGVufTt2YXIgX19lbWJpbmRfcmVnaXN0ZXJfc3RkX3dzdHJpbmc9KHJhd1R5cGUsY2hhclNpemUsbmFtZSk9PntuYW1lPXJlYWRMYXRpbjFTdHJpbmcobmFtZSk7dmFyIGRlY29kZVN0cmluZyxlbmNvZGVTdHJpbmcscmVhZENoYXJBdCxsZW5ndGhCeXRlc1VURjtpZihjaGFyU2l6ZT09PTIpe2RlY29kZVN0cmluZz1VVEYxNlRvU3RyaW5nO2VuY29kZVN0cmluZz1zdHJpbmdUb1VURjE2O2xlbmd0aEJ5dGVzVVRGPWxlbmd0aEJ5dGVzVVRGMTY7cmVhZENoYXJBdD1wb2ludGVyPT5IRUFQVTE2W3BvaW50ZXI+PjFdO31lbHNlIGlmKGNoYXJTaXplPT09NCl7ZGVjb2RlU3RyaW5nPVVURjMyVG9TdHJpbmc7ZW5jb2RlU3RyaW5nPXN0cmluZ1RvVVRGMzI7bGVuZ3RoQnl0ZXNVVEY9bGVuZ3RoQnl0ZXNVVEYzMjtyZWFkQ2hhckF0PXBvaW50ZXI9PkhFQVBVMzJbcG9pbnRlcj4+Ml07fXJlZ2lzdGVyVHlwZShyYXdUeXBlLHtuYW1lLGZyb21XaXJlVHlwZTp2YWx1ZT0+e3ZhciBsZW5ndGg9SEVBUFUzMlt2YWx1ZT4+Ml07dmFyIHN0cjt2YXIgZGVjb2RlU3RhcnRQdHI9dmFsdWUrNDtmb3IodmFyIGk9MDtpPD1sZW5ndGg7KytpKXt2YXIgY3VycmVudEJ5dGVQdHI9dmFsdWUrNCtpKmNoYXJTaXplO2lmKGk9PWxlbmd0aHx8cmVhZENoYXJBdChjdXJyZW50Qnl0ZVB0cik9PTApe3ZhciBtYXhSZWFkQnl0ZXM9Y3VycmVudEJ5dGVQdHItZGVjb2RlU3RhcnRQdHI7dmFyIHN0cmluZ1NlZ21lbnQ9ZGVjb2RlU3RyaW5nKGRlY29kZVN0YXJ0UHRyLG1heFJlYWRCeXRlcyk7aWYoc3RyPT09dW5kZWZpbmVkKXtzdHI9c3RyaW5nU2VnbWVudDt9ZWxzZSB7c3RyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDApO3N0cis9c3RyaW5nU2VnbWVudDt9ZGVjb2RlU3RhcnRQdHI9Y3VycmVudEJ5dGVQdHIrY2hhclNpemU7fX1fZnJlZSh2YWx1ZSk7cmV0dXJuIHN0cn0sdG9XaXJlVHlwZTooZGVzdHJ1Y3RvcnMsdmFsdWUpPT57aWYoISh0eXBlb2YgdmFsdWU9PSJzdHJpbmciKSl7dGhyb3dCaW5kaW5nRXJyb3IoYENhbm5vdCBwYXNzIG5vbi1zdHJpbmcgdG8gQysrIHN0cmluZyB0eXBlICR7bmFtZX1gKTt9dmFyIGxlbmd0aD1sZW5ndGhCeXRlc1VURih2YWx1ZSk7dmFyIHB0cj1fbWFsbG9jKDQrbGVuZ3RoK2NoYXJTaXplKTtIRUFQVTMyW3B0cj4+Ml09bGVuZ3RoL2NoYXJTaXplO2VuY29kZVN0cmluZyh2YWx1ZSxwdHIrNCxsZW5ndGgrY2hhclNpemUpO2lmKGRlc3RydWN0b3JzIT09bnVsbCl7ZGVzdHJ1Y3RvcnMucHVzaChfZnJlZSxwdHIpO31yZXR1cm4gcHRyfSxhcmdQYWNrQWR2YW5jZTpHZW5lcmljV2lyZVR5cGVTaXplLHJlYWRWYWx1ZUZyb21Qb2ludGVyOnJlYWRQb2ludGVyLGRlc3RydWN0b3JGdW5jdGlvbihwdHIpe19mcmVlKHB0cik7fX0pO307dmFyIF9fZW1iaW5kX3JlZ2lzdGVyX3ZvaWQ9KHJhd1R5cGUsbmFtZSk9PntuYW1lPXJlYWRMYXRpbjFTdHJpbmcobmFtZSk7cmVnaXN0ZXJUeXBlKHJhd1R5cGUse2lzVm9pZDp0cnVlLG5hbWUsYXJnUGFja0FkdmFuY2U6MCxmcm9tV2lyZVR5cGU6KCk9PnVuZGVmaW5lZCx0b1dpcmVUeXBlOihkZXN0cnVjdG9ycyxvKT0+dW5kZWZpbmVkfSk7fTt2YXIgZ2V0SGVhcE1heD0oKT0+MjE0NzQ4MzY0ODt2YXIgYWxpZ25NZW1vcnk9KHNpemUsYWxpZ25tZW50KT0+TWF0aC5jZWlsKHNpemUvYWxpZ25tZW50KSphbGlnbm1lbnQ7dmFyIGdyb3dNZW1vcnk9c2l6ZT0+e3ZhciBiPXdhc21NZW1vcnkuYnVmZmVyO3ZhciBwYWdlcz0oc2l6ZS1iLmJ5dGVMZW5ndGgrNjU1MzUpLzY1NTM2O3RyeXt3YXNtTWVtb3J5Lmdyb3cocGFnZXMpO3VwZGF0ZU1lbW9yeVZpZXdzKCk7cmV0dXJuIDF9Y2F0Y2goZSl7fX07dmFyIF9lbXNjcmlwdGVuX3Jlc2l6ZV9oZWFwPXJlcXVlc3RlZFNpemU9Pnt2YXIgb2xkU2l6ZT1IRUFQVTgubGVuZ3RoO3JlcXVlc3RlZFNpemU+Pj49MDt2YXIgbWF4SGVhcFNpemU9Z2V0SGVhcE1heCgpO2lmKHJlcXVlc3RlZFNpemU+bWF4SGVhcFNpemUpe3JldHVybiBmYWxzZX1mb3IodmFyIGN1dERvd249MTtjdXREb3duPD00O2N1dERvd24qPTIpe3ZhciBvdmVyR3Jvd25IZWFwU2l6ZT1vbGRTaXplKigxKy4yL2N1dERvd24pO292ZXJHcm93bkhlYXBTaXplPU1hdGgubWluKG92ZXJHcm93bkhlYXBTaXplLHJlcXVlc3RlZFNpemUrMTAwNjYzMjk2KTt2YXIgbmV3U2l6ZT1NYXRoLm1pbihtYXhIZWFwU2l6ZSxhbGlnbk1lbW9yeShNYXRoLm1heChyZXF1ZXN0ZWRTaXplLG92ZXJHcm93bkhlYXBTaXplKSw2NTUzNikpO3ZhciByZXBsYWNlbWVudD1ncm93TWVtb3J5KG5ld1NpemUpO2lmKHJlcGxhY2VtZW50KXtyZXR1cm4gdHJ1ZX19cmV0dXJuIGZhbHNlfTtlbWJpbmRfaW5pdF9jaGFyQ29kZXMoKTtCaW5kaW5nRXJyb3I9TW9kdWxlWyJCaW5kaW5nRXJyb3IiXT1jbGFzcyBCaW5kaW5nRXJyb3IgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihtZXNzYWdlKXtzdXBlcihtZXNzYWdlKTt0aGlzLm5hbWU9IkJpbmRpbmdFcnJvciI7fX07TW9kdWxlWyJJbnRlcm5hbEVycm9yIl09Y2xhc3MgSW50ZXJuYWxFcnJvciBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKG1lc3NhZ2Upe3N1cGVyKG1lc3NhZ2UpO3RoaXMubmFtZT0iSW50ZXJuYWxFcnJvciI7fX07aW5pdF9lbXZhbCgpO3ZhciB3YXNtSW1wb3J0cz17ZjpfX2VtYmluZF9yZWdpc3Rlcl9iaWdpbnQsaDpfX2VtYmluZF9yZWdpc3Rlcl9ib29sLGc6X19lbWJpbmRfcmVnaXN0ZXJfZW12YWwsZTpfX2VtYmluZF9yZWdpc3Rlcl9mbG9hdCxiOl9fZW1iaW5kX3JlZ2lzdGVyX2ludGVnZXIsYTpfX2VtYmluZF9yZWdpc3Rlcl9tZW1vcnlfdmlldyxkOl9fZW1iaW5kX3JlZ2lzdGVyX3N0ZF9zdHJpbmcsYzpfX2VtYmluZF9yZWdpc3Rlcl9zdGRfd3N0cmluZyxpOl9fZW1iaW5kX3JlZ2lzdGVyX3ZvaWQsajpfZW1zY3JpcHRlbl9yZXNpemVfaGVhcH07dmFyIHdhc21FeHBvcnRzPWNyZWF0ZVdhc20oKTtNb2R1bGVbIl9zb3J0Il09KGEwLGExLGEyLGEzLGE0LGE1LGE2LGE3LGE4KT0+KE1vZHVsZVsiX3NvcnQiXT13YXNtRXhwb3J0c1sibSJdKShhMCxhMSxhMixhMyxhNCxhNSxhNixhNyxhOCk7dmFyIF9tYWxsb2M9TW9kdWxlWyJfbWFsbG9jIl09YTA9PihfbWFsbG9jPU1vZHVsZVsiX21hbGxvYyJdPXdhc21FeHBvcnRzWyJvIl0pKGEwKTt2YXIgX2ZyZWU9TW9kdWxlWyJfZnJlZSJdPWEwPT4oX2ZyZWU9TW9kdWxlWyJfZnJlZSJdPXdhc21FeHBvcnRzWyJwIl0pKGEwKTt2YXIgY2FsbGVkUnVuO2RlcGVuZGVuY2llc0Z1bGZpbGxlZD1mdW5jdGlvbiBydW5DYWxsZXIoKXtpZighY2FsbGVkUnVuKXJ1bigpO2lmKCFjYWxsZWRSdW4pZGVwZW5kZW5jaWVzRnVsZmlsbGVkPXJ1bkNhbGxlcjt9O2Z1bmN0aW9uIHJ1bigpe2lmKHJ1bkRlcGVuZGVuY2llcz4wKXtyZXR1cm59cHJlUnVuKCk7aWYocnVuRGVwZW5kZW5jaWVzPjApe3JldHVybn1mdW5jdGlvbiBkb1J1bigpe2lmKGNhbGxlZFJ1bilyZXR1cm47Y2FsbGVkUnVuPXRydWU7TW9kdWxlWyJjYWxsZWRSdW4iXT10cnVlO2lmKEFCT1JUKXJldHVybjtpbml0UnVudGltZSgpO3JlYWR5UHJvbWlzZVJlc29sdmUoTW9kdWxlKTtNb2R1bGVbIm9uUnVudGltZUluaXRpYWxpemVkIl0/LigpO3Bvc3RSdW4oKTt9aWYoTW9kdWxlWyJzZXRTdGF0dXMiXSl7TW9kdWxlWyJzZXRTdGF0dXMiXSgiUnVubmluZy4uLiIpO3NldFRpbWVvdXQoKCk9PntzZXRUaW1lb3V0KCgpPT5Nb2R1bGVbInNldFN0YXR1cyJdKCIiKSwxKTtkb1J1bigpO30sMSk7fWVsc2Uge2RvUnVuKCk7fX1pZihNb2R1bGVbInByZUluaXQiXSl7aWYodHlwZW9mIE1vZHVsZVsicHJlSW5pdCJdPT0iZnVuY3Rpb24iKU1vZHVsZVsicHJlSW5pdCJdPVtNb2R1bGVbInByZUluaXQiXV07d2hpbGUoTW9kdWxlWyJwcmVJbml0Il0ubGVuZ3RoPjApe01vZHVsZVsicHJlSW5pdCJdLnBvcCgpKCk7fX1ydW4oKTttb2R1bGVSdG49cmVhZHlQcm9taXNlOwoKCiAgICByZXR1cm4gbW9kdWxlUnRuOwogIH0KICApOwogIH0pKCk7CgogIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55CiAgbGV0IHdhc21Nb2R1bGU7CiAgYXN5bmMgZnVuY3Rpb24gaW5pdFdhc20oKSB7CiAgICAgIHdhc21Nb2R1bGUgPSBhd2FpdCBsb2FkV2FzbSgpOwogIH0KICBsZXQgc29ydERhdGE7CiAgbGV0IHZpZXdQcm9qUHRyOwogIGxldCB0cmFuc2Zvcm1zUHRyOwogIGxldCB0cmFuc2Zvcm1JbmRpY2VzUHRyOwogIGxldCBwb3NpdGlvbnNQdHI7CiAgbGV0IGRlcHRoQnVmZmVyUHRyOwogIGxldCBkZXB0aEluZGV4UHRyOwogIGxldCBzdGFydHNQdHI7CiAgbGV0IGNvdW50c1B0cjsKICBsZXQgYWxsb2NhdGVkVmVydGV4Q291bnQgPSAwOwogIGxldCBhbGxvY2F0ZWRUcmFuc2Zvcm1Db3VudCA9IDA7CiAgbGV0IHZpZXdQcm9qID0gW107CiAgbGV0IGRpcnR5ID0gdHJ1ZTsKICBsZXQgbG9jayA9IGZhbHNlOwogIGxldCBhbGxvY2F0aW9uUGVuZGluZyA9IGZhbHNlOwogIGxldCBzb3J0aW5nID0gZmFsc2U7CiAgY29uc3QgYWxsb2NhdGVCdWZmZXJzID0gYXN5bmMgKCkgPT4gewogICAgICBpZiAobG9jaykgewogICAgICAgICAgYWxsb2NhdGlvblBlbmRpbmcgPSB0cnVlOwogICAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGxvY2sgPSB0cnVlOwogICAgICBhbGxvY2F0aW9uUGVuZGluZyA9IGZhbHNlOwogICAgICBpZiAoIXdhc21Nb2R1bGUpCiAgICAgICAgICBhd2FpdCBpbml0V2FzbSgpOwogICAgICBjb25zdCB0YXJnZXRBbGxvY2F0ZWRWZXJ0ZXhDb3VudCA9IE1hdGgucG93KDIsIE1hdGguY2VpbChNYXRoLmxvZzIoc29ydERhdGEudmVydGV4Q291bnQpKSk7CiAgICAgIGlmIChhbGxvY2F0ZWRWZXJ0ZXhDb3VudCA8IHRhcmdldEFsbG9jYXRlZFZlcnRleENvdW50KSB7CiAgICAgICAgICBpZiAoYWxsb2NhdGVkVmVydGV4Q291bnQgPiAwKSB7CiAgICAgICAgICAgICAgd2FzbU1vZHVsZS5fZnJlZSh2aWV3UHJvalB0cik7CiAgICAgICAgICAgICAgd2FzbU1vZHVsZS5fZnJlZSh0cmFuc2Zvcm1JbmRpY2VzUHRyKTsKICAgICAgICAgICAgICB3YXNtTW9kdWxlLl9mcmVlKHBvc2l0aW9uc1B0cik7CiAgICAgICAgICAgICAgd2FzbU1vZHVsZS5fZnJlZShkZXB0aEJ1ZmZlclB0cik7CiAgICAgICAgICAgICAgd2FzbU1vZHVsZS5fZnJlZShkZXB0aEluZGV4UHRyKTsKICAgICAgICAgICAgICB3YXNtTW9kdWxlLl9mcmVlKHN0YXJ0c1B0cik7CiAgICAgICAgICAgICAgd2FzbU1vZHVsZS5fZnJlZShjb3VudHNQdHIpOwogICAgICAgICAgfQogICAgICAgICAgYWxsb2NhdGVkVmVydGV4Q291bnQgPSB0YXJnZXRBbGxvY2F0ZWRWZXJ0ZXhDb3VudDsKICAgICAgICAgIHZpZXdQcm9qUHRyID0gd2FzbU1vZHVsZS5fbWFsbG9jKDE2ICogNCk7CiAgICAgICAgICB0cmFuc2Zvcm1JbmRpY2VzUHRyID0gd2FzbU1vZHVsZS5fbWFsbG9jKGFsbG9jYXRlZFZlcnRleENvdW50ICogNCk7CiAgICAgICAgICBwb3NpdGlvbnNQdHIgPSB3YXNtTW9kdWxlLl9tYWxsb2MoMyAqIGFsbG9jYXRlZFZlcnRleENvdW50ICogNCk7CiAgICAgICAgICBkZXB0aEJ1ZmZlclB0ciA9IHdhc21Nb2R1bGUuX21hbGxvYyhhbGxvY2F0ZWRWZXJ0ZXhDb3VudCAqIDQpOwogICAgICAgICAgZGVwdGhJbmRleFB0ciA9IHdhc21Nb2R1bGUuX21hbGxvYyhhbGxvY2F0ZWRWZXJ0ZXhDb3VudCAqIDQpOwogICAgICAgICAgc3RhcnRzUHRyID0gd2FzbU1vZHVsZS5fbWFsbG9jKGFsbG9jYXRlZFZlcnRleENvdW50ICogNCk7CiAgICAgICAgICBjb3VudHNQdHIgPSB3YXNtTW9kdWxlLl9tYWxsb2MoYWxsb2NhdGVkVmVydGV4Q291bnQgKiA0KTsKICAgICAgfQogICAgICBpZiAoYWxsb2NhdGVkVHJhbnNmb3JtQ291bnQgPCBzb3J0RGF0YS50cmFuc2Zvcm1zLmxlbmd0aCkgewogICAgICAgICAgaWYgKGFsbG9jYXRlZFRyYW5zZm9ybUNvdW50ID4gMCkgewogICAgICAgICAgICAgIHdhc21Nb2R1bGUuX2ZyZWUodHJhbnNmb3Jtc1B0cik7CiAgICAgICAgICB9CiAgICAgICAgICBhbGxvY2F0ZWRUcmFuc2Zvcm1Db3VudCA9IHNvcnREYXRhLnRyYW5zZm9ybXMubGVuZ3RoOwogICAgICAgICAgdHJhbnNmb3Jtc1B0ciA9IHdhc21Nb2R1bGUuX21hbGxvYyhhbGxvY2F0ZWRUcmFuc2Zvcm1Db3VudCAqIDQpOwogICAgICB9CiAgICAgIGxvY2sgPSBmYWxzZTsKICAgICAgaWYgKGFsbG9jYXRpb25QZW5kaW5nKSB7CiAgICAgICAgICBhbGxvY2F0aW9uUGVuZGluZyA9IGZhbHNlOwogICAgICAgICAgYXdhaXQgYWxsb2NhdGVCdWZmZXJzKCk7CiAgICAgIH0KICB9OwogIGNvbnN0IHJ1blNvcnQgPSAoKSA9PiB7CiAgICAgIGlmIChsb2NrIHx8IGFsbG9jYXRpb25QZW5kaW5nIHx8ICF3YXNtTW9kdWxlKQogICAgICAgICAgcmV0dXJuOwogICAgICBsb2NrID0gdHJ1ZTsKICAgICAgd2FzbU1vZHVsZS5IRUFQRjMyLnNldChzb3J0RGF0YS5wb3NpdGlvbnMsIHBvc2l0aW9uc1B0ciAvIDQpOwogICAgICB3YXNtTW9kdWxlLkhFQVBGMzIuc2V0KHNvcnREYXRhLnRyYW5zZm9ybXMsIHRyYW5zZm9ybXNQdHIgLyA0KTsKICAgICAgd2FzbU1vZHVsZS5IRUFQVTMyLnNldChzb3J0RGF0YS50cmFuc2Zvcm1JbmRpY2VzLCB0cmFuc2Zvcm1JbmRpY2VzUHRyIC8gNCk7CiAgICAgIHdhc21Nb2R1bGUuSEVBUEYzMi5zZXQobmV3IEZsb2F0MzJBcnJheSh2aWV3UHJvaiksIHZpZXdQcm9qUHRyIC8gNCk7CiAgICAgIHdhc21Nb2R1bGUuX3NvcnQodmlld1Byb2pQdHIsIHRyYW5zZm9ybXNQdHIsIHRyYW5zZm9ybUluZGljZXNQdHIsIHNvcnREYXRhLnZlcnRleENvdW50LCBwb3NpdGlvbnNQdHIsIGRlcHRoQnVmZmVyUHRyLCBkZXB0aEluZGV4UHRyLCBzdGFydHNQdHIsIGNvdW50c1B0cik7CiAgICAgIGNvbnN0IGRlcHRoSW5kZXggPSBuZXcgVWludDMyQXJyYXkod2FzbU1vZHVsZS5IRUFQVTMyLmJ1ZmZlciwgZGVwdGhJbmRleFB0ciwgc29ydERhdGEudmVydGV4Q291bnQpOwogICAgICBjb25zdCBkZXRhY2hlZERlcHRoSW5kZXggPSBuZXcgVWludDMyQXJyYXkoZGVwdGhJbmRleC5zbGljZSgpLmJ1ZmZlcik7CiAgICAgIHNlbGYucG9zdE1lc3NhZ2UoeyBkZXB0aEluZGV4OiBkZXRhY2hlZERlcHRoSW5kZXggfSwgW2RldGFjaGVkRGVwdGhJbmRleC5idWZmZXJdKTsKICAgICAgbG9jayA9IGZhbHNlOwogICAgICBkaXJ0eSA9IGZhbHNlOwogIH07CiAgY29uc3QgdGhyb3R0bGVkU29ydCA9ICgpID0+IHsKICAgICAgaWYgKCFzb3J0aW5nKSB7CiAgICAgICAgICBzb3J0aW5nID0gdHJ1ZTsKICAgICAgICAgIGlmIChkaXJ0eSkKICAgICAgICAgICAgICBydW5Tb3J0KCk7CiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICBzb3J0aW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgdGhyb3R0bGVkU29ydCgpOwogICAgICAgICAgfSk7CiAgICAgIH0KICB9OwogIHNlbGYub25tZXNzYWdlID0gKGUpID0+IHsKICAgICAgaWYgKGUuZGF0YS5zb3J0RGF0YSkgewogICAgICAgICAgLy9SZWNyZWF0aW5nIHRoZSB0eXBlZCBhcnJheXMgZXZlcnkgdGltZSwgd2lsbCBjYXVzZSBmaXJlZm94IHRvIGxlYWsgbWVtb3J5CiAgICAgICAgICBpZiAoIXNvcnREYXRhKSB7CiAgICAgICAgICAgICAgc29ydERhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHBvc2l0aW9uczogbmV3IEZsb2F0MzJBcnJheShlLmRhdGEuc29ydERhdGEucG9zaXRpb25zKSwKICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtczogbmV3IEZsb2F0MzJBcnJheShlLmRhdGEuc29ydERhdGEudHJhbnNmb3JtcyksCiAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybUluZGljZXM6IG5ldyBVaW50MzJBcnJheShlLmRhdGEuc29ydERhdGEudHJhbnNmb3JtSW5kaWNlcyksCiAgICAgICAgICAgICAgICAgIHZlcnRleENvdW50OiBlLmRhdGEuc29ydERhdGEudmVydGV4Q291bnQsCiAgICAgICAgICAgICAgfTsKICAgICAgICAgIH0KICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgIHNvcnREYXRhLnBvc2l0aW9ucy5zZXQoZS5kYXRhLnNvcnREYXRhLnBvc2l0aW9ucyk7CiAgICAgICAgICAgICAgc29ydERhdGEudHJhbnNmb3Jtcy5zZXQoZS5kYXRhLnNvcnREYXRhLnRyYW5zZm9ybXMpOwogICAgICAgICAgICAgIHNvcnREYXRhLnRyYW5zZm9ybUluZGljZXMuc2V0KGUuZGF0YS5zb3J0RGF0YS50cmFuc2Zvcm1JbmRpY2VzKTsKICAgICAgICAgICAgICBzb3J0RGF0YS52ZXJ0ZXhDb3VudCA9IGUuZGF0YS5zb3J0RGF0YS52ZXJ0ZXhDb3VudDsKICAgICAgICAgIH0KICAgICAgICAgIGRpcnR5ID0gdHJ1ZTsKICAgICAgICAgIGFsbG9jYXRlQnVmZmVycygpOwogICAgICB9CiAgICAgIGlmIChlLmRhdGEudmlld1Byb2opIHsKICAgICAgICAgIGlmIChlLmRhdGEudmlld1Byb2ouZXZlcnkoKGl0ZW0pID0+IHZpZXdQcm9qLmluY2x1ZGVzKGl0ZW0pKSA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgICB2aWV3UHJvaiA9IGUuZGF0YS52aWV3UHJvajsKICAgICAgICAgICAgICBkaXJ0eSA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgICB0aHJvdHRsZWRTb3J0KCk7CiAgICAgIH0KICB9OwoKfSkoKTsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9U29ydFdvcmtlci5qcy5tYXAKCg==");class N{constructor(t,U){this._scene=null,this._camera=null,this._started=!1,this._initialized=!1,this._renderer=t;const F=t.gl;this._program=F.createProgram(),this._passes=U||[];const l=F.createShader(F.VERTEX_SHADER);F.shaderSource(l,this._getVertexSource()),F.compileShader(l),F.getShaderParameter(l,F.COMPILE_STATUS)||console.error(F.getShaderInfoLog(l));const n=F.createShader(F.FRAGMENT_SHADER);F.shaderSource(n,this._getFragmentSource()),F.compileShader(n),F.getShaderParameter(n,F.COMPILE_STATUS)||console.error(F.getShaderInfoLog(n)),F.attachShader(this.program,l),F.attachShader(this.program,n),F.linkProgram(this.program),F.getProgramParameter(this.program,F.LINK_STATUS)||console.error(F.getProgramInfoLog(this.program)),this.resize=()=>{F.useProgram(this._program),this._resize()},this.initialize=()=>{console.assert(!this._initialized,"ShaderProgram already initialized"),F.useProgram(this._program),this._initialize();for(const t of this.passes)t.initialize(this);this._initialized=!0,this._started=!0},this.render=(t,U)=>{F.useProgram(this._program),this._scene===t&&this._camera===U||(this.dispose(),this._scene=t,this._camera=U,this.initialize());for(const t of this.passes)t.render();this._render()},this.dispose=()=>{if(this._initialized){F.useProgram(this._program);for(const t of this.passes)t.dispose();this._dispose(),this._scene=null,this._camera=null,this._initialized=!1}}}get renderer(){return this._renderer}get scene(){return this._scene}get camera(){return this._camera}get program(){return this._program}get passes(){return this._passes}get started(){return this._started}}var E=b("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKCiAgdmFyIGxvYWRXYXNtID0gKCgpID0+IHsKICAgIAogICAgcmV0dXJuICgKICBmdW5jdGlvbihtb2R1bGVBcmcgPSB7fSkgewogICAgdmFyIG1vZHVsZVJ0bjsKCiAgdmFyIE1vZHVsZT1tb2R1bGVBcmc7dmFyIHJlYWR5UHJvbWlzZVJlc29sdmUscmVhZHlQcm9taXNlUmVqZWN0O3ZhciByZWFkeVByb21pc2U9bmV3IFByb21pc2UoKHJlc29sdmUscmVqZWN0KT0+e3JlYWR5UHJvbWlzZVJlc29sdmU9cmVzb2x2ZTtyZWFkeVByb21pc2VSZWplY3Q9cmVqZWN0O30pO3ZhciBtb2R1bGVPdmVycmlkZXM9T2JqZWN0LmFzc2lnbih7fSxNb2R1bGUpO3ZhciBzY3JpcHREaXJlY3Rvcnk9IiI7dmFyIHJlYWRCaW5hcnk7e3tzY3JpcHREaXJlY3Rvcnk9c2VsZi5sb2NhdGlvbi5ocmVmO31pZihzY3JpcHREaXJlY3Rvcnkuc3RhcnRzV2l0aCgiYmxvYjoiKSl7c2NyaXB0RGlyZWN0b3J5PSIiO31lbHNlIHtzY3JpcHREaXJlY3Rvcnk9c2NyaXB0RGlyZWN0b3J5LnN1YnN0cigwLHNjcmlwdERpcmVjdG9yeS5yZXBsYWNlKC9bPyNdLiovLCIiKS5sYXN0SW5kZXhPZigiLyIpKzEpO317e3JlYWRCaW5hcnk9dXJsPT57dmFyIHhocj1uZXcgWE1MSHR0cFJlcXVlc3Q7eGhyLm9wZW4oIkdFVCIsdXJsLGZhbHNlKTt4aHIucmVzcG9uc2VUeXBlPSJhcnJheWJ1ZmZlciI7eGhyLnNlbmQobnVsbCk7cmV0dXJuIG5ldyBVaW50OEFycmF5KHhoci5yZXNwb25zZSl9O319fU1vZHVsZVsicHJpbnQiXXx8Y29uc29sZS5sb2cuYmluZChjb25zb2xlKTt2YXIgZXJyPU1vZHVsZVsicHJpbnRFcnIiXXx8Y29uc29sZS5lcnJvci5iaW5kKGNvbnNvbGUpO09iamVjdC5hc3NpZ24oTW9kdWxlLG1vZHVsZU92ZXJyaWRlcyk7bW9kdWxlT3ZlcnJpZGVzPW51bGw7aWYoTW9kdWxlWyJhcmd1bWVudHMiXSlNb2R1bGVbImFyZ3VtZW50cyJdO2lmKE1vZHVsZVsidGhpc1Byb2dyYW0iXSlNb2R1bGVbInRoaXNQcm9ncmFtIl07dmFyIHdhc21CaW5hcnk9TW9kdWxlWyJ3YXNtQmluYXJ5Il07ZnVuY3Rpb24gaW50QXJyYXlGcm9tQmFzZTY0KHMpe3ZhciBkZWNvZGVkPWF0b2Iocyk7dmFyIGJ5dGVzPW5ldyBVaW50OEFycmF5KGRlY29kZWQubGVuZ3RoKTtmb3IodmFyIGk9MDtpPGRlY29kZWQubGVuZ3RoOysraSl7Ynl0ZXNbaV09ZGVjb2RlZC5jaGFyQ29kZUF0KGkpO31yZXR1cm4gYnl0ZXN9ZnVuY3Rpb24gdHJ5UGFyc2VBc0RhdGFVUkkoZmlsZW5hbWUpe2lmKCFpc0RhdGFVUkkoZmlsZW5hbWUpKXtyZXR1cm59cmV0dXJuIGludEFycmF5RnJvbUJhc2U2NChmaWxlbmFtZS5zbGljZShkYXRhVVJJUHJlZml4Lmxlbmd0aCkpfXZhciB3YXNtTWVtb3J5O3ZhciBBQk9SVD1mYWxzZTt2YXIgSEVBUDgsSEVBUFU4LEhFQVAxNixIRUFQVTE2LEhFQVAzMixIRUFQVTMyLEhFQVBGMzIsSEVBUEY2NDtmdW5jdGlvbiB1cGRhdGVNZW1vcnlWaWV3cygpe3ZhciBiPXdhc21NZW1vcnkuYnVmZmVyO01vZHVsZVsiSEVBUDgiXT1IRUFQOD1uZXcgSW50OEFycmF5KGIpO01vZHVsZVsiSEVBUDE2Il09SEVBUDE2PW5ldyBJbnQxNkFycmF5KGIpO01vZHVsZVsiSEVBUFU4Il09SEVBUFU4PW5ldyBVaW50OEFycmF5KGIpO01vZHVsZVsiSEVBUFUxNiJdPUhFQVBVMTY9bmV3IFVpbnQxNkFycmF5KGIpO01vZHVsZVsiSEVBUDMyIl09SEVBUDMyPW5ldyBJbnQzMkFycmF5KGIpO01vZHVsZVsiSEVBUFUzMiJdPUhFQVBVMzI9bmV3IFVpbnQzMkFycmF5KGIpO01vZHVsZVsiSEVBUEYzMiJdPUhFQVBGMzI9bmV3IEZsb2F0MzJBcnJheShiKTtNb2R1bGVbIkhFQVBGNjQiXT1IRUFQRjY0PW5ldyBGbG9hdDY0QXJyYXkoYik7fXZhciBfX0FUUFJFUlVOX189W107dmFyIF9fQVRJTklUX189W107dmFyIF9fQVRQT1NUUlVOX189W107ZnVuY3Rpb24gcHJlUnVuKCl7aWYoTW9kdWxlWyJwcmVSdW4iXSl7aWYodHlwZW9mIE1vZHVsZVsicHJlUnVuIl09PSJmdW5jdGlvbiIpTW9kdWxlWyJwcmVSdW4iXT1bTW9kdWxlWyJwcmVSdW4iXV07d2hpbGUoTW9kdWxlWyJwcmVSdW4iXS5sZW5ndGgpe2FkZE9uUHJlUnVuKE1vZHVsZVsicHJlUnVuIl0uc2hpZnQoKSk7fX1jYWxsUnVudGltZUNhbGxiYWNrcyhfX0FUUFJFUlVOX18pO31mdW5jdGlvbiBpbml0UnVudGltZSgpe2NhbGxSdW50aW1lQ2FsbGJhY2tzKF9fQVRJTklUX18pO31mdW5jdGlvbiBwb3N0UnVuKCl7aWYoTW9kdWxlWyJwb3N0UnVuIl0pe2lmKHR5cGVvZiBNb2R1bGVbInBvc3RSdW4iXT09ImZ1bmN0aW9uIilNb2R1bGVbInBvc3RSdW4iXT1bTW9kdWxlWyJwb3N0UnVuIl1dO3doaWxlKE1vZHVsZVsicG9zdFJ1biJdLmxlbmd0aCl7YWRkT25Qb3N0UnVuKE1vZHVsZVsicG9zdFJ1biJdLnNoaWZ0KCkpO319Y2FsbFJ1bnRpbWVDYWxsYmFja3MoX19BVFBPU1RSVU5fXyk7fWZ1bmN0aW9uIGFkZE9uUHJlUnVuKGNiKXtfX0FUUFJFUlVOX18udW5zaGlmdChjYik7fWZ1bmN0aW9uIGFkZE9uSW5pdChjYil7X19BVElOSVRfXy51bnNoaWZ0KGNiKTt9ZnVuY3Rpb24gYWRkT25Qb3N0UnVuKGNiKXtfX0FUUE9TVFJVTl9fLnVuc2hpZnQoY2IpO312YXIgcnVuRGVwZW5kZW5jaWVzPTA7dmFyIGRlcGVuZGVuY2llc0Z1bGZpbGxlZD1udWxsO2Z1bmN0aW9uIGFkZFJ1bkRlcGVuZGVuY3koaWQpe3J1bkRlcGVuZGVuY2llcysrO01vZHVsZVsibW9uaXRvclJ1bkRlcGVuZGVuY2llcyJdPy4ocnVuRGVwZW5kZW5jaWVzKTt9ZnVuY3Rpb24gcmVtb3ZlUnVuRGVwZW5kZW5jeShpZCl7cnVuRGVwZW5kZW5jaWVzLS07TW9kdWxlWyJtb25pdG9yUnVuRGVwZW5kZW5jaWVzIl0/LihydW5EZXBlbmRlbmNpZXMpO2lmKHJ1bkRlcGVuZGVuY2llcz09MCl7aWYoZGVwZW5kZW5jaWVzRnVsZmlsbGVkKXt2YXIgY2FsbGJhY2s9ZGVwZW5kZW5jaWVzRnVsZmlsbGVkO2RlcGVuZGVuY2llc0Z1bGZpbGxlZD1udWxsO2NhbGxiYWNrKCk7fX19ZnVuY3Rpb24gYWJvcnQod2hhdCl7TW9kdWxlWyJvbkFib3J0Il0/Lih3aGF0KTt3aGF0PSJBYm9ydGVkKCIrd2hhdCsiKSI7ZXJyKHdoYXQpO0FCT1JUPXRydWU7d2hhdCs9Ii4gQnVpbGQgd2l0aCAtc0FTU0VSVElPTlMgZm9yIG1vcmUgaW5mby4iO3ZhciBlPW5ldyBXZWJBc3NlbWJseS5SdW50aW1lRXJyb3Iod2hhdCk7cmVhZHlQcm9taXNlUmVqZWN0KGUpO3Rocm93IGV9dmFyIGRhdGFVUklQcmVmaXg9ImRhdGE6YXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtO2Jhc2U2NCwiO3ZhciBpc0RhdGFVUkk9ZmlsZW5hbWU9PmZpbGVuYW1lLnN0YXJ0c1dpdGgoZGF0YVVSSVByZWZpeCk7ZnVuY3Rpb24gZmluZFdhc21CaW5hcnkoKXt2YXIgZj0iZGF0YTphcHBsaWNhdGlvbi9vY3RldC1zdHJlYW07YmFzZTY0LEFHRnpiUUVBQUFBQllRNWdCSDkvZjM4QVlBTi9mMzhBWUFWL2YzOS9md0JnQm45L2YzOS9md0JnQVg4QVlBRi9BWDlnQW45L0FHQURmMzkvQVg5Z0FBQmdCMzkvZjM5L2YzOEFZQUo5ZlFGL1lBUi9mMzUrQUdBQmZRRi9ZQXQvZjM5L2YzOS9mMzkvZndBQ1BRb0JZUUZoQUFFQllRRmlBQUlCWVFGakFBRUJZUUZrQUFZQllRRmxBQUVCWVFGbUFBa0JZUUZuQUFRQllRRm9BQUFCWVFGcEFBWUJZUUZxQUFVREdoa0hCUVlLQkFnTENBRUFBUVFFREFVTkF3TUNBZ0FBQndjRkJBVUJjQUVRRUFVSEFRR0NBb0NBQWdZSUFYOEJRZENkQkFzSEdRWUJhd0lBQVd3QUR3RnRBQmtCYmdFQUFXOEFHQUZ3QUJZSkZRRUFRUUVMRHlJT0ZSVWhEaUFhSEI4T0d4MGVFUXJnVVJseEFRRi9JQUpGQkVBZ0FDZ0NCQ0FCS0FJRVJnOExJQUFnQVVZRVFFRUJEd3NDUUNBQUtBSUVJZ0l0QUFBaUFFVWdBQ0FCS0FJRUlnRXRBQUFpQTBkeURRQURRQ0FCTFFBQklRTWdBaTBBQVNJQVJRMEJJQUZCQVdvaEFTQUNRUUZxSVFJZ0FDQURSZzBBQ3dzZ0FDQURSZ3RQQVFKL1FjZ1pLQUlBSWdFZ0FFRUhha0Y0Y1NJQ2FpRUFBa0FnQWtFQUlBQWdBVTBiUlFSQUlBQS9BRUVRZEUwTkFTQUFFQWtOQVF0QnpCbEJNRFlDQUVGL0R3dEJ5QmtnQURZQ0FDQUJDeUVBSUFFRVFBTkFJQUJCQURvQUFDQUFRUUZxSVFBZ0FVRUJheUlCRFFBTEN3c09BQ0FBRUJjZ0FSQVhRUkIwY2dzR0FDQUFFQllMS1FCQnhCMUJEellDQUVISUhVRUFOZ0lBRUJGQnlCMUJ3QjBvQWdBMkFnQkJ3QjFCeEIwMkFnQUxIQUFnQUNBQlFRZ2dBcWNnQWtJZ2lLY2dBNmNnQTBJZ2lLY1FCUXZlQXdCQnpBbEJpZzBRQ0VIWUNVRzVERUVCUVFBUUIwSGtDVUcwREVFQlFZQi9RZjhBRUFGQi9BbEJyUXhCQVVHQWYwSC9BQkFCUWZBSlFhc01RUUZCQUVIL0FSQUJRWWdLUVlrTVFRSkJnSUIrUWYvL0FSQUJRWlFLUVlBTVFRSkJBRUgvL3dNUUFVR2dDa0dZREVFRVFZQ0FnSUI0UWYvLy8vOEhFQUZCckFwQmp3eEJCRUVBUVg4UUFVRzRDa0hIREVFRVFZQ0FnSUI0UWYvLy8vOEhFQUZCeEFwQnZneEJCRUVBUVg4UUFVSFFDa0dqREVLQWdJQ0FnSUNBZ0lCL1F2Ly8vLy8vLy8vLy93QVFFRUhjQ2tHaURFSUFRbjhRRUVIb0NrR2NERUVFRUFSQjlBcEJndzFCQ0JBRVFmUVNRZGtNRUFOQnZCTkJoeEVRQTBHRUZFRUVRY3dNRUFKQjBCUkJBa0hsREJBQ1Fad1ZRUVJCOUF3UUFrRzRGUkFHUWVBVlFRQkJ3aEFRQUVHSUZrRUFRYWdSRUFCQnNCWkJBVUhnRUJBQVFkZ1dRUUpCancwUUFFR0FGMEVEUWE0TkVBQkJxQmRCQkVIV0RSQUFRZEFYUVFWQjh3MFFBRUg0RjBFRVFjMFJFQUJCb0JoQkJVSHJFUkFBUVlnV1FRQkIyUTRRQUVHd0ZrRUJRYmdPRUFCQjJCWkJBa0diRHhBQVFZQVhRUU5CK1E0UUFFR29GMEVFUWFFUUVBQkIwQmRCQlVIL0R4QUFRY2dZUVFoQjNnOFFBRUh3R0VFSlFid1BFQUJCbUJsQkJrR1pEaEFBUWNBWlFRZEJraElRQUFzZ0FBSkFJQUVnQUNnQ0JFY05BQ0FBS0FJY1FRRkdEUUFnQUNBQ05nSWNDd3VhQVFBZ0FFRUJPZ0ExQWtBZ0FpQUFLQUlFUncwQUlBQkJBVG9BTkFKQUlBQW9BaEFpQWtVRVFDQUFRUUUyQWlRZ0FDQUROZ0lZSUFBZ0FUWUNFQ0FEUVFGSERRSWdBQ2dDTUVFQlJnMEJEQUlMSUFFZ0FrWUVRQ0FBS0FJWUlnSkJBa1lFUUNBQUlBTTJBaGdnQXlFQ0N5QUFLQUl3UVFGSERRSWdBa0VCUmcwQkRBSUxJQUFnQUNnQ0pFRUJhallDSkFzZ0FFRUJPZ0EyQ3d0MkFRRi9JQUFvQWlRaUEwVUVRQ0FBSUFJMkFoZ2dBQ0FCTmdJUUlBQkJBVFlDSkNBQUlBQW9BamcyQWhRUEN3SkFBa0FnQUNnQ0ZDQUFLQUk0UncwQUlBQW9BaEFnQVVjTkFDQUFLQUlZUVFKSERRRWdBQ0FDTmdJWUR3c2dBRUVCT2dBMklBQkJBallDR0NBQUlBTkJBV28yQWlRTEN3SUFDK0VMQVFkL0FrQWdBRVVOQUNBQVFRaHJJZ01nQUVFRWF5Z0NBQ0lDUVhoeElnQnFJUVVDUUNBQ1FRRnhEUUFnQWtFQ2NVVU5BU0FESUFNb0FnQWlCR3NpQTBIZ0dTZ0NBRWtOQVNBQUlBUnFJUUFDUUFKQUFrQkI1QmtvQWdBZ0EwY0VRQ0FES0FJTUlRRWdCRUgvQVUwRVFDQUJJQU1vQWdnaUFrY05Ba0hRR1VIUUdTZ0NBRUYrSUFSQkEzWjNjVFlDQUF3RkN5QURLQUlZSVFZZ0FTQURSd1JBSUFNb0FnZ2lBaUFCTmdJTUlBRWdBallDQ0F3RUN5QURLQUlVSWdJRWZ5QURRUlJxQlNBREtBSVFJZ0pGRFFNZ0EwRVFhZ3NoQkFOQUlBUWhCeUFDSWdGQkZHb2hCQ0FCS0FJVUlnSU5BQ0FCUVJCcUlRUWdBU2dDRUNJQ0RRQUxJQWRCQURZQ0FBd0RDeUFGS0FJRUlnSkJBM0ZCQTBjTkEwSFlHU0FBTmdJQUlBVWdBa0YrY1RZQ0JDQURJQUJCQVhJMkFnUWdCU0FBTmdJQUR3c2dBaUFCTmdJTUlBRWdBallDQ0F3Q0MwRUFJUUVMSUFaRkRRQUNRQ0FES0FJY0lnUkJBblJCZ0J4cUlnSW9BZ0FnQTBZRVFDQUNJQUUyQWdBZ0FRMEJRZFFaUWRRWktBSUFRWDRnQkhkeE5nSUFEQUlMQWtBZ0F5QUdLQUlRUmdSQUlBWWdBVFlDRUF3QkN5QUdJQUUyQWhRTElBRkZEUUVMSUFFZ0JqWUNHQ0FES0FJUUlnSUVRQ0FCSUFJMkFoQWdBaUFCTmdJWUN5QURLQUlVSWdKRkRRQWdBU0FDTmdJVUlBSWdBVFlDR0FzZ0F5QUZUdzBBSUFVb0FnUWlCRUVCY1VVTkFBSkFBa0FDUUFKQUlBUkJBbkZGQkVCQjZCa29BZ0FnQlVZRVFFSG9HU0FETmdJQVFkd1pRZHdaS0FJQUlBQnFJZ0EyQWdBZ0F5QUFRUUZ5TmdJRUlBTkI1QmtvQWdCSERRWkIyQmxCQURZQ0FFSGtHVUVBTmdJQUR3dEI1QmtvQWdBZ0JVWUVRRUhrR1NBRE5nSUFRZGdaUWRnWktBSUFJQUJxSWdBMkFnQWdBeUFBUVFGeU5nSUVJQUFnQTJvZ0FEWUNBQThMSUFSQmVIRWdBR29oQUNBRktBSU1JUUVnQkVIL0FVMEVRQ0FGS0FJSUlnSWdBVVlFUUVIUUdVSFFHU2dDQUVGK0lBUkJBM1ozY1RZQ0FBd0ZDeUFDSUFFMkFnd2dBU0FDTmdJSURBUUxJQVVvQWhnaEJpQUJJQVZIQkVBZ0JTZ0NDQ0lDSUFFMkFnd2dBU0FDTmdJSURBTUxJQVVvQWhRaUFnUi9JQVZCRkdvRklBVW9BaEFpQWtVTkFpQUZRUkJxQ3lFRUEwQWdCQ0VISUFJaUFVRVVhaUVFSUFFb0FoUWlBZzBBSUFGQkVHb2hCQ0FCS0FJUUlnSU5BQXNnQjBFQU5nSUFEQUlMSUFVZ0JFRitjVFlDQkNBRElBQkJBWEkyQWdRZ0FDQURhaUFBTmdJQURBTUxRUUFoQVFzZ0JrVU5BQUpBSUFVb0Fod2lCRUVDZEVHQUhHb2lBaWdDQUNBRlJnUkFJQUlnQVRZQ0FDQUJEUUZCMUJsQjFCa29BZ0JCZmlBRWQzRTJBZ0FNQWdzQ1FDQUZJQVlvQWhCR0JFQWdCaUFCTmdJUURBRUxJQVlnQVRZQ0ZBc2dBVVVOQVFzZ0FTQUdOZ0lZSUFVb0FoQWlBZ1JBSUFFZ0FqWUNFQ0FDSUFFMkFoZ0xJQVVvQWhRaUFrVU5BQ0FCSUFJMkFoUWdBaUFCTmdJWUN5QURJQUJCQVhJMkFnUWdBQ0FEYWlBQU5nSUFJQU5CNUJrb0FnQkhEUUJCMkJrZ0FEWUNBQThMSUFCQi93Rk5CRUFnQUVGNGNVSDRHV29oQWdKL1FkQVpLQUlBSWdSQkFTQUFRUU4yZENJQWNVVUVRRUhRR1NBQUlBUnlOZ0lBSUFJTUFRc2dBaWdDQ0FzaEFDQUNJQU0yQWdnZ0FDQUROZ0lNSUFNZ0FqWUNEQ0FESUFBMkFnZ1BDMEVmSVFFZ0FFSC8vLzhIVFFSQUlBQkJKaUFBUVFoMlp5SUNhM1pCQVhFZ0FrRUJkR3RCUG1vaEFRc2dBeUFCTmdJY0lBTkNBRGNDRUNBQlFRSjBRWUFjYWlFRUFuOENRQUovUWRRWktBSUFJZ2RCQVNBQmRDSUNjVVVFUUVIVUdTQUNJQWR5TmdJQUlBUWdBellDQUVFWUlRRkJDQXdCQ3lBQVFSa2dBVUVCZG10QkFDQUJRUjlIRzNRaEFTQUVLQUlBSVFRRFFDQUVJZ0lvQWdSQmVIRWdBRVlOQWlBQlFSMTJJUVFnQVVFQmRDRUJJQUlnQkVFRWNXb2lCMEVRYWlnQ0FDSUVEUUFMSUFjZ0F6WUNFRUVZSVFFZ0FpRUVRUWdMSVFBZ0F5SUNEQUVMSUFJb0FnZ2lCQ0FETmdJTUlBSWdBellDQ0VFWUlRQkJDQ0VCUVFBTElRY2dBU0FEYWlBRU5nSUFJQU1nQWpZQ0RDQUFJQU5xSUFjMkFnQkI4QmxCOEJrb0FnQkJBV3NpQUVGL0lBQWJOZ0lBQ3d0M0FRUi9JQUM4SWdSQi8vLy9BM0VoQVFKQUlBUkJGM1pCL3dGeElnSkZEUUFnQWtId0FFMEVRQ0FCUVlDQWdBUnlRZkVBSUFKcmRpRUJEQUVMSUFKQmpRRkxCRUJCZ1BnQklRTkJBQ0VCREFFTElBSkJDblJCZ0lBSGF5RURDeUFESUFSQkVIWkJnSUFDY1hJZ0FVRU5kbkpCLy84RGNRdlJKd0VMZnlNQVFSQnJJZ29rQUFKQUFrQUNRQUpBQWtBQ1FBSkFBa0FDUUFKQUlBQkI5QUZOQkVCQjBCa29BZ0FpQkVFUUlBQkJDMnBCK0FOeElBQkJDMGtiSWdaQkEzWWlBSFlpQVVFRGNRUkFBa0FnQVVGL2MwRUJjU0FBYWlJQ1FRTjBJZ0ZCK0JscUlnQWdBVUdBR21vb0FnQWlBU2dDQ0NJRlJnUkFRZEFaSUFSQmZpQUNkM0UyQWdBTUFRc2dCU0FBTmdJTUlBQWdCVFlDQ0FzZ0FVRUlhaUVBSUFFZ0FrRURkQ0lDUVFOeU5nSUVJQUVnQW1vaUFTQUJLQUlFUVFGeU5nSUVEQXNMSUFaQjJCa29BZ0FpQ0UwTkFTQUJCRUFDUUVFQ0lBQjBJZ0pCQUNBQ2EzSWdBU0FBZEhGb0lnRkJBM1FpQUVINEdXb2lBaUFBUVlBYWFpZ0NBQ0lBS0FJSUlnVkdCRUJCMEJrZ0JFRitJQUYzY1NJRU5nSUFEQUVMSUFVZ0FqWUNEQ0FDSUFVMkFnZ0xJQUFnQmtFRGNqWUNCQ0FBSUFacUlnY2dBVUVEZENJQklBWnJJZ1ZCQVhJMkFnUWdBQ0FCYWlBRk5nSUFJQWdFUUNBSVFYaHhRZmdaYWlFQlFlUVpLQUlBSVFJQ2Z5QUVRUUVnQ0VFRGRuUWlBM0ZGQkVCQjBCa2dBeUFFY2pZQ0FDQUJEQUVMSUFFb0FnZ0xJUU1nQVNBQ05nSUlJQU1nQWpZQ0RDQUNJQUUyQWd3Z0FpQUROZ0lJQ3lBQVFRaHFJUUJCNUJrZ0J6WUNBRUhZR1NBRk5nSUFEQXNMUWRRWktBSUFJZ3RGRFFFZ0MyaEJBblJCZ0J4cUtBSUFJZ0lvQWdSQmVIRWdCbXNoQXlBQ0lRRURRQUpBSUFFb0FoQWlBRVVFUUNBQktBSVVJZ0JGRFFFTElBQW9BZ1JCZUhFZ0Jtc2lBU0FESUFFZ0Ewa2lBUnNoQXlBQUlBSWdBUnNoQWlBQUlRRU1BUXNMSUFJb0FoZ2hDU0FDSUFJb0Fnd2lBRWNFUUNBQ0tBSUlJZ0VnQURZQ0RDQUFJQUUyQWdnTUNnc2dBaWdDRkNJQkJIOGdBa0VVYWdVZ0FpZ0NFQ0lCUlEwRElBSkJFR29MSVFVRFFDQUZJUWNnQVNJQVFSUnFJUVVnQUNnQ0ZDSUJEUUFnQUVFUWFpRUZJQUFvQWhBaUFRMEFDeUFIUVFBMkFnQU1DUXRCZnlFR0lBQkJ2MzlMRFFBZ0FFRUxhaUlCUVhoeElRWkIxQmtvQWdBaUIwVU5BRUVmSVFoQkFDQUdheUVESUFCQjlQLy9CMDBFUUNBR1FTWWdBVUVJZG1jaUFHdDJRUUZ4SUFCQkFYUnJRVDVxSVFnTEFrQUNRQUpBSUFoQkFuUkJnQnhxS0FJQUlnRkZCRUJCQUNFQURBRUxRUUFoQUNBR1FSa2dDRUVCZG10QkFDQUlRUjlIRzNRaEFnTkFBa0FnQVNnQ0JFRjRjU0FHYXlJRUlBTlBEUUFnQVNFRklBUWlBdzBBUVFBaEF5QUJJUUFNQXdzZ0FDQUJLQUlVSWdRZ0JDQUJJQUpCSFhaQkJIRnFLQUlRSWdGR0d5QUFJQVFiSVFBZ0FrRUJkQ0VDSUFFTkFBc0xJQUFnQlhKRkJFQkJBQ0VGUVFJZ0NIUWlBRUVBSUFCcmNpQUhjU0lBUlEwRElBQm9RUUowUVlBY2FpZ0NBQ0VBQ3lBQVJRMEJDd05BSUFBb0FnUkJlSEVnQm1zaUFpQURTU0VCSUFJZ0F5QUJHeUVESUFBZ0JTQUJHeUVGSUFBb0FoQWlBUVIvSUFFRklBQW9BaFFMSWdBTkFBc0xJQVZGRFFBZ0EwSFlHU2dDQUNBR2EwOE5BQ0FGS0FJWUlRZ2dCU0FGS0FJTUlnQkhCRUFnQlNnQ0NDSUJJQUEyQWd3Z0FDQUJOZ0lJREFnTElBVW9BaFFpQVFSL0lBVkJGR29GSUFVb0FoQWlBVVVOQXlBRlFSQnFDeUVDQTBBZ0FpRUVJQUVpQUVFVWFpRUNJQUFvQWhRaUFRMEFJQUJCRUdvaEFpQUFLQUlRSWdFTkFBc2dCRUVBTmdJQURBY0xJQVpCMkJrb0FnQWlCVTBFUUVIa0dTZ0NBQ0VBQWtBZ0JTQUdheUlCUVJCUEJFQWdBQ0FHYWlJQ0lBRkJBWEkyQWdRZ0FDQUZhaUFCTmdJQUlBQWdCa0VEY2pZQ0JBd0JDeUFBSUFWQkEzSTJBZ1FnQUNBRmFpSUJJQUVvQWdSQkFYSTJBZ1JCQUNFQ1FRQWhBUXRCMkJrZ0FUWUNBRUhrR1NBQ05nSUFJQUJCQ0dvaEFBd0pDeUFHUWR3WktBSUFJZ0pKQkVCQjNCa2dBaUFHYXlJQk5nSUFRZWdaUWVnWktBSUFJZ0FnQm1vaUFqWUNBQ0FDSUFGQkFYSTJBZ1FnQUNBR1FRTnlOZ0lFSUFCQkNHb2hBQXdKQzBFQUlRQWdCa0V2YWlJREFuOUJxQjBvQWdBRVFFR3dIU2dDQUF3QkMwRzBIVUovTndJQVFhd2RRb0NnZ0lDQWdBUTNBZ0JCcUIwZ0NrRU1ha0Z3Y1VIWXF0V3FCWE0yQWdCQnZCMUJBRFlDQUVHTUhVRUFOZ0lBUVlBZ0N5SUJhaUlFUVFBZ0FXc2lCM0VpQVNBR1RRMElRWWdkS0FJQUlnVUVRRUdBSFNnQ0FDSUlJQUZxSWdrZ0NFMGdCU0FKU1hJTkNRc0NRRUdNSFMwQUFFRUVjVVVFUUFKQUFrQUNRQUpBUWVnWktBSUFJZ1VFUUVHUUhTRUFBMEFnQUNnQ0FDSUlJQVZOQkVBZ0JTQUlJQUFvQWdScVNRMERDeUFBS0FJSUlnQU5BQXNMUVFBUUN5SUNRWDlHRFFNZ0FTRUVRYXdkS0FJQUlnQkJBV3NpQlNBQ2NRUkFJQUVnQW1zZ0FpQUZha0VBSUFCcmNXb2hCQXNnQkNBR1RRMERRWWdkS0FJQUlnQUVRRUdBSFNnQ0FDSUZJQVJxSWdjZ0JVMGdBQ0FIU1hJTkJBc2dCQkFMSWdBZ0FrY05BUXdGQ3lBRUlBSnJJQWR4SWdRUUN5SUNJQUFvQWdBZ0FDZ0NCR3BHRFFFZ0FpRUFDeUFBUVg5R0RRRWdCa0V3YWlBRVRRUkFJQUFoQWd3RUMwR3dIU2dDQUNJQ0lBTWdCR3RxUVFBZ0FtdHhJZ0lRQzBGL1JnMEJJQUlnQkdvaEJDQUFJUUlNQXdzZ0FrRi9SdzBDQzBHTUhVR01IU2dDQUVFRWNqWUNBQXNnQVJBTElnSkJmMFpCQUJBTElnQkJmMFp5SUFBZ0FrMXlEUVVnQUNBQ2F5SUVJQVpCS0dwTkRRVUxRWUFkUVlBZEtBSUFJQVJxSWdBMkFnQkJoQjBvQWdBZ0FFa0VRRUdFSFNBQU5nSUFDd0pBUWVnWktBSUFJZ01FUUVHUUhTRUFBMEFnQWlBQUtBSUFJZ0VnQUNnQ0JDSUZha1lOQWlBQUtBSUlJZ0FOQUFzTUJBdEI0QmtvQWdBaUFFRUFJQUFnQWswYlJRUkFRZUFaSUFJMkFnQUxRUUFoQUVHVUhTQUVOZ0lBUVpBZElBSTJBZ0JCOEJsQmZ6WUNBRUgwR1VHb0hTZ0NBRFlDQUVHY0hVRUFOZ0lBQTBBZ0FFRURkQ0lCUVlBYWFpQUJRZmdaYWlJRk5nSUFJQUZCaEJwcUlBVTJBZ0FnQUVFQmFpSUFRU0JIRFFBTFFkd1pJQVJCS0dzaUFFRjRJQUpyUVFkeElnRnJJZ1UyQWdCQjZCa2dBU0FDYWlJQk5nSUFJQUVnQlVFQmNqWUNCQ0FBSUFKcVFTZzJBZ1JCN0JsQnVCMG9BZ0EyQWdBTUJBc2dBaUFEVFNBQklBTkxjZzBDSUFBb0FneEJDSEVOQWlBQUlBUWdCV28yQWdSQjZCa2dBMEY0SUFOclFRZHhJZ0JxSWdFMkFnQkIzQmxCM0Jrb0FnQWdCR29pQWlBQWF5SUFOZ0lBSUFFZ0FFRUJjallDQkNBQ0lBTnFRU2cyQWdSQjdCbEJ1QjBvQWdBMkFnQU1Bd3RCQUNFQURBWUxRUUFoQUF3RUMwSGdHU2dDQUNBQ1N3UkFRZUFaSUFJMkFnQUxJQUlnQkdvaEJVR1FIU0VBQWtBRFFDQUZJQUFvQWdBaUFVY0VRQ0FBS0FJSUlnQU5BUXdDQ3dzZ0FDMEFERUVJY1VVTkF3dEJrQjBoQUFOQUFrQWdBQ2dDQUNJQklBTk5CRUFnQXlBQklBQW9BZ1JxSWdWSkRRRUxJQUFvQWdnaEFBd0JDd3RCM0JrZ0JFRW9heUlBUVhnZ0FtdEJCM0VpQVdzaUJ6WUNBRUhvR1NBQklBSnFJZ0UyQWdBZ0FTQUhRUUZ5TmdJRUlBQWdBbXBCS0RZQ0JFSHNHVUc0SFNnQ0FEWUNBQ0FESUFWQkp5QUZhMEVIY1dwQkwyc2lBQ0FBSUFOQkVHcEpHeUlCUVJzMkFnUWdBVUdZSFNrQ0FEY0NFQ0FCUVpBZEtRSUFOd0lJUVpnZElBRkJDR28yQWdCQmxCMGdCRFlDQUVHUUhTQUNOZ0lBUVp3ZFFRQTJBZ0FnQVVFWWFpRUFBMEFnQUVFSE5nSUVJQUJCQ0dvZ0FFRUVhaUVBSUFWSkRRQUxJQUVnQTBZTkFDQUJJQUVvQWdSQmZuRTJBZ1FnQXlBQklBTnJJZ0pCQVhJMkFnUWdBU0FDTmdJQUFuOGdBa0gvQVUwRVFDQUNRWGh4UWZnWmFpRUFBbjlCMEJrb0FnQWlBVUVCSUFKQkEzWjBJZ0p4UlFSQVFkQVpJQUVnQW5JMkFnQWdBQXdCQ3lBQUtBSUlDeUVCSUFBZ0F6WUNDQ0FCSUFNMkFneEJEQ0VDUVFnTUFRdEJIeUVBSUFKQi8vLy9CMDBFUUNBQ1FTWWdBa0VJZG1jaUFHdDJRUUZ4SUFCQkFYUnJRVDVxSVFBTElBTWdBRFlDSENBRFFnQTNBaEFnQUVFQ2RFR0FIR29oQVFKQUFrQkIxQmtvQWdBaUJVRUJJQUIwSWdSeFJRUkFRZFFaSUFRZ0JYSTJBZ0FnQVNBRE5nSUFEQUVMSUFKQkdTQUFRUUYyYTBFQUlBQkJIMGNiZENFQUlBRW9BZ0FoQlFOQUlBVWlBU2dDQkVGNGNTQUNSZzBDSUFCQkhYWWhCU0FBUVFGMElRQWdBU0FGUVFSeGFpSUVLQUlRSWdVTkFBc2dCQ0FETmdJUUN5QURJQUUyQWhoQkNDRUNJQU1pQVNFQVFRd01BUXNnQVNnQ0NDSUFJQU0yQWd3Z0FTQUROZ0lJSUFNZ0FEWUNDRUVBSVFCQkdDRUNRUXdMSUFOcUlBRTJBZ0FnQWlBRGFpQUFOZ0lBQzBIY0dTZ0NBQ0lBSUFaTkRRQkIzQmtnQUNBR2F5SUJOZ0lBUWVnWlFlZ1pLQUlBSWdBZ0Jtb2lBallDQUNBQ0lBRkJBWEkyQWdRZ0FDQUdRUU55TmdJRUlBQkJDR29oQUF3RUMwSE1HVUV3TmdJQVFRQWhBQXdEQ3lBQUlBSTJBZ0FnQUNBQUtBSUVJQVJxTmdJRUlBSkJlQ0FDYTBFSGNXb2lDQ0FHUVFOeU5nSUVJQUZCZUNBQmEwRUhjV29pQkNBR0lBaHFJZ05ySVFjQ1FFSG9HU2dDQUNBRVJnUkFRZWdaSUFNMkFnQkIzQmxCM0Jrb0FnQWdCMm9pQURZQ0FDQURJQUJCQVhJMkFnUU1BUXRCNUJrb0FnQWdCRVlFUUVIa0dTQUROZ0lBUWRnWlFkZ1pLQUlBSUFkcUlnQTJBZ0FnQXlBQVFRRnlOZ0lFSUFBZ0Eyb2dBRFlDQUF3QkN5QUVLQUlFSWdCQkEzRkJBVVlFUUNBQVFYaHhJUWtnQkNnQ0RDRUNBa0FnQUVIL0FVMEVRQ0FFS0FJSUlnRWdBa1lFUUVIUUdVSFFHU2dDQUVGK0lBQkJBM1ozY1RZQ0FBd0NDeUFCSUFJMkFnd2dBaUFCTmdJSURBRUxJQVFvQWhnaEJnSkFJQUlnQkVjRVFDQUVLQUlJSWdBZ0FqWUNEQ0FDSUFBMkFnZ01BUXNDUUNBRUtBSVVJZ0FFZnlBRVFSUnFCU0FFS0FJUUlnQkZEUUVnQkVFUWFnc2hBUU5BSUFFaEJTQUFJZ0pCRkdvaEFTQUFLQUlVSWdBTkFDQUNRUkJxSVFFZ0FpZ0NFQ0lBRFFBTElBVkJBRFlDQUF3QkMwRUFJUUlMSUFaRkRRQUNRQ0FFS0FJY0lnQkJBblJCZ0J4cUlnRW9BZ0FnQkVZRVFDQUJJQUkyQWdBZ0FnMEJRZFFaUWRRWktBSUFRWDRnQUhkeE5nSUFEQUlMQWtBZ0JDQUdLQUlRUmdSQUlBWWdBallDRUF3QkN5QUdJQUkyQWhRTElBSkZEUUVMSUFJZ0JqWUNHQ0FFS0FJUUlnQUVRQ0FDSUFBMkFoQWdBQ0FDTmdJWUN5QUVLQUlVSWdCRkRRQWdBaUFBTmdJVUlBQWdBallDR0FzZ0J5QUphaUVISUFRZ0NXb2lCQ2dDQkNFQUN5QUVJQUJCZm5FMkFnUWdBeUFIUVFGeU5nSUVJQU1nQjJvZ0J6WUNBQ0FIUWY4QlRRUkFJQWRCZUhGQitCbHFJUUFDZjBIUUdTZ0NBQ0lCUVFFZ0IwRURkblFpQW5GRkJFQkIwQmtnQVNBQ2NqWUNBQ0FBREFFTElBQW9BZ2dMSVFFZ0FDQUROZ0lJSUFFZ0F6WUNEQ0FESUFBMkFnd2dBeUFCTmdJSURBRUxRUjhoQWlBSFFmLy8vd2ROQkVBZ0IwRW1JQWRCQ0habklnQnJka0VCY1NBQVFRRjBhMEUrYWlFQ0N5QURJQUkyQWh3Z0EwSUFOd0lRSUFKQkFuUkJnQnhxSVFBQ1FBSkFRZFFaS0FJQUlnRkJBU0FDZENJRmNVVUVRRUhVR1NBQklBVnlOZ0lBSUFBZ0F6WUNBQXdCQ3lBSFFSa2dBa0VCZG10QkFDQUNRUjlIRzNRaEFpQUFLQUlBSVFFRFFDQUJJZ0FvQWdSQmVIRWdCMFlOQWlBQ1FSMTJJUUVnQWtFQmRDRUNJQUFnQVVFRWNXb2lCU2dDRUNJQkRRQUxJQVVnQXpZQ0VBc2dBeUFBTmdJWUlBTWdBellDRENBRElBTTJBZ2dNQVFzZ0FDZ0NDQ0lCSUFNMkFnd2dBQ0FETmdJSUlBTkJBRFlDR0NBRElBQTJBZ3dnQXlBQk5nSUlDeUFJUVFocUlRQU1BZ3NDUUNBSVJRMEFBa0FnQlNnQ0hDSUJRUUowUVlBY2FpSUNLQUlBSUFWR0JFQWdBaUFBTmdJQUlBQU5BVUhVR1NBSFFYNGdBWGR4SWdjMkFnQU1BZ3NDUUNBRklBZ29BaEJHQkVBZ0NDQUFOZ0lRREFFTElBZ2dBRFlDRkFzZ0FFVU5BUXNnQUNBSU5nSVlJQVVvQWhBaUFRUkFJQUFnQVRZQ0VDQUJJQUEyQWhnTElBVW9BaFFpQVVVTkFDQUFJQUUyQWhRZ0FTQUFOZ0lZQ3dKQUlBTkJEMDBFUUNBRklBTWdCbW9pQUVFRGNqWUNCQ0FBSUFWcUlnQWdBQ2dDQkVFQmNqWUNCQXdCQ3lBRklBWkJBM0kyQWdRZ0JTQUdhaUlFSUFOQkFYSTJBZ1FnQXlBRWFpQUROZ0lBSUFOQi93Rk5CRUFnQTBGNGNVSDRHV29oQUFKL1FkQVpLQUlBSWdGQkFTQURRUU4yZENJQ2NVVUVRRUhRR1NBQklBSnlOZ0lBSUFBTUFRc2dBQ2dDQ0FzaEFTQUFJQVEyQWdnZ0FTQUVOZ0lNSUFRZ0FEWUNEQ0FFSUFFMkFnZ01BUXRCSHlFQUlBTkIvLy8vQjAwRVFDQURRU1lnQTBFSWRtY2lBR3QyUVFGeElBQkJBWFJyUVQ1cUlRQUxJQVFnQURZQ0hDQUVRZ0EzQWhBZ0FFRUNkRUdBSEdvaEFRSkFBa0FnQjBFQklBQjBJZ0p4UlFSQVFkUVpJQUlnQjNJMkFnQWdBU0FFTmdJQUlBUWdBVFlDR0F3QkN5QURRUmtnQUVFQmRtdEJBQ0FBUVI5SEczUWhBQ0FCS0FJQUlRRURRQ0FCSWdJb0FnUkJlSEVnQTBZTkFpQUFRUjEySVFFZ0FFRUJkQ0VBSUFJZ0FVRUVjV29pQnlnQ0VDSUJEUUFMSUFjZ0JEWUNFQ0FFSUFJMkFoZ0xJQVFnQkRZQ0RDQUVJQVEyQWdnTUFRc2dBaWdDQ0NJQUlBUTJBZ3dnQWlBRU5nSUlJQVJCQURZQ0dDQUVJQUkyQWd3Z0JDQUFOZ0lJQ3lBRlFRaHFJUUFNQVFzQ1FDQUpSUTBBQWtBZ0FpZ0NIQ0lCUVFKMFFZQWNhaUlGS0FJQUlBSkdCRUFnQlNBQU5nSUFJQUFOQVVIVUdTQUxRWDRnQVhkeE5nSUFEQUlMQWtBZ0FpQUpLQUlRUmdSQUlBa2dBRFlDRUF3QkN5QUpJQUEyQWhRTElBQkZEUUVMSUFBZ0NUWUNHQ0FDS0FJUUlnRUVRQ0FBSUFFMkFoQWdBU0FBTmdJWUN5QUNLQUlVSWdGRkRRQWdBQ0FCTmdJVUlBRWdBRFlDR0FzQ1FDQURRUTlOQkVBZ0FpQURJQVpxSWdCQkEzSTJBZ1FnQUNBQ2FpSUFJQUFvQWdSQkFYSTJBZ1FNQVFzZ0FpQUdRUU55TmdJRUlBSWdCbW9pQlNBRFFRRnlOZ0lFSUFNZ0JXb2dBellDQUNBSUJFQWdDRUY0Y1VINEdXb2hBRUhrR1NnQ0FDRUJBbjlCQVNBSVFRTjJkQ0lISUFSeFJRUkFRZEFaSUFRZ0IzSTJBZ0FnQUF3QkN5QUFLQUlJQ3lFRUlBQWdBVFlDQ0NBRUlBRTJBZ3dnQVNBQU5nSU1JQUVnQkRZQ0NBdEI1QmtnQlRZQ0FFSFlHU0FETmdJQUN5QUNRUWhxSVFBTElBcEJFR29rQUNBQUM2WUxBZ3QvQ1gwakFFR2dBV3NpQ3lRQUlBdEJNR3BCSkJBTUEwQWdBU0FOUndSQUlBSWdEVUVEYkNJTVFRSnFRUUowSWc1cUtnSUFJUmNnQWlBTVFRRnFRUUowSWc5cUtnSUFJUmdnQ0NBTVFRSjBJaEJxSUFJZ0VHb3FBZ0FpR1RnQ0FDQUlJQTlxSUJnNEFnQWdDQ0FPYWlBWE9BSUFJQWNnRFVFRmRHb2lEQ0FZT0FJRUlBd2dHVGdDQUNBTUlCYzRBZ2dnREVFQU5nSU1Ba0FnQUVVRVFDQUdJQTFxTFFBQVJRMEJDeUFNUVlDQWdBZzJBZ3dMSUFjZ0RVRUZkR29pRVNBRklBMUJBblFpREVFQmNpSVNhaTBBQUVFSWRDQUZJQXhxTFFBQWNpQUZJQXhCQW5JaUUyb3RBQUJCRUhSeUlBVWdERUVEY2lJTWFpMEFBRUVZZEhJMkFod2dDeUFESUJKQkFuUWlFbW9xQWdBaUZ6Z0NrQUVnQ3lBRElCTkJBblFpRTJvcUFnQWlHRGdDbEFFZ0N5QURJQXhCQW5RaUZHb3FBZ0FpR1RnQ21BRWdDeUFESUExQkJIUWlGV29xQWdDTUlobzRBcHdCSUF0QjRBQnFJZ3dnQ3lvQ21BRWlGa01BQUFEQWxDQVdsQ0FMS2dLVUFTSVdRd0FBQU1DVUlCYVVRd0FBZ0QrU2tqZ0NBQ0FNSUFzcUFwQUJJaFlnRnBJZ0N5b0NsQUdVSUFzcUFwZ0JJaFlnRnBJZ0N5b0NuQUdVa3pnQ0JDQU1JQXNxQXBBQkloWWdGcElnQ3lvQ21BR1VJQXNxQXBRQkloWWdGcElnQ3lvQ25BR1VramdDQ0NBTUlBc3FBcEFCSWhZZ0ZwSWdDeW9DbEFHVUlBc3FBcGdCSWhZZ0ZwSWdDeW9DbkFHVWtqZ0NEQ0FNSUFzcUFwZ0JJaFpEQUFBQXdKUWdGcFFnQ3lvQ2tBRWlGa01BQUFEQWxDQVdsRU1BQUlBL2twSTRBaEFnRENBTEtnS1VBU0lXSUJhU0lBc3FBcGdCbENBTEtnS1FBU0lXSUJhU0lBc3FBcHdCbEpNNEFoUWdEQ0FMS2dLUUFTSVdJQmFTSUFzcUFwZ0JsQ0FMS2dLVUFTSVdJQmFTSUFzcUFwd0JsSk00QWhnZ0RDQUxLZ0tVQVNJV0lCYVNJQXNxQXBnQmxDQUxLZ0tRQVNJV0lCYVNJQXNxQXB3QmxKSTRBaHdnRENBTEtnS1VBU0lXUXdBQUFNQ1VJQmFVSUFzcUFwQUJJaFpEQUFBQXdKUWdGcFJEQUFDQVA1S1NPQUlnSUFrZ0ZXb2dGemdDQUNBSklCSnFJQmc0QWdBZ0NTQVRhaUFaT0FJQUlBa2dGR29nR2pnQ0FDQUxJQVFnRUdvcUFnQWlGemdDTUNBTElBUWdEMm9xQWdBaUdEZ0NRQ0FMSUFRZ0Rtb3FBZ0FpR1RnQ1VDQUtJQkJxSUJjNEFnQWdDaUFQYWlBWU9BSUFJQW9nRG1vZ0dUZ0NBQ0FMSUF3cUFoZ2dDeW9DT0pRZ0RDb0NBQ0FMS2dJd2xDQU1LZ0lNSUFzcUFqU1VrcEk0QWdBZ0N5QU1LZ0ljSUFzcUFqaVVJQXdxQWdRZ0N5b0NNSlFnRENvQ0VDQUxLZ0kwbEpLU09BSUVJQXNnRENvQ0lDQUxLZ0k0bENBTUtnSUlJQXNxQWpDVUlBd3FBaFFnQ3lvQ05KU1NramdDQ0NBTElBd3FBaGdnQ3lvQ1JKUWdEQ29DQUNBTEtnSThsQ0FNS2dJTUlBc3FBa0NVa3BJNEFnd2dDeUFNS2dJY0lBc3FBa1NVSUF3cUFnUWdDeW9DUEpRZ0RDb0NFQ0FMS2dKQWxKS1NPQUlRSUFzZ0RDb0NJQ0FMS2dKRWxDQU1LZ0lJSUFzcUFqeVVJQXdxQWhRZ0N5b0NRSlNTa2pnQ0ZDQUxJQXdxQWhnZ0N5b0NVSlFnRENvQ0FDQUxLZ0pJbENBTUtnSU1JQXNxQWt5VWtwSTRBaGdnQ3lBTUtnSWNJQXNxQWxDVUlBd3FBZ1FnQ3lvQ1NKUWdEQ29DRUNBTEtnSk1sSktTT0FJY0lBc2dEQ29DSUNBTEtnSlFsQ0FNS2dJSUlBc3FBa2lVSUF3cUFoUWdDeW9DVEpTU2tqZ0NJQ0FMS2dJZ0lSY2dDeW9DQ0NFWUlBc3FBaFFoR1NBUklBc3FBaGdpR2lBYWxDQUxLZ0lBSWhZZ0ZwUWdDeW9DRENJYklCdVVrcEpEQUFDQVFKUWdHaUFMS2dJY0loeVVJQllnQ3lvQ0JDSWRsQ0FiSUFzcUFoQWlIcFNTa2tNQUFJQkFsQkFOTmdJUUlCRWdHaUFYbENBV0lCaVVJQnNnR1pTU2trTUFBSUJBbENBY0lCeVVJQjBnSFpRZ0hpQWVsSktTUXdBQWdFQ1VFQTAyQWhRZ0VTQWNJQmVVSUIwZ0dKUWdIaUFabEpLU1F3QUFnRUNVSUJjZ0Y1UWdHQ0FZbENBWklCbVVrcEpEQUFDQVFKUVFEVFlDR0NBTlFRRnFJUTBNQVFzTElBdEJvQUZxSkFBTEdnQWdBQ0FCS0FJSUlBVVFDZ1JBSUFFZ0FpQURJQVFRRXdzTE53QWdBQ0FCS0FJSUlBVVFDZ1JBSUFFZ0FpQURJQVFRRXc4TElBQW9BZ2dpQUNBQklBSWdBeUFFSUFVZ0FDZ0NBQ2dDRkJFREFBdVJBUUFnQUNBQktBSUlJQVFRQ2dSQUlBRWdBaUFERUJJUEN3SkFJQUFnQVNnQ0FDQUVFQXBGRFFBQ1FDQUJLQUlRSUFKSEJFQWdBaUFCS0FJVVJ3MEJDeUFEUVFGSERRRWdBVUVCTmdJZ0R3c2dBU0FDTmdJVUlBRWdBellDSUNBQklBRW9BaWhCQVdvMkFpZ0NRQ0FCS0FJa1FRRkhEUUFnQVNnQ0dFRUNSdzBBSUFGQkFUb0FOZ3NnQVVFRU5nSXNDd3YxQVFBZ0FDQUJLQUlJSUFRUUNnUkFJQUVnQWlBREVCSVBDd0pBSUFBZ0FTZ0NBQ0FFRUFvRVFBSkFJQUVvQWhBZ0FrY0VRQ0FDSUFFb0FoUkhEUUVMSUFOQkFVY05BaUFCUVFFMkFpQVBDeUFCSUFNMkFpQUNRQ0FCS0FJc1FRUkdEUUFnQVVFQU93RTBJQUFvQWdnaUFDQUJJQUlnQWtFQklBUWdBQ2dDQUNnQ0ZCRURBQ0FCTFFBMVFRRkdCRUFnQVVFRE5nSXNJQUV0QURSRkRRRU1Bd3NnQVVFRU5nSXNDeUFCSUFJMkFoUWdBU0FCS0FJb1FRRnFOZ0lvSUFFb0FpUkJBVWNOQVNBQktBSVlRUUpIRFFFZ0FVRUJPZ0EyRHdzZ0FDZ0NDQ0lBSUFFZ0FpQURJQVFnQUNnQ0FDZ0NHQkVDQUFzTE1RQWdBQ0FCS0FJSVFRQVFDZ1JBSUFFZ0FpQURFQlFQQ3lBQUtBSUlJZ0FnQVNBQ0lBTWdBQ2dDQUNnQ0hCRUFBQXNZQUNBQUlBRW9BZ2hCQUJBS0JFQWdBU0FDSUFNUUZBc0w5d1FCQm44akFFRkFhaUlFSkFBQ2YwRUJJQUFnQVVFQUVBb05BQnBCQUNBQlJRMEFHaU1BUVJCcklnWWtBQ0FHSUFFb0FnQWlBMEVJYXlnQ0FDSUZOZ0lNSUFZZ0FTQUZhallDQkNBR0lBTkJCR3NvQWdBMkFnZ2dCaWdDQ0NJRFFld0lRUUFRQ2lFRklBWW9BZ1FoQndKQUlBVUVRQ0FHS0FJTUlRRWpBRUZBYWlJREpBQWdBMEZBYXlRQVFRQWdCeUFCR3lFRERBRUxJQU1oQlNNQVFVQnFJZ01rQUNBQklBZE9CRUFnQTBJQU53SWNJQU5DQURjQ0pDQURRZ0EzQWl3Z0EwSUFOd0lVSUFOQkFEWUNFQ0FEUWV3SU5nSU1JQU1nQlRZQ0JDQURRUUEyQWp3Z0EwS0JnSUNBZ0lDQWdBRTNBalFnQXlBQk5nSUlJQVVnQTBFRWFpQUhJQWRCQVVFQUlBVW9BZ0FvQWhRUkF3QWdBVUVBSUFNb0Fod2JJUWdMSUFOQlFHc2tBQ0FJSWdNTkFDTUFRVUJxSWdNa0FDQURRUUEyQWhBZ0EwRzhDRFlDRENBRElBRTJBZ2dnQTBIc0NEWUNCRUVBSVFFZ0EwRVVha0VuRUF3Z0EwRUFOZ0k4SUFOQkFUb0FPeUFGSUFOQkJHb2dCMEVCUVFBZ0JTZ0NBQ2dDR0JFQ0FBSkFBa0FDUUNBREtBSW9EZ0lBQVFJTElBTW9BaGhCQUNBREtBSWtRUUZHRzBFQUlBTW9BaUJCQVVZYlFRQWdBeWdDTEVFQlJoc2hBUXdCQ3lBREtBSWNRUUZIQkVBZ0F5Z0NMQTBCSUFNb0FpQkJBVWNOQVNBREtBSWtRUUZIRFFFTElBTW9BaFFoQVFzZ0EwRkFheVFBSUFFaEF3c2dCa0VRYWlRQVFRQWdBMFVOQUJvZ0JFRUlha0U0RUF3Z0JFRUJPZ0E3SUFSQmZ6WUNFQ0FFSUFBMkFnd2dCQ0FETmdJRUlBUkJBVFlDTkNBRElBUkJCR29nQWlnQ0FFRUJJQU1vQWdBb0Fod1JBQUFnQkNnQ0hDSUFRUUZHQkVBZ0FpQUVLQUlVTmdJQUN5QUFRUUZHQ3lBRVFVQnJKQUFMQ2dBZ0FDQUJRUUFRQ2dzRUFDQUFDd3ZYRVFJQVFZQUlDOFlSVTNRNWRIbHdaVjlwYm1adkFBQUFBSVFGQUFBQUJBQUFUakV3WDE5amVIaGhZbWwyTVRFMlgxOXphR2x0WDNSNWNHVmZhVzVtYjBVQUFBQUFyQVVBQUJnRUFBQVFCQUFBVGpFd1gxOWplSGhoWW1sMk1URTNYMTlqYkdGemMxOTBlWEJsWDJsdVptOUZBQUFBckFVQUFFZ0VBQUE4QkFBQUFBQUFBTHdFQUFBQkFBQUFBZ0FBQUFNQUFBQUVBQUFBQlFBQUFFNHhNRjlmWTNoNFlXSnBkakV5TTE5ZlpuVnVaR0Z0Wlc1MFlXeGZkSGx3WlY5cGJtWnZSUUNzQlFBQWxBUUFBRHdFQUFCMkFBQUFnQVFBQU1nRUFBQmlBQUFBZ0FRQUFOUUVBQUJqQUFBQWdBUUFBT0FFQUFCb0FBQUFnQVFBQU93RUFBQmhBQUFBZ0FRQUFQZ0VBQUJ6QUFBQWdBUUFBQVFGQUFCMEFBQUFnQVFBQUJBRkFBQnBBQUFBZ0FRQUFCd0ZBQUJxQUFBQWdBUUFBQ2dGQUFCc0FBQUFnQVFBQURRRkFBQnRBQUFBZ0FRQUFFQUZBQUI0QUFBQWdBUUFBRXdGQUFCNUFBQUFnQVFBQUZnRkFBQm1BQUFBZ0FRQUFHUUZBQUJrQUFBQWdBUUFBSEFGQUFBQUFBQUFiQVFBQUFFQUFBQUdBQUFBQXdBQUFBUUFBQUFIQUFBQUNBQUFBQWtBQUFBS0FBQUFBQUFBQVBRRkFBQUJBQUFBQ3dBQUFBTUFBQUFFQUFBQUJ3QUFBQXdBQUFBTkFBQUFEZ0FBQUU0eE1GOWZZM2g0WVdKcGRqRXlNRjlmYzJsZlkyeGhjM05mZEhsd1pWOXBibVp2UlFBQUFBQ3NCUUFBekFVQUFHd0VBQUIxYm5OcFoyNWxaQ0J6YUc5eWRBQjFibk5wWjI1bFpDQnBiblFBWm14dllYUUFkV2x1ZERZMFgzUUFkVzV6YVdkdVpXUWdZMmhoY2dCaWIyOXNBSFZ1YzJsbmJtVmtJR3h2Ym1jQWMzUmtPanAzYzNSeWFXNW5BSE4wWkRvNmMzUnlhVzVuQUhOMFpEbzZkVEUyYzNSeWFXNW5BSE4wWkRvNmRUTXljM1J5YVc1bkFHUnZkV0pzWlFCMmIybGtBR1Z0YzJOeWFYQjBaVzQ2T20xbGJXOXllVjkyYVdWM1BITm9iM0owUGdCbGJYTmpjbWx3ZEdWdU9qcHRaVzF2Y25sZmRtbGxkengxYm5OcFoyNWxaQ0J6YUc5eWRENEFaVzF6WTNKcGNIUmxiam82YldWdGIzSjVYM1pwWlhjOGFXNTBQZ0JsYlhOamNtbHdkR1Z1T2pwdFpXMXZjbmxmZG1sbGR6eDFibk5wWjI1bFpDQnBiblErQUdWdGMyTnlhWEIwWlc0Nk9tMWxiVzl5ZVY5MmFXVjNQR1pzYjJGMFBnQmxiWE5qY21sd2RHVnVPanB0WlcxdmNubGZkbWxsZHp4MWFXNTBPRjkwUGdCbGJYTmpjbWx3ZEdWdU9qcHRaVzF2Y25sZmRtbGxkenhwYm5RNFgzUStBR1Z0YzJOeWFYQjBaVzQ2T20xbGJXOXllVjkyYVdWM1BIVnBiblF4Tmw5MFBnQmxiWE5qY21sd2RHVnVPanB0WlcxdmNubGZkbWxsZHp4cGJuUXhObDkwUGdCbGJYTmpjbWx3ZEdWdU9qcHRaVzF2Y25sZmRtbGxkengxYVc1ME5qUmZkRDRBWlcxelkzSnBjSFJsYmpvNmJXVnRiM0o1WDNacFpYYzhhVzUwTmpSZmRENEFaVzF6WTNKcGNIUmxiam82YldWdGIzSjVYM1pwWlhjOGRXbHVkRE15WDNRK0FHVnRjMk55YVhCMFpXNDZPbTFsYlc5eWVWOTJhV1YzUEdsdWRETXlYM1ErQUdWdGMyTnlhWEIwWlc0Nk9tMWxiVzl5ZVY5MmFXVjNQR05vWVhJK0FHVnRjMk55YVhCMFpXNDZPbTFsYlc5eWVWOTJhV1YzUEhWdWMybG5ibVZrSUdOb1lYSStBSE4wWkRvNlltRnphV05mYzNSeWFXNW5QSFZ1YzJsbmJtVmtJR05vWVhJK0FHVnRjMk55YVhCMFpXNDZPbTFsYlc5eWVWOTJhV1YzUEhOcFoyNWxaQ0JqYUdGeVBnQmxiWE5qY21sd2RHVnVPanB0WlcxdmNubGZkbWxsZHp4c2IyNW5QZ0JsYlhOamNtbHdkR1Z1T2pwdFpXMXZjbmxmZG1sbGR6eDFibk5wWjI1bFpDQnNiMjVuUGdCbGJYTmpjbWx3ZEdWdU9qcHRaVzF2Y25sZmRtbGxkenhrYjNWaWJHVStBRTVUZEROZlh6SXhNbUpoYzJsalgzTjBjbWx1WjBsalRsTmZNVEZqYUdGeVgzUnlZV2wwYzBsalJVVk9VMTg1WVd4c2IyTmhkRzl5U1dORlJVVkZBQUFBQUlRRkFBQXlDUUFBVGxOME0xOWZNakV5WW1GemFXTmZjM1J5YVc1blNXaE9VMTh4TVdOb1lYSmZkSEpoYVhSelNXaEZSVTVUWHpsaGJHeHZZMkYwYjNKSmFFVkZSVVVBQUlRRkFBQjhDUUFBVGxOME0xOWZNakV5WW1GemFXTmZjM1J5YVc1blNYZE9VMTh4TVdOb1lYSmZkSEpoYVhSelNYZEZSVTVUWHpsaGJHeHZZMkYwYjNKSmQwVkZSVVVBQUlRRkFBREVDUUFBVGxOME0xOWZNakV5WW1GemFXTmZjM1J5YVc1blNVUnpUbE5mTVRGamFHRnlYM1J5WVdsMGMwbEVjMFZGVGxOZk9XRnNiRzlqWVhSdmNrbEVjMFZGUlVVQUFBQ0VCUUFBREFvQUFFNVRkRE5mWHpJeE1tSmhjMmxqWDNOMGNtbHVaMGxFYVU1VFh6RXhZMmhoY2w5MGNtRnBkSE5KUkdsRlJVNVRYemxoYkd4dlkyRjBiM0pKUkdsRlJVVkZBQUFBaEFVQUFGZ0tBQUJPTVRCbGJYTmpjbWx3ZEdWdU0zWmhiRVVBQUlRRkFBQ2tDZ0FBVGpFd1pXMXpZM0pwY0hSbGJqRXhiV1Z0YjNKNVgzWnBaWGRKWTBWRkFBQ0VCUUFBd0FvQUFFNHhNR1Z0YzJOeWFYQjBaVzR4TVcxbGJXOXllVjkyYVdWM1NXRkZSUUFBaEFVQUFPZ0tBQUJPTVRCbGJYTmpjbWx3ZEdWdU1URnRaVzF2Y25sZmRtbGxkMGxvUlVVQUFJUUZBQUFRQ3dBQVRqRXdaVzF6WTNKcGNIUmxiakV4YldWdGIzSjVYM1pwWlhkSmMwVkZBQUNFQlFBQU9Bc0FBRTR4TUdWdGMyTnlhWEIwWlc0eE1XMWxiVzl5ZVY5MmFXVjNTWFJGUlFBQWhBVUFBR0FMQUFCT01UQmxiWE5qY21sd2RHVnVNVEZ0WlcxdmNubGZkbWxsZDBscFJVVUFBSVFGQUFDSUN3QUFUakV3WlcxelkzSnBjSFJsYmpFeGJXVnRiM0o1WDNacFpYZEpha1ZGQUFDRUJRQUFzQXNBQUU0eE1HVnRjMk55YVhCMFpXNHhNVzFsYlc5eWVWOTJhV1YzU1d4RlJRQUFoQVVBQU5nTEFBQk9NVEJsYlhOamNtbHdkR1Z1TVRGdFpXMXZjbmxmZG1sbGQwbHRSVVVBQUlRRkFBQUFEQUFBVGpFd1pXMXpZM0pwY0hSbGJqRXhiV1Z0YjNKNVgzWnBaWGRKZUVWRkFBQ0VCUUFBS0F3QUFFNHhNR1Z0YzJOeWFYQjBaVzR4TVcxbGJXOXllVjkyYVdWM1NYbEZSUUFBaEFVQUFGQU1BQUJPTVRCbGJYTmpjbWx3ZEdWdU1URnRaVzF2Y25sZmRtbGxkMGxtUlVVQUFJUUZBQUI0REFBQVRqRXdaVzF6WTNKcGNIUmxiakV4YldWdGIzSjVYM1pwWlhkSlpFVkZBQUNFQlFBQW9Bd0FRY2daQ3dQUURnRT0iO3JldHVybiBmfXZhciB3YXNtQmluYXJ5RmlsZTtmdW5jdGlvbiBnZXRCaW5hcnlTeW5jKGZpbGUpe2lmKGZpbGU9PXdhc21CaW5hcnlGaWxlJiZ3YXNtQmluYXJ5KXtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkod2FzbUJpbmFyeSl9dmFyIGJpbmFyeT10cnlQYXJzZUFzRGF0YVVSSShmaWxlKTtpZihiaW5hcnkpe3JldHVybiBiaW5hcnl9aWYocmVhZEJpbmFyeSl7cmV0dXJuIHJlYWRCaW5hcnkoZmlsZSl9dGhyb3cgImJvdGggYXN5bmMgYW5kIHN5bmMgZmV0Y2hpbmcgb2YgdGhlIHdhc20gZmFpbGVkIn1mdW5jdGlvbiBnZXRCaW5hcnlQcm9taXNlKGJpbmFyeUZpbGUpe3JldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpPT5nZXRCaW5hcnlTeW5jKGJpbmFyeUZpbGUpKX1mdW5jdGlvbiBpbnN0YW50aWF0ZUFycmF5QnVmZmVyKGJpbmFyeUZpbGUsaW1wb3J0cyxyZWNlaXZlcil7cmV0dXJuIGdldEJpbmFyeVByb21pc2UoYmluYXJ5RmlsZSkudGhlbihiaW5hcnk9PldlYkFzc2VtYmx5Lmluc3RhbnRpYXRlKGJpbmFyeSxpbXBvcnRzKSkudGhlbihyZWNlaXZlcixyZWFzb249PntlcnIoYGZhaWxlZCB0byBhc3luY2hyb25vdXNseSBwcmVwYXJlIHdhc206ICR7cmVhc29ufWApO2Fib3J0KHJlYXNvbik7fSl9ZnVuY3Rpb24gaW5zdGFudGlhdGVBc3luYyhiaW5hcnksYmluYXJ5RmlsZSxpbXBvcnRzLGNhbGxiYWNrKXtyZXR1cm4gaW5zdGFudGlhdGVBcnJheUJ1ZmZlcihiaW5hcnlGaWxlLGltcG9ydHMsY2FsbGJhY2spfWZ1bmN0aW9uIGdldFdhc21JbXBvcnRzKCl7cmV0dXJuIHthOndhc21JbXBvcnRzfX1mdW5jdGlvbiBjcmVhdGVXYXNtKCl7dmFyIGluZm89Z2V0V2FzbUltcG9ydHMoKTtmdW5jdGlvbiByZWNlaXZlSW5zdGFuY2UoaW5zdGFuY2UsbW9kdWxlKXt3YXNtRXhwb3J0cz1pbnN0YW5jZS5leHBvcnRzO3dhc21NZW1vcnk9d2FzbUV4cG9ydHNbImsiXTt1cGRhdGVNZW1vcnlWaWV3cygpO2FkZE9uSW5pdCh3YXNtRXhwb3J0c1sibCJdKTtyZW1vdmVSdW5EZXBlbmRlbmN5KCk7cmV0dXJuIHdhc21FeHBvcnRzfWFkZFJ1bkRlcGVuZGVuY3koKTtmdW5jdGlvbiByZWNlaXZlSW5zdGFudGlhdGlvblJlc3VsdChyZXN1bHQpe3JlY2VpdmVJbnN0YW5jZShyZXN1bHRbImluc3RhbmNlIl0pO31pZihNb2R1bGVbImluc3RhbnRpYXRlV2FzbSJdKXt0cnl7cmV0dXJuIE1vZHVsZVsiaW5zdGFudGlhdGVXYXNtIl0oaW5mbyxyZWNlaXZlSW5zdGFuY2UpfWNhdGNoKGUpe2VycihgTW9kdWxlLmluc3RhbnRpYXRlV2FzbSBjYWxsYmFjayBmYWlsZWQgd2l0aCBlcnJvcjogJHtlfWApO3JlYWR5UHJvbWlzZVJlamVjdChlKTt9fXdhc21CaW5hcnlGaWxlPz89ZmluZFdhc21CaW5hcnkoKTtpbnN0YW50aWF0ZUFzeW5jKHdhc21CaW5hcnksd2FzbUJpbmFyeUZpbGUsaW5mbyxyZWNlaXZlSW5zdGFudGlhdGlvblJlc3VsdCkuY2F0Y2gocmVhZHlQcm9taXNlUmVqZWN0KTtyZXR1cm4ge319dmFyIGNhbGxSdW50aW1lQ2FsbGJhY2tzPWNhbGxiYWNrcz0+e3doaWxlKGNhbGxiYWNrcy5sZW5ndGg+MCl7Y2FsbGJhY2tzLnNoaWZ0KCkoTW9kdWxlKTt9fTtNb2R1bGVbIm5vRXhpdFJ1bnRpbWUiXXx8dHJ1ZTt2YXIgX19lbWJpbmRfcmVnaXN0ZXJfYmlnaW50PShwcmltaXRpdmVUeXBlLG5hbWUsc2l6ZSxtaW5SYW5nZSxtYXhSYW5nZSk9Pnt9O3ZhciBlbWJpbmRfaW5pdF9jaGFyQ29kZXM9KCk9Pnt2YXIgY29kZXM9bmV3IEFycmF5KDI1Nik7Zm9yKHZhciBpPTA7aTwyNTY7KytpKXtjb2Rlc1tpXT1TdHJpbmcuZnJvbUNoYXJDb2RlKGkpO31lbWJpbmRfY2hhckNvZGVzPWNvZGVzO307dmFyIGVtYmluZF9jaGFyQ29kZXM7dmFyIHJlYWRMYXRpbjFTdHJpbmc9cHRyPT57dmFyIHJldD0iIjt2YXIgYz1wdHI7d2hpbGUoSEVBUFU4W2NdKXtyZXQrPWVtYmluZF9jaGFyQ29kZXNbSEVBUFU4W2MrK11dO31yZXR1cm4gcmV0fTt2YXIgYXdhaXRpbmdEZXBlbmRlbmNpZXM9e307dmFyIHJlZ2lzdGVyZWRUeXBlcz17fTt2YXIgQmluZGluZ0Vycm9yO3ZhciB0aHJvd0JpbmRpbmdFcnJvcj1tZXNzYWdlPT57dGhyb3cgbmV3IEJpbmRpbmdFcnJvcihtZXNzYWdlKX07ZnVuY3Rpb24gc2hhcmVkUmVnaXN0ZXJUeXBlKHJhd1R5cGUscmVnaXN0ZXJlZEluc3RhbmNlLG9wdGlvbnM9e30pe3ZhciBuYW1lPXJlZ2lzdGVyZWRJbnN0YW5jZS5uYW1lO2lmKCFyYXdUeXBlKXt0aHJvd0JpbmRpbmdFcnJvcihgdHlwZSAiJHtuYW1lfSIgbXVzdCBoYXZlIGEgcG9zaXRpdmUgaW50ZWdlciB0eXBlaWQgcG9pbnRlcmApO31pZihyZWdpc3RlcmVkVHlwZXMuaGFzT3duUHJvcGVydHkocmF3VHlwZSkpe2lmKG9wdGlvbnMuaWdub3JlRHVwbGljYXRlUmVnaXN0cmF0aW9ucyl7cmV0dXJufWVsc2Uge3Rocm93QmluZGluZ0Vycm9yKGBDYW5ub3QgcmVnaXN0ZXIgdHlwZSAnJHtuYW1lfScgdHdpY2VgKTt9fXJlZ2lzdGVyZWRUeXBlc1tyYXdUeXBlXT1yZWdpc3RlcmVkSW5zdGFuY2U7aWYoYXdhaXRpbmdEZXBlbmRlbmNpZXMuaGFzT3duUHJvcGVydHkocmF3VHlwZSkpe3ZhciBjYWxsYmFja3M9YXdhaXRpbmdEZXBlbmRlbmNpZXNbcmF3VHlwZV07ZGVsZXRlIGF3YWl0aW5nRGVwZW5kZW5jaWVzW3Jhd1R5cGVdO2NhbGxiYWNrcy5mb3JFYWNoKGNiPT5jYigpKTt9fWZ1bmN0aW9uIHJlZ2lzdGVyVHlwZShyYXdUeXBlLHJlZ2lzdGVyZWRJbnN0YW5jZSxvcHRpb25zPXt9KXtyZXR1cm4gc2hhcmVkUmVnaXN0ZXJUeXBlKHJhd1R5cGUscmVnaXN0ZXJlZEluc3RhbmNlLG9wdGlvbnMpfXZhciBHZW5lcmljV2lyZVR5cGVTaXplPTg7dmFyIF9fZW1iaW5kX3JlZ2lzdGVyX2Jvb2w9KHJhd1R5cGUsbmFtZSx0cnVlVmFsdWUsZmFsc2VWYWx1ZSk9PntuYW1lPXJlYWRMYXRpbjFTdHJpbmcobmFtZSk7cmVnaXN0ZXJUeXBlKHJhd1R5cGUse25hbWUsZnJvbVdpcmVUeXBlOmZ1bmN0aW9uKHd0KXtyZXR1cm4gISF3dH0sdG9XaXJlVHlwZTpmdW5jdGlvbihkZXN0cnVjdG9ycyxvKXtyZXR1cm4gbz90cnVlVmFsdWU6ZmFsc2VWYWx1ZX0sYXJnUGFja0FkdmFuY2U6R2VuZXJpY1dpcmVUeXBlU2l6ZSxyZWFkVmFsdWVGcm9tUG9pbnRlcjpmdW5jdGlvbihwb2ludGVyKXtyZXR1cm4gdGhpc1siZnJvbVdpcmVUeXBlIl0oSEVBUFU4W3BvaW50ZXJdKX0sZGVzdHJ1Y3RvckZ1bmN0aW9uOm51bGx9KTt9O3ZhciBlbXZhbF9mcmVlbGlzdD1bXTt2YXIgZW12YWxfaGFuZGxlcz1bXTt2YXIgX19lbXZhbF9kZWNyZWY9aGFuZGxlPT57aWYoaGFuZGxlPjkmJjA9PT0tLWVtdmFsX2hhbmRsZXNbaGFuZGxlKzFdKXtlbXZhbF9oYW5kbGVzW2hhbmRsZV09dW5kZWZpbmVkO2VtdmFsX2ZyZWVsaXN0LnB1c2goaGFuZGxlKTt9fTt2YXIgY291bnRfZW12YWxfaGFuZGxlcz0oKT0+ZW12YWxfaGFuZGxlcy5sZW5ndGgvMi01LWVtdmFsX2ZyZWVsaXN0Lmxlbmd0aDt2YXIgaW5pdF9lbXZhbD0oKT0+e2VtdmFsX2hhbmRsZXMucHVzaCgwLDEsdW5kZWZpbmVkLDEsbnVsbCwxLHRydWUsMSxmYWxzZSwxKTtNb2R1bGVbImNvdW50X2VtdmFsX2hhbmRsZXMiXT1jb3VudF9lbXZhbF9oYW5kbGVzO307dmFyIEVtdmFsPXt0b1ZhbHVlOmhhbmRsZT0+e2lmKCFoYW5kbGUpe3Rocm93QmluZGluZ0Vycm9yKCJDYW5ub3QgdXNlIGRlbGV0ZWQgdmFsLiBoYW5kbGUgPSAiK2hhbmRsZSk7fXJldHVybiBlbXZhbF9oYW5kbGVzW2hhbmRsZV19LHRvSGFuZGxlOnZhbHVlPT57c3dpdGNoKHZhbHVlKXtjYXNlIHVuZGVmaW5lZDpyZXR1cm4gMjtjYXNlIG51bGw6cmV0dXJuIDQ7Y2FzZSB0cnVlOnJldHVybiA2O2Nhc2UgZmFsc2U6cmV0dXJuIDg7ZGVmYXVsdDp7Y29uc3QgaGFuZGxlPWVtdmFsX2ZyZWVsaXN0LnBvcCgpfHxlbXZhbF9oYW5kbGVzLmxlbmd0aDtlbXZhbF9oYW5kbGVzW2hhbmRsZV09dmFsdWU7ZW12YWxfaGFuZGxlc1toYW5kbGUrMV09MTtyZXR1cm4gaGFuZGxlfX19fTtmdW5jdGlvbiByZWFkUG9pbnRlcihwb2ludGVyKXtyZXR1cm4gdGhpc1siZnJvbVdpcmVUeXBlIl0oSEVBUFUzMltwb2ludGVyPj4yXSl9dmFyIEVtVmFsVHlwZT17bmFtZToiZW1zY3JpcHRlbjo6dmFsIixmcm9tV2lyZVR5cGU6aGFuZGxlPT57dmFyIHJ2PUVtdmFsLnRvVmFsdWUoaGFuZGxlKTtfX2VtdmFsX2RlY3JlZihoYW5kbGUpO3JldHVybiBydn0sdG9XaXJlVHlwZTooZGVzdHJ1Y3RvcnMsdmFsdWUpPT5FbXZhbC50b0hhbmRsZSh2YWx1ZSksYXJnUGFja0FkdmFuY2U6R2VuZXJpY1dpcmVUeXBlU2l6ZSxyZWFkVmFsdWVGcm9tUG9pbnRlcjpyZWFkUG9pbnRlcixkZXN0cnVjdG9yRnVuY3Rpb246bnVsbH07dmFyIF9fZW1iaW5kX3JlZ2lzdGVyX2VtdmFsPXJhd1R5cGU9PnJlZ2lzdGVyVHlwZShyYXdUeXBlLEVtVmFsVHlwZSk7dmFyIGZsb2F0UmVhZFZhbHVlRnJvbVBvaW50ZXI9KG5hbWUsd2lkdGgpPT57c3dpdGNoKHdpZHRoKXtjYXNlIDQ6cmV0dXJuIGZ1bmN0aW9uKHBvaW50ZXIpe3JldHVybiB0aGlzWyJmcm9tV2lyZVR5cGUiXShIRUFQRjMyW3BvaW50ZXI+PjJdKX07Y2FzZSA4OnJldHVybiBmdW5jdGlvbihwb2ludGVyKXtyZXR1cm4gdGhpc1siZnJvbVdpcmVUeXBlIl0oSEVBUEY2NFtwb2ludGVyPj4zXSl9O2RlZmF1bHQ6dGhyb3cgbmV3IFR5cGVFcnJvcihgaW52YWxpZCBmbG9hdCB3aWR0aCAoJHt3aWR0aH0pOiAke25hbWV9YCl9fTt2YXIgX19lbWJpbmRfcmVnaXN0ZXJfZmxvYXQ9KHJhd1R5cGUsbmFtZSxzaXplKT0+e25hbWU9cmVhZExhdGluMVN0cmluZyhuYW1lKTtyZWdpc3RlclR5cGUocmF3VHlwZSx7bmFtZSxmcm9tV2lyZVR5cGU6dmFsdWU9PnZhbHVlLHRvV2lyZVR5cGU6KGRlc3RydWN0b3JzLHZhbHVlKT0+dmFsdWUsYXJnUGFja0FkdmFuY2U6R2VuZXJpY1dpcmVUeXBlU2l6ZSxyZWFkVmFsdWVGcm9tUG9pbnRlcjpmbG9hdFJlYWRWYWx1ZUZyb21Qb2ludGVyKG5hbWUsc2l6ZSksZGVzdHJ1Y3RvckZ1bmN0aW9uOm51bGx9KTt9O3ZhciBpbnRlZ2VyUmVhZFZhbHVlRnJvbVBvaW50ZXI9KG5hbWUsd2lkdGgsc2lnbmVkKT0+e3N3aXRjaCh3aWR0aCl7Y2FzZSAxOnJldHVybiBzaWduZWQ/cG9pbnRlcj0+SEVBUDhbcG9pbnRlcl06cG9pbnRlcj0+SEVBUFU4W3BvaW50ZXJdO2Nhc2UgMjpyZXR1cm4gc2lnbmVkP3BvaW50ZXI9PkhFQVAxNltwb2ludGVyPj4xXTpwb2ludGVyPT5IRUFQVTE2W3BvaW50ZXI+PjFdO2Nhc2UgNDpyZXR1cm4gc2lnbmVkP3BvaW50ZXI9PkhFQVAzMltwb2ludGVyPj4yXTpwb2ludGVyPT5IRUFQVTMyW3BvaW50ZXI+PjJdO2RlZmF1bHQ6dGhyb3cgbmV3IFR5cGVFcnJvcihgaW52YWxpZCBpbnRlZ2VyIHdpZHRoICgke3dpZHRofSk6ICR7bmFtZX1gKX19O3ZhciBfX2VtYmluZF9yZWdpc3Rlcl9pbnRlZ2VyPShwcmltaXRpdmVUeXBlLG5hbWUsc2l6ZSxtaW5SYW5nZSxtYXhSYW5nZSk9PntuYW1lPXJlYWRMYXRpbjFTdHJpbmcobmFtZSk7dmFyIGZyb21XaXJlVHlwZT12YWx1ZT0+dmFsdWU7aWYobWluUmFuZ2U9PT0wKXt2YXIgYml0c2hpZnQ9MzItOCpzaXplO2Zyb21XaXJlVHlwZT12YWx1ZT0+dmFsdWU8PGJpdHNoaWZ0Pj4+Yml0c2hpZnQ7fXZhciBpc1Vuc2lnbmVkVHlwZT1uYW1lLmluY2x1ZGVzKCJ1bnNpZ25lZCIpO3ZhciBjaGVja0Fzc2VydGlvbnM9KHZhbHVlLHRvVHlwZU5hbWUpPT57fTt2YXIgdG9XaXJlVHlwZTtpZihpc1Vuc2lnbmVkVHlwZSl7dG9XaXJlVHlwZT1mdW5jdGlvbihkZXN0cnVjdG9ycyx2YWx1ZSl7Y2hlY2tBc3NlcnRpb25zKHZhbHVlLHRoaXMubmFtZSk7cmV0dXJuIHZhbHVlPj4+MH07fWVsc2Uge3RvV2lyZVR5cGU9ZnVuY3Rpb24oZGVzdHJ1Y3RvcnMsdmFsdWUpe2NoZWNrQXNzZXJ0aW9ucyh2YWx1ZSx0aGlzLm5hbWUpO3JldHVybiB2YWx1ZX07fXJlZ2lzdGVyVHlwZShwcmltaXRpdmVUeXBlLHtuYW1lLGZyb21XaXJlVHlwZSx0b1dpcmVUeXBlLGFyZ1BhY2tBZHZhbmNlOkdlbmVyaWNXaXJlVHlwZVNpemUscmVhZFZhbHVlRnJvbVBvaW50ZXI6aW50ZWdlclJlYWRWYWx1ZUZyb21Qb2ludGVyKG5hbWUsc2l6ZSxtaW5SYW5nZSE9PTApLGRlc3RydWN0b3JGdW5jdGlvbjpudWxsfSk7fTt2YXIgX19lbWJpbmRfcmVnaXN0ZXJfbWVtb3J5X3ZpZXc9KHJhd1R5cGUsZGF0YVR5cGVJbmRleCxuYW1lKT0+e3ZhciB0eXBlTWFwcGluZz1bSW50OEFycmF5LFVpbnQ4QXJyYXksSW50MTZBcnJheSxVaW50MTZBcnJheSxJbnQzMkFycmF5LFVpbnQzMkFycmF5LEZsb2F0MzJBcnJheSxGbG9hdDY0QXJyYXldO3ZhciBUQT10eXBlTWFwcGluZ1tkYXRhVHlwZUluZGV4XTtmdW5jdGlvbiBkZWNvZGVNZW1vcnlWaWV3KGhhbmRsZSl7dmFyIHNpemU9SEVBUFUzMltoYW5kbGU+PjJdO3ZhciBkYXRhPUhFQVBVMzJbaGFuZGxlKzQ+PjJdO3JldHVybiBuZXcgVEEoSEVBUDguYnVmZmVyLGRhdGEsc2l6ZSl9bmFtZT1yZWFkTGF0aW4xU3RyaW5nKG5hbWUpO3JlZ2lzdGVyVHlwZShyYXdUeXBlLHtuYW1lLGZyb21XaXJlVHlwZTpkZWNvZGVNZW1vcnlWaWV3LGFyZ1BhY2tBZHZhbmNlOkdlbmVyaWNXaXJlVHlwZVNpemUscmVhZFZhbHVlRnJvbVBvaW50ZXI6ZGVjb2RlTWVtb3J5Vmlld30se2lnbm9yZUR1cGxpY2F0ZVJlZ2lzdHJhdGlvbnM6dHJ1ZX0pO307dmFyIHN0cmluZ1RvVVRGOEFycmF5PShzdHIsaGVhcCxvdXRJZHgsbWF4Qnl0ZXNUb1dyaXRlKT0+e2lmKCEobWF4Qnl0ZXNUb1dyaXRlPjApKXJldHVybiAwO3ZhciBzdGFydElkeD1vdXRJZHg7dmFyIGVuZElkeD1vdXRJZHgrbWF4Qnl0ZXNUb1dyaXRlLTE7Zm9yKHZhciBpPTA7aTxzdHIubGVuZ3RoOysraSl7dmFyIHU9c3RyLmNoYXJDb2RlQXQoaSk7aWYodT49NTUyOTYmJnU8PTU3MzQzKXt2YXIgdTE9c3RyLmNoYXJDb2RlQXQoKytpKTt1PTY1NTM2KygodSYxMDIzKTw8MTApfHUxJjEwMjM7fWlmKHU8PTEyNyl7aWYob3V0SWR4Pj1lbmRJZHgpYnJlYWs7aGVhcFtvdXRJZHgrK109dTt9ZWxzZSBpZih1PD0yMDQ3KXtpZihvdXRJZHgrMT49ZW5kSWR4KWJyZWFrO2hlYXBbb3V0SWR4KytdPTE5Mnx1Pj42O2hlYXBbb3V0SWR4KytdPTEyOHx1JjYzO31lbHNlIGlmKHU8PTY1NTM1KXtpZihvdXRJZHgrMj49ZW5kSWR4KWJyZWFrO2hlYXBbb3V0SWR4KytdPTIyNHx1Pj4xMjtoZWFwW291dElkeCsrXT0xMjh8dT4+NiY2MztoZWFwW291dElkeCsrXT0xMjh8dSY2Mzt9ZWxzZSB7aWYob3V0SWR4KzM+PWVuZElkeClicmVhaztoZWFwW291dElkeCsrXT0yNDB8dT4+MTg7aGVhcFtvdXRJZHgrK109MTI4fHU+PjEyJjYzO2hlYXBbb3V0SWR4KytdPTEyOHx1Pj42JjYzO2hlYXBbb3V0SWR4KytdPTEyOHx1JjYzO319aGVhcFtvdXRJZHhdPTA7cmV0dXJuIG91dElkeC1zdGFydElkeH07dmFyIHN0cmluZ1RvVVRGOD0oc3RyLG91dFB0cixtYXhCeXRlc1RvV3JpdGUpPT5zdHJpbmdUb1VURjhBcnJheShzdHIsSEVBUFU4LG91dFB0cixtYXhCeXRlc1RvV3JpdGUpO3ZhciBsZW5ndGhCeXRlc1VURjg9c3RyPT57dmFyIGxlbj0wO2Zvcih2YXIgaT0wO2k8c3RyLmxlbmd0aDsrK2kpe3ZhciBjPXN0ci5jaGFyQ29kZUF0KGkpO2lmKGM8PTEyNyl7bGVuKys7fWVsc2UgaWYoYzw9MjA0Nyl7bGVuKz0yO31lbHNlIGlmKGM+PTU1Mjk2JiZjPD01NzM0Myl7bGVuKz00OysraTt9ZWxzZSB7bGVuKz0zO319cmV0dXJuIGxlbn07dmFyIFVURjhEZWNvZGVyPXR5cGVvZiBUZXh0RGVjb2RlciE9InVuZGVmaW5lZCI/bmV3IFRleHREZWNvZGVyOnVuZGVmaW5lZDt2YXIgVVRGOEFycmF5VG9TdHJpbmc9KGhlYXBPckFycmF5LGlkeCxtYXhCeXRlc1RvUmVhZCk9Pnt2YXIgZW5kSWR4PWlkeCttYXhCeXRlc1RvUmVhZDt2YXIgZW5kUHRyPWlkeDt3aGlsZShoZWFwT3JBcnJheVtlbmRQdHJdJiYhKGVuZFB0cj49ZW5kSWR4KSkrK2VuZFB0cjtpZihlbmRQdHItaWR4PjE2JiZoZWFwT3JBcnJheS5idWZmZXImJlVURjhEZWNvZGVyKXtyZXR1cm4gVVRGOERlY29kZXIuZGVjb2RlKGhlYXBPckFycmF5LnN1YmFycmF5KGlkeCxlbmRQdHIpKX12YXIgc3RyPSIiO3doaWxlKGlkeDxlbmRQdHIpe3ZhciB1MD1oZWFwT3JBcnJheVtpZHgrK107aWYoISh1MCYxMjgpKXtzdHIrPVN0cmluZy5mcm9tQ2hhckNvZGUodTApO2NvbnRpbnVlfXZhciB1MT1oZWFwT3JBcnJheVtpZHgrK10mNjM7aWYoKHUwJjIyNCk9PTE5Mil7c3RyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKCh1MCYzMSk8PDZ8dTEpO2NvbnRpbnVlfXZhciB1Mj1oZWFwT3JBcnJheVtpZHgrK10mNjM7aWYoKHUwJjI0MCk9PTIyNCl7dTA9KHUwJjE1KTw8MTJ8dTE8PDZ8dTI7fWVsc2Uge3UwPSh1MCY3KTw8MTh8dTE8PDEyfHUyPDw2fGhlYXBPckFycmF5W2lkeCsrXSY2Mzt9aWYodTA8NjU1MzYpe3N0cis9U3RyaW5nLmZyb21DaGFyQ29kZSh1MCk7fWVsc2Uge3ZhciBjaD11MC02NTUzNjtzdHIrPVN0cmluZy5mcm9tQ2hhckNvZGUoNTUyOTZ8Y2g+PjEwLDU2MzIwfGNoJjEwMjMpO319cmV0dXJuIHN0cn07dmFyIFVURjhUb1N0cmluZz0ocHRyLG1heEJ5dGVzVG9SZWFkKT0+cHRyP1VURjhBcnJheVRvU3RyaW5nKEhFQVBVOCxwdHIsbWF4Qnl0ZXNUb1JlYWQpOiIiO3ZhciBfX2VtYmluZF9yZWdpc3Rlcl9zdGRfc3RyaW5nPShyYXdUeXBlLG5hbWUpPT57bmFtZT1yZWFkTGF0aW4xU3RyaW5nKG5hbWUpO3ZhciBzdGRTdHJpbmdJc1VURjg9bmFtZT09PSJzdGQ6OnN0cmluZyI7cmVnaXN0ZXJUeXBlKHJhd1R5cGUse25hbWUsZnJvbVdpcmVUeXBlKHZhbHVlKXt2YXIgbGVuZ3RoPUhFQVBVMzJbdmFsdWU+PjJdO3ZhciBwYXlsb2FkPXZhbHVlKzQ7dmFyIHN0cjtpZihzdGRTdHJpbmdJc1VURjgpe3ZhciBkZWNvZGVTdGFydFB0cj1wYXlsb2FkO2Zvcih2YXIgaT0wO2k8PWxlbmd0aDsrK2kpe3ZhciBjdXJyZW50Qnl0ZVB0cj1wYXlsb2FkK2k7aWYoaT09bGVuZ3RofHxIRUFQVThbY3VycmVudEJ5dGVQdHJdPT0wKXt2YXIgbWF4UmVhZD1jdXJyZW50Qnl0ZVB0ci1kZWNvZGVTdGFydFB0cjt2YXIgc3RyaW5nU2VnbWVudD1VVEY4VG9TdHJpbmcoZGVjb2RlU3RhcnRQdHIsbWF4UmVhZCk7aWYoc3RyPT09dW5kZWZpbmVkKXtzdHI9c3RyaW5nU2VnbWVudDt9ZWxzZSB7c3RyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDApO3N0cis9c3RyaW5nU2VnbWVudDt9ZGVjb2RlU3RhcnRQdHI9Y3VycmVudEJ5dGVQdHIrMTt9fX1lbHNlIHt2YXIgYT1uZXcgQXJyYXkobGVuZ3RoKTtmb3IodmFyIGk9MDtpPGxlbmd0aDsrK2kpe2FbaV09U3RyaW5nLmZyb21DaGFyQ29kZShIRUFQVThbcGF5bG9hZCtpXSk7fXN0cj1hLmpvaW4oIiIpO31fZnJlZSh2YWx1ZSk7cmV0dXJuIHN0cn0sdG9XaXJlVHlwZShkZXN0cnVjdG9ycyx2YWx1ZSl7aWYodmFsdWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcil7dmFsdWU9bmV3IFVpbnQ4QXJyYXkodmFsdWUpO312YXIgbGVuZ3RoO3ZhciB2YWx1ZUlzT2ZUeXBlU3RyaW5nPXR5cGVvZiB2YWx1ZT09InN0cmluZyI7aWYoISh2YWx1ZUlzT2ZUeXBlU3RyaW5nfHx2YWx1ZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fHZhbHVlIGluc3RhbmNlb2YgVWludDhDbGFtcGVkQXJyYXl8fHZhbHVlIGluc3RhbmNlb2YgSW50OEFycmF5KSl7dGhyb3dCaW5kaW5nRXJyb3IoIkNhbm5vdCBwYXNzIG5vbi1zdHJpbmcgdG8gc3RkOjpzdHJpbmciKTt9aWYoc3RkU3RyaW5nSXNVVEY4JiZ2YWx1ZUlzT2ZUeXBlU3RyaW5nKXtsZW5ndGg9bGVuZ3RoQnl0ZXNVVEY4KHZhbHVlKTt9ZWxzZSB7bGVuZ3RoPXZhbHVlLmxlbmd0aDt9dmFyIGJhc2U9X21hbGxvYyg0K2xlbmd0aCsxKTt2YXIgcHRyPWJhc2UrNDtIRUFQVTMyW2Jhc2U+PjJdPWxlbmd0aDtpZihzdGRTdHJpbmdJc1VURjgmJnZhbHVlSXNPZlR5cGVTdHJpbmcpe3N0cmluZ1RvVVRGOCh2YWx1ZSxwdHIsbGVuZ3RoKzEpO31lbHNlIHtpZih2YWx1ZUlzT2ZUeXBlU3RyaW5nKXtmb3IodmFyIGk9MDtpPGxlbmd0aDsrK2kpe3ZhciBjaGFyQ29kZT12YWx1ZS5jaGFyQ29kZUF0KGkpO2lmKGNoYXJDb2RlPjI1NSl7X2ZyZWUocHRyKTt0aHJvd0JpbmRpbmdFcnJvcigiU3RyaW5nIGhhcyBVVEYtMTYgY29kZSB1bml0cyB0aGF0IGRvIG5vdCBmaXQgaW4gOCBiaXRzIik7fUhFQVBVOFtwdHIraV09Y2hhckNvZGU7fX1lbHNlIHtmb3IodmFyIGk9MDtpPGxlbmd0aDsrK2kpe0hFQVBVOFtwdHIraV09dmFsdWVbaV07fX19aWYoZGVzdHJ1Y3RvcnMhPT1udWxsKXtkZXN0cnVjdG9ycy5wdXNoKF9mcmVlLGJhc2UpO31yZXR1cm4gYmFzZX0sYXJnUGFja0FkdmFuY2U6R2VuZXJpY1dpcmVUeXBlU2l6ZSxyZWFkVmFsdWVGcm9tUG9pbnRlcjpyZWFkUG9pbnRlcixkZXN0cnVjdG9yRnVuY3Rpb24ocHRyKXtfZnJlZShwdHIpO319KTt9O3ZhciBVVEYxNkRlY29kZXI9dHlwZW9mIFRleHREZWNvZGVyIT0idW5kZWZpbmVkIj9uZXcgVGV4dERlY29kZXIoInV0Zi0xNmxlIik6dW5kZWZpbmVkO3ZhciBVVEYxNlRvU3RyaW5nPShwdHIsbWF4Qnl0ZXNUb1JlYWQpPT57dmFyIGVuZFB0cj1wdHI7dmFyIGlkeD1lbmRQdHI+PjE7dmFyIG1heElkeD1pZHgrbWF4Qnl0ZXNUb1JlYWQvMjt3aGlsZSghKGlkeD49bWF4SWR4KSYmSEVBUFUxNltpZHhdKSsraWR4O2VuZFB0cj1pZHg8PDE7aWYoZW5kUHRyLXB0cj4zMiYmVVRGMTZEZWNvZGVyKXJldHVybiBVVEYxNkRlY29kZXIuZGVjb2RlKEhFQVBVOC5zdWJhcnJheShwdHIsZW5kUHRyKSk7dmFyIHN0cj0iIjtmb3IodmFyIGk9MDshKGk+PW1heEJ5dGVzVG9SZWFkLzIpOysraSl7dmFyIGNvZGVVbml0PUhFQVAxNltwdHIraSoyPj4xXTtpZihjb2RlVW5pdD09MClicmVhaztzdHIrPVN0cmluZy5mcm9tQ2hhckNvZGUoY29kZVVuaXQpO31yZXR1cm4gc3RyfTt2YXIgc3RyaW5nVG9VVEYxNj0oc3RyLG91dFB0cixtYXhCeXRlc1RvV3JpdGUpPT57bWF4Qnl0ZXNUb1dyaXRlPz89MjE0NzQ4MzY0NztpZihtYXhCeXRlc1RvV3JpdGU8MilyZXR1cm4gMDttYXhCeXRlc1RvV3JpdGUtPTI7dmFyIHN0YXJ0UHRyPW91dFB0cjt2YXIgbnVtQ2hhcnNUb1dyaXRlPW1heEJ5dGVzVG9Xcml0ZTxzdHIubGVuZ3RoKjI/bWF4Qnl0ZXNUb1dyaXRlLzI6c3RyLmxlbmd0aDtmb3IodmFyIGk9MDtpPG51bUNoYXJzVG9Xcml0ZTsrK2kpe3ZhciBjb2RlVW5pdD1zdHIuY2hhckNvZGVBdChpKTtIRUFQMTZbb3V0UHRyPj4xXT1jb2RlVW5pdDtvdXRQdHIrPTI7fUhFQVAxNltvdXRQdHI+PjFdPTA7cmV0dXJuIG91dFB0ci1zdGFydFB0cn07dmFyIGxlbmd0aEJ5dGVzVVRGMTY9c3RyPT5zdHIubGVuZ3RoKjI7dmFyIFVURjMyVG9TdHJpbmc9KHB0cixtYXhCeXRlc1RvUmVhZCk9Pnt2YXIgaT0wO3ZhciBzdHI9IiI7d2hpbGUoIShpPj1tYXhCeXRlc1RvUmVhZC80KSl7dmFyIHV0ZjMyPUhFQVAzMltwdHIraSo0Pj4yXTtpZih1dGYzMj09MClicmVhazsrK2k7aWYodXRmMzI+PTY1NTM2KXt2YXIgY2g9dXRmMzItNjU1MzY7c3RyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDU1Mjk2fGNoPj4xMCw1NjMyMHxjaCYxMDIzKTt9ZWxzZSB7c3RyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHV0ZjMyKTt9fXJldHVybiBzdHJ9O3ZhciBzdHJpbmdUb1VURjMyPShzdHIsb3V0UHRyLG1heEJ5dGVzVG9Xcml0ZSk9PnttYXhCeXRlc1RvV3JpdGU/Pz0yMTQ3NDgzNjQ3O2lmKG1heEJ5dGVzVG9Xcml0ZTw0KXJldHVybiAwO3ZhciBzdGFydFB0cj1vdXRQdHI7dmFyIGVuZFB0cj1zdGFydFB0cittYXhCeXRlc1RvV3JpdGUtNDtmb3IodmFyIGk9MDtpPHN0ci5sZW5ndGg7KytpKXt2YXIgY29kZVVuaXQ9c3RyLmNoYXJDb2RlQXQoaSk7aWYoY29kZVVuaXQ+PTU1Mjk2JiZjb2RlVW5pdDw9NTczNDMpe3ZhciB0cmFpbFN1cnJvZ2F0ZT1zdHIuY2hhckNvZGVBdCgrK2kpO2NvZGVVbml0PTY1NTM2KygoY29kZVVuaXQmMTAyMyk8PDEwKXx0cmFpbFN1cnJvZ2F0ZSYxMDIzO31IRUFQMzJbb3V0UHRyPj4yXT1jb2RlVW5pdDtvdXRQdHIrPTQ7aWYob3V0UHRyKzQ+ZW5kUHRyKWJyZWFrfUhFQVAzMltvdXRQdHI+PjJdPTA7cmV0dXJuIG91dFB0ci1zdGFydFB0cn07dmFyIGxlbmd0aEJ5dGVzVVRGMzI9c3RyPT57dmFyIGxlbj0wO2Zvcih2YXIgaT0wO2k8c3RyLmxlbmd0aDsrK2kpe3ZhciBjb2RlVW5pdD1zdHIuY2hhckNvZGVBdChpKTtpZihjb2RlVW5pdD49NTUyOTYmJmNvZGVVbml0PD01NzM0MykrK2k7bGVuKz00O31yZXR1cm4gbGVufTt2YXIgX19lbWJpbmRfcmVnaXN0ZXJfc3RkX3dzdHJpbmc9KHJhd1R5cGUsY2hhclNpemUsbmFtZSk9PntuYW1lPXJlYWRMYXRpbjFTdHJpbmcobmFtZSk7dmFyIGRlY29kZVN0cmluZyxlbmNvZGVTdHJpbmcscmVhZENoYXJBdCxsZW5ndGhCeXRlc1VURjtpZihjaGFyU2l6ZT09PTIpe2RlY29kZVN0cmluZz1VVEYxNlRvU3RyaW5nO2VuY29kZVN0cmluZz1zdHJpbmdUb1VURjE2O2xlbmd0aEJ5dGVzVVRGPWxlbmd0aEJ5dGVzVVRGMTY7cmVhZENoYXJBdD1wb2ludGVyPT5IRUFQVTE2W3BvaW50ZXI+PjFdO31lbHNlIGlmKGNoYXJTaXplPT09NCl7ZGVjb2RlU3RyaW5nPVVURjMyVG9TdHJpbmc7ZW5jb2RlU3RyaW5nPXN0cmluZ1RvVVRGMzI7bGVuZ3RoQnl0ZXNVVEY9bGVuZ3RoQnl0ZXNVVEYzMjtyZWFkQ2hhckF0PXBvaW50ZXI9PkhFQVBVMzJbcG9pbnRlcj4+Ml07fXJlZ2lzdGVyVHlwZShyYXdUeXBlLHtuYW1lLGZyb21XaXJlVHlwZTp2YWx1ZT0+e3ZhciBsZW5ndGg9SEVBUFUzMlt2YWx1ZT4+Ml07dmFyIHN0cjt2YXIgZGVjb2RlU3RhcnRQdHI9dmFsdWUrNDtmb3IodmFyIGk9MDtpPD1sZW5ndGg7KytpKXt2YXIgY3VycmVudEJ5dGVQdHI9dmFsdWUrNCtpKmNoYXJTaXplO2lmKGk9PWxlbmd0aHx8cmVhZENoYXJBdChjdXJyZW50Qnl0ZVB0cik9PTApe3ZhciBtYXhSZWFkQnl0ZXM9Y3VycmVudEJ5dGVQdHItZGVjb2RlU3RhcnRQdHI7dmFyIHN0cmluZ1NlZ21lbnQ9ZGVjb2RlU3RyaW5nKGRlY29kZVN0YXJ0UHRyLG1heFJlYWRCeXRlcyk7aWYoc3RyPT09dW5kZWZpbmVkKXtzdHI9c3RyaW5nU2VnbWVudDt9ZWxzZSB7c3RyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDApO3N0cis9c3RyaW5nU2VnbWVudDt9ZGVjb2RlU3RhcnRQdHI9Y3VycmVudEJ5dGVQdHIrY2hhclNpemU7fX1fZnJlZSh2YWx1ZSk7cmV0dXJuIHN0cn0sdG9XaXJlVHlwZTooZGVzdHJ1Y3RvcnMsdmFsdWUpPT57aWYoISh0eXBlb2YgdmFsdWU9PSJzdHJpbmciKSl7dGhyb3dCaW5kaW5nRXJyb3IoYENhbm5vdCBwYXNzIG5vbi1zdHJpbmcgdG8gQysrIHN0cmluZyB0eXBlICR7bmFtZX1gKTt9dmFyIGxlbmd0aD1sZW5ndGhCeXRlc1VURih2YWx1ZSk7dmFyIHB0cj1fbWFsbG9jKDQrbGVuZ3RoK2NoYXJTaXplKTtIRUFQVTMyW3B0cj4+Ml09bGVuZ3RoL2NoYXJTaXplO2VuY29kZVN0cmluZyh2YWx1ZSxwdHIrNCxsZW5ndGgrY2hhclNpemUpO2lmKGRlc3RydWN0b3JzIT09bnVsbCl7ZGVzdHJ1Y3RvcnMucHVzaChfZnJlZSxwdHIpO31yZXR1cm4gcHRyfSxhcmdQYWNrQWR2YW5jZTpHZW5lcmljV2lyZVR5cGVTaXplLHJlYWRWYWx1ZUZyb21Qb2ludGVyOnJlYWRQb2ludGVyLGRlc3RydWN0b3JGdW5jdGlvbihwdHIpe19mcmVlKHB0cik7fX0pO307dmFyIF9fZW1iaW5kX3JlZ2lzdGVyX3ZvaWQ9KHJhd1R5cGUsbmFtZSk9PntuYW1lPXJlYWRMYXRpbjFTdHJpbmcobmFtZSk7cmVnaXN0ZXJUeXBlKHJhd1R5cGUse2lzVm9pZDp0cnVlLG5hbWUsYXJnUGFja0FkdmFuY2U6MCxmcm9tV2lyZVR5cGU6KCk9PnVuZGVmaW5lZCx0b1dpcmVUeXBlOihkZXN0cnVjdG9ycyxvKT0+dW5kZWZpbmVkfSk7fTt2YXIgZ2V0SGVhcE1heD0oKT0+MjE0NzQ4MzY0ODt2YXIgYWxpZ25NZW1vcnk9KHNpemUsYWxpZ25tZW50KT0+TWF0aC5jZWlsKHNpemUvYWxpZ25tZW50KSphbGlnbm1lbnQ7dmFyIGdyb3dNZW1vcnk9c2l6ZT0+e3ZhciBiPXdhc21NZW1vcnkuYnVmZmVyO3ZhciBwYWdlcz0oc2l6ZS1iLmJ5dGVMZW5ndGgrNjU1MzUpLzY1NTM2O3RyeXt3YXNtTWVtb3J5Lmdyb3cocGFnZXMpO3VwZGF0ZU1lbW9yeVZpZXdzKCk7cmV0dXJuIDF9Y2F0Y2goZSl7fX07dmFyIF9lbXNjcmlwdGVuX3Jlc2l6ZV9oZWFwPXJlcXVlc3RlZFNpemU9Pnt2YXIgb2xkU2l6ZT1IRUFQVTgubGVuZ3RoO3JlcXVlc3RlZFNpemU+Pj49MDt2YXIgbWF4SGVhcFNpemU9Z2V0SGVhcE1heCgpO2lmKHJlcXVlc3RlZFNpemU+bWF4SGVhcFNpemUpe3JldHVybiBmYWxzZX1mb3IodmFyIGN1dERvd249MTtjdXREb3duPD00O2N1dERvd24qPTIpe3ZhciBvdmVyR3Jvd25IZWFwU2l6ZT1vbGRTaXplKigxKy4yL2N1dERvd24pO292ZXJHcm93bkhlYXBTaXplPU1hdGgubWluKG92ZXJHcm93bkhlYXBTaXplLHJlcXVlc3RlZFNpemUrMTAwNjYzMjk2KTt2YXIgbmV3U2l6ZT1NYXRoLm1pbihtYXhIZWFwU2l6ZSxhbGlnbk1lbW9yeShNYXRoLm1heChyZXF1ZXN0ZWRTaXplLG92ZXJHcm93bkhlYXBTaXplKSw2NTUzNikpO3ZhciByZXBsYWNlbWVudD1ncm93TWVtb3J5KG5ld1NpemUpO2lmKHJlcGxhY2VtZW50KXtyZXR1cm4gdHJ1ZX19cmV0dXJuIGZhbHNlfTtlbWJpbmRfaW5pdF9jaGFyQ29kZXMoKTtCaW5kaW5nRXJyb3I9TW9kdWxlWyJCaW5kaW5nRXJyb3IiXT1jbGFzcyBCaW5kaW5nRXJyb3IgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihtZXNzYWdlKXtzdXBlcihtZXNzYWdlKTt0aGlzLm5hbWU9IkJpbmRpbmdFcnJvciI7fX07TW9kdWxlWyJJbnRlcm5hbEVycm9yIl09Y2xhc3MgSW50ZXJuYWxFcnJvciBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKG1lc3NhZ2Upe3N1cGVyKG1lc3NhZ2UpO3RoaXMubmFtZT0iSW50ZXJuYWxFcnJvciI7fX07aW5pdF9lbXZhbCgpO3ZhciB3YXNtSW1wb3J0cz17ZjpfX2VtYmluZF9yZWdpc3Rlcl9iaWdpbnQsaDpfX2VtYmluZF9yZWdpc3Rlcl9ib29sLGc6X19lbWJpbmRfcmVnaXN0ZXJfZW12YWwsZTpfX2VtYmluZF9yZWdpc3Rlcl9mbG9hdCxiOl9fZW1iaW5kX3JlZ2lzdGVyX2ludGVnZXIsYTpfX2VtYmluZF9yZWdpc3Rlcl9tZW1vcnlfdmlldyxkOl9fZW1iaW5kX3JlZ2lzdGVyX3N0ZF9zdHJpbmcsYzpfX2VtYmluZF9yZWdpc3Rlcl9zdGRfd3N0cmluZyxpOl9fZW1iaW5kX3JlZ2lzdGVyX3ZvaWQsajpfZW1zY3JpcHRlbl9yZXNpemVfaGVhcH07dmFyIHdhc21FeHBvcnRzPWNyZWF0ZVdhc20oKTtNb2R1bGVbIl9wYWNrIl09KGEwLGExLGEyLGEzLGE0LGE1LGE2LGE3LGE4LGE5LGExMCk9PihNb2R1bGVbIl9wYWNrIl09d2FzbUV4cG9ydHNbIm0iXSkoYTAsYTEsYTIsYTMsYTQsYTUsYTYsYTcsYTgsYTksYTEwKTt2YXIgX21hbGxvYz1Nb2R1bGVbIl9tYWxsb2MiXT1hMD0+KF9tYWxsb2M9TW9kdWxlWyJfbWFsbG9jIl09d2FzbUV4cG9ydHNbIm8iXSkoYTApO3ZhciBfZnJlZT1Nb2R1bGVbIl9mcmVlIl09YTA9PihfZnJlZT1Nb2R1bGVbIl9mcmVlIl09d2FzbUV4cG9ydHNbInAiXSkoYTApO3ZhciBjYWxsZWRSdW47ZGVwZW5kZW5jaWVzRnVsZmlsbGVkPWZ1bmN0aW9uIHJ1bkNhbGxlcigpe2lmKCFjYWxsZWRSdW4pcnVuKCk7aWYoIWNhbGxlZFJ1bilkZXBlbmRlbmNpZXNGdWxmaWxsZWQ9cnVuQ2FsbGVyO307ZnVuY3Rpb24gcnVuKCl7aWYocnVuRGVwZW5kZW5jaWVzPjApe3JldHVybn1wcmVSdW4oKTtpZihydW5EZXBlbmRlbmNpZXM+MCl7cmV0dXJufWZ1bmN0aW9uIGRvUnVuKCl7aWYoY2FsbGVkUnVuKXJldHVybjtjYWxsZWRSdW49dHJ1ZTtNb2R1bGVbImNhbGxlZFJ1biJdPXRydWU7aWYoQUJPUlQpcmV0dXJuO2luaXRSdW50aW1lKCk7cmVhZHlQcm9taXNlUmVzb2x2ZShNb2R1bGUpO01vZHVsZVsib25SdW50aW1lSW5pdGlhbGl6ZWQiXT8uKCk7cG9zdFJ1bigpO31pZihNb2R1bGVbInNldFN0YXR1cyJdKXtNb2R1bGVbInNldFN0YXR1cyJdKCJSdW5uaW5nLi4uIik7c2V0VGltZW91dCgoKT0+e3NldFRpbWVvdXQoKCk9Pk1vZHVsZVsic2V0U3RhdHVzIl0oIiIpLDEpO2RvUnVuKCk7fSwxKTt9ZWxzZSB7ZG9SdW4oKTt9fWlmKE1vZHVsZVsicHJlSW5pdCJdKXtpZih0eXBlb2YgTW9kdWxlWyJwcmVJbml0Il09PSJmdW5jdGlvbiIpTW9kdWxlWyJwcmVJbml0Il09W01vZHVsZVsicHJlSW5pdCJdXTt3aGlsZShNb2R1bGVbInByZUluaXQiXS5sZW5ndGg+MCl7TW9kdWxlWyJwcmVJbml0Il0ucG9wKCkoKTt9fXJ1bigpO21vZHVsZVJ0bj1yZWFkeVByb21pc2U7CgoKICAgIHJldHVybiBtb2R1bGVSdG47CiAgfQogICk7CiAgfSkoKTsKCiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkKICBsZXQgd2FzbU1vZHVsZTsKICBhc3luYyBmdW5jdGlvbiBpbml0V2FzbSgpIHsKICAgICAgd2FzbU1vZHVsZSA9IGF3YWl0IGxvYWRXYXNtKCk7CiAgfQogIGxldCBhbGxvY2F0ZWRWZXJ0ZXhDb3VudCA9IDA7CiAgY29uc3QgdXBkYXRlUXVldWUgPSBuZXcgQXJyYXkoKTsKICBsZXQgcnVubmluZyA9IGZhbHNlOwogIGxldCBsb2FkaW5nID0gZmFsc2U7CiAgbGV0IHBvc2l0aW9uc1B0cjsKICBsZXQgcm90YXRpb25zUHRyOwogIGxldCBzY2FsZXNQdHI7CiAgbGV0IGNvbG9yc1B0cjsKICBsZXQgc2VsZWN0aW9uUHRyOwogIGxldCBkYXRhUHRyOwogIGxldCB3b3JsZFBvc2l0aW9uc1B0cjsKICBsZXQgd29ybGRSb3RhdGlvbnNQdHI7CiAgbGV0IHdvcmxkU2NhbGVzUHRyOwogIGNvbnN0IHBhY2sgPSBhc3luYyAoc3BsYXQpID0+IHsKICAgICAgd2hpbGUgKGxvYWRpbmcpIHsKICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDApKTsKICAgICAgfQogICAgICBpZiAoIXdhc21Nb2R1bGUpIHsKICAgICAgICAgIGxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgYXdhaXQgaW5pdFdhc20oKTsKICAgICAgICAgIGxvYWRpbmcgPSBmYWxzZTsKICAgICAgfQogICAgICBjb25zdCB0YXJnZXRBbGxvY2F0ZWRWZXJ0ZXhDb3VudCA9IE1hdGgucG93KDIsIE1hdGguY2VpbChNYXRoLmxvZzIoc3BsYXQudmVydGV4Q291bnQpKSk7CiAgICAgIGlmICh0YXJnZXRBbGxvY2F0ZWRWZXJ0ZXhDb3VudCA+IGFsbG9jYXRlZFZlcnRleENvdW50KSB7CiAgICAgICAgICBpZiAoYWxsb2NhdGVkVmVydGV4Q291bnQgPiAwKSB7CiAgICAgICAgICAgICAgd2FzbU1vZHVsZS5fZnJlZShwb3NpdGlvbnNQdHIpOwogICAgICAgICAgICAgIHdhc21Nb2R1bGUuX2ZyZWUocm90YXRpb25zUHRyKTsKICAgICAgICAgICAgICB3YXNtTW9kdWxlLl9mcmVlKHNjYWxlc1B0cik7CiAgICAgICAgICAgICAgd2FzbU1vZHVsZS5fZnJlZShjb2xvcnNQdHIpOwogICAgICAgICAgICAgIHdhc21Nb2R1bGUuX2ZyZWUoc2VsZWN0aW9uUHRyKTsKICAgICAgICAgICAgICB3YXNtTW9kdWxlLl9mcmVlKGRhdGFQdHIpOwogICAgICAgICAgICAgIHdhc21Nb2R1bGUuX2ZyZWUod29ybGRQb3NpdGlvbnNQdHIpOwogICAgICAgICAgICAgIHdhc21Nb2R1bGUuX2ZyZWUod29ybGRSb3RhdGlvbnNQdHIpOwogICAgICAgICAgICAgIHdhc21Nb2R1bGUuX2ZyZWUod29ybGRTY2FsZXNQdHIpOwogICAgICAgICAgfQogICAgICAgICAgYWxsb2NhdGVkVmVydGV4Q291bnQgPSB0YXJnZXRBbGxvY2F0ZWRWZXJ0ZXhDb3VudDsKICAgICAgICAgIHBvc2l0aW9uc1B0ciA9IHdhc21Nb2R1bGUuX21hbGxvYygzICogYWxsb2NhdGVkVmVydGV4Q291bnQgKiA0KTsKICAgICAgICAgIHJvdGF0aW9uc1B0ciA9IHdhc21Nb2R1bGUuX21hbGxvYyg0ICogYWxsb2NhdGVkVmVydGV4Q291bnQgKiA0KTsKICAgICAgICAgIHNjYWxlc1B0ciA9IHdhc21Nb2R1bGUuX21hbGxvYygzICogYWxsb2NhdGVkVmVydGV4Q291bnQgKiA0KTsKICAgICAgICAgIGNvbG9yc1B0ciA9IHdhc21Nb2R1bGUuX21hbGxvYyg0ICogYWxsb2NhdGVkVmVydGV4Q291bnQpOwogICAgICAgICAgc2VsZWN0aW9uUHRyID0gd2FzbU1vZHVsZS5fbWFsbG9jKGFsbG9jYXRlZFZlcnRleENvdW50KTsKICAgICAgICAgIGRhdGFQdHIgPSB3YXNtTW9kdWxlLl9tYWxsb2MoOCAqIGFsbG9jYXRlZFZlcnRleENvdW50ICogNCk7CiAgICAgICAgICB3b3JsZFBvc2l0aW9uc1B0ciA9IHdhc21Nb2R1bGUuX21hbGxvYygzICogYWxsb2NhdGVkVmVydGV4Q291bnQgKiA0KTsKICAgICAgICAgIHdvcmxkUm90YXRpb25zUHRyID0gd2FzbU1vZHVsZS5fbWFsbG9jKDQgKiBhbGxvY2F0ZWRWZXJ0ZXhDb3VudCAqIDQpOwogICAgICAgICAgd29ybGRTY2FsZXNQdHIgPSB3YXNtTW9kdWxlLl9tYWxsb2MoMyAqIGFsbG9jYXRlZFZlcnRleENvdW50ICogNCk7CiAgICAgIH0KICAgICAgd2FzbU1vZHVsZS5IRUFQRjMyLnNldChzcGxhdC5wb3NpdGlvbnMsIHBvc2l0aW9uc1B0ciAvIDQpOwogICAgICB3YXNtTW9kdWxlLkhFQVBGMzIuc2V0KHNwbGF0LnJvdGF0aW9ucywgcm90YXRpb25zUHRyIC8gNCk7CiAgICAgIHdhc21Nb2R1bGUuSEVBUEYzMi5zZXQoc3BsYXQuc2NhbGVzLCBzY2FsZXNQdHIgLyA0KTsKICAgICAgd2FzbU1vZHVsZS5IRUFQVTguc2V0KHNwbGF0LmNvbG9ycywgY29sb3JzUHRyKTsKICAgICAgd2FzbU1vZHVsZS5IRUFQVTguc2V0KHNwbGF0LnNlbGVjdGlvbiwgc2VsZWN0aW9uUHRyKTsKICAgICAgd2FzbU1vZHVsZS5fcGFjayhzcGxhdC5zZWxlY3RlZCwgc3BsYXQudmVydGV4Q291bnQsIHBvc2l0aW9uc1B0ciwgcm90YXRpb25zUHRyLCBzY2FsZXNQdHIsIGNvbG9yc1B0ciwgc2VsZWN0aW9uUHRyLCBkYXRhUHRyLCB3b3JsZFBvc2l0aW9uc1B0ciwgd29ybGRSb3RhdGlvbnNQdHIsIHdvcmxkU2NhbGVzUHRyKTsKICAgICAgY29uc3Qgb3V0RGF0YSA9IG5ldyBVaW50MzJBcnJheSh3YXNtTW9kdWxlLkhFQVBVMzIuYnVmZmVyLCBkYXRhUHRyLCBzcGxhdC52ZXJ0ZXhDb3VudCAqIDgpOwogICAgICBjb25zdCBkZXRhY2hlZERhdGEgPSBuZXcgVWludDMyQXJyYXkob3V0RGF0YS5zbGljZSgpLmJ1ZmZlcik7CiAgICAgIGNvbnN0IHdvcmxkUG9zaXRpb25zID0gbmV3IEZsb2F0MzJBcnJheSh3YXNtTW9kdWxlLkhFQVBGMzIuYnVmZmVyLCB3b3JsZFBvc2l0aW9uc1B0ciwgc3BsYXQudmVydGV4Q291bnQgKiAzKTsKICAgICAgY29uc3QgZGV0YWNoZWRXb3JsZFBvc2l0aW9ucyA9IG5ldyBGbG9hdDMyQXJyYXkod29ybGRQb3NpdGlvbnMuc2xpY2UoKS5idWZmZXIpOwogICAgICBjb25zdCB3b3JsZFJvdGF0aW9ucyA9IG5ldyBGbG9hdDMyQXJyYXkod2FzbU1vZHVsZS5IRUFQRjMyLmJ1ZmZlciwgd29ybGRSb3RhdGlvbnNQdHIsIHNwbGF0LnZlcnRleENvdW50ICogNCk7CiAgICAgIGNvbnN0IGRldGFjaGVkV29ybGRSb3RhdGlvbnMgPSBuZXcgRmxvYXQzMkFycmF5KHdvcmxkUm90YXRpb25zLnNsaWNlKCkuYnVmZmVyKTsKICAgICAgY29uc3Qgd29ybGRTY2FsZXMgPSBuZXcgRmxvYXQzMkFycmF5KHdhc21Nb2R1bGUuSEVBUEYzMi5idWZmZXIsIHdvcmxkU2NhbGVzUHRyLCBzcGxhdC52ZXJ0ZXhDb3VudCAqIDMpOwogICAgICBjb25zdCBkZXRhY2hlZFdvcmxkU2NhbGVzID0gbmV3IEZsb2F0MzJBcnJheSh3b3JsZFNjYWxlcy5zbGljZSgpLmJ1ZmZlcik7CiAgICAgIGNvbnN0IHJlc3BvbnNlID0gewogICAgICAgICAgZGF0YTogZGV0YWNoZWREYXRhLAogICAgICAgICAgd29ybGRQb3NpdGlvbnM6IGRldGFjaGVkV29ybGRQb3NpdGlvbnMsCiAgICAgICAgICB3b3JsZFJvdGF0aW9uczogZGV0YWNoZWRXb3JsZFJvdGF0aW9ucywKICAgICAgICAgIHdvcmxkU2NhbGVzOiBkZXRhY2hlZFdvcmxkU2NhbGVzLAogICAgICAgICAgb2Zmc2V0OiBzcGxhdC5vZmZzZXQsCiAgICAgICAgICB2ZXJ0ZXhDb3VudDogc3BsYXQudmVydGV4Q291bnQsCiAgICAgICAgICBwb3NpdGlvbnM6IHNwbGF0LnBvc2l0aW9ucy5idWZmZXIsCiAgICAgICAgICByb3RhdGlvbnM6IHNwbGF0LnJvdGF0aW9ucy5idWZmZXIsCiAgICAgICAgICBzY2FsZXM6IHNwbGF0LnNjYWxlcy5idWZmZXIsCiAgICAgICAgICBjb2xvcnM6IHNwbGF0LmNvbG9ycy5idWZmZXIsCiAgICAgICAgICBzZWxlY3Rpb246IHNwbGF0LnNlbGVjdGlvbi5idWZmZXIsCiAgICAgIH07CiAgICAgIHNlbGYucG9zdE1lc3NhZ2UoeyByZXNwb25zZTogcmVzcG9uc2UgfSwgWwogICAgICAgICAgcmVzcG9uc2UuZGF0YS5idWZmZXIsCiAgICAgICAgICByZXNwb25zZS53b3JsZFBvc2l0aW9ucy5idWZmZXIsCiAgICAgICAgICByZXNwb25zZS53b3JsZFJvdGF0aW9ucy5idWZmZXIsCiAgICAgICAgICByZXNwb25zZS53b3JsZFNjYWxlcy5idWZmZXIsCiAgICAgICAgICByZXNwb25zZS5wb3NpdGlvbnMsCiAgICAgICAgICByZXNwb25zZS5yb3RhdGlvbnMsCiAgICAgICAgICByZXNwb25zZS5zY2FsZXMsCiAgICAgICAgICByZXNwb25zZS5jb2xvcnMsCiAgICAgICAgICByZXNwb25zZS5zZWxlY3Rpb24sCiAgICAgIF0pOwogICAgICBydW5uaW5nID0gZmFsc2U7CiAgfTsKICBjb25zdCBwYWNrVGhyb3R0bGVkID0gKCkgPT4gewogICAgICBpZiAodXBkYXRlUXVldWUubGVuZ3RoID09PSAwKQogICAgICAgICAgcmV0dXJuOwogICAgICBpZiAoIXJ1bm5pbmcpIHsKICAgICAgICAgIHJ1bm5pbmcgPSB0cnVlOwogICAgICAgICAgY29uc3Qgc3BsYXQgPSB1cGRhdGVRdWV1ZS5zaGlmdCgpOwogICAgICAgICAgcGFjayhzcGxhdCk7CiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICBydW5uaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgcGFja1Rocm90dGxlZCgpOwogICAgICAgICAgfSwgMCk7CiAgICAgIH0KICB9OwogIHNlbGYub25tZXNzYWdlID0gKGUpID0+IHsKICAgICAgaWYgKGUuZGF0YS5zcGxhdCkgewogICAgICAgICAgY29uc3Qgc3BsYXQgPSBlLmRhdGEuc3BsYXQ7CiAgICAgICAgICBmb3IgKGNvbnN0IFtpbmRleCwgZXhpc3RpbmddIG9mIHVwZGF0ZVF1ZXVlLmVudHJpZXMoKSkgewogICAgICAgICAgICAgIGlmIChleGlzdGluZy5vZmZzZXQgPT09IHNwbGF0Lm9mZnNldCkgewogICAgICAgICAgICAgICAgICB1cGRhdGVRdWV1ZVtpbmRleF0gPSBzcGxhdDsKICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIHVwZGF0ZVF1ZXVlLnB1c2goc3BsYXQpOwogICAgICAgICAgcGFja1Rocm90dGxlZCgpOwogICAgICB9CiAgfTsKCn0pKCk7Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPURhdGFXb3JrZXIuanMubWFwCgo="),G=function(t={}){var U,F,l,n=t,Q=new Promise(((t,l)=>{U=t,F=l})),e=Object.assign({},n),d="";d=(d=self.location.href).startsWith("blob:")?"":d.substr(0,d.replace(/[?#].*/,"").lastIndexOf("/")+1),l=t=>{var U=new XMLHttpRequest;return U.open("GET",t,!1),U.responseType="arraybuffer",U.send(null),new Uint8Array(U.response)},n.print||console.log.bind(console);var A=n.printErr||console.error.bind(console);Object.assign(n,e),e=null,n.arguments&&n.arguments,n.thisProgram&&n.thisProgram;var B,V=n.wasmBinary;function a(t){if(G(t))return function(t){for(var U=atob(t),F=new Uint8Array(U.length),l=0;l<U.length;++l)F[l]=U.charCodeAt(l);return F}(t.slice(E.length))}var i,Z,R,s,c,o,r,h,W=!1;function I(){var t=B.buffer;n.HEAP8=i=new Int8Array(t),n.HEAP16=R=new Int16Array(t),n.HEAPU8=Z=new Uint8Array(t),n.HEAPU16=s=new Uint16Array(t),n.HEAP32=c=new Int32Array(t),n.HEAPU32=o=new Uint32Array(t),n.HEAPF32=r=new Float32Array(t),n.HEAPF64=h=new Float64Array(t)}var m,J=[],g=[],b=[],C=0,N=null,E="data:application/octet-stream;base64,",G=t=>t.startsWith(E);function p(t){return Promise.resolve().then((()=>function(t){if(t==m&&V)return new Uint8Array(V);var U=a(t);if(U)return U;if(l)return l(t);throw"both async and sync fetching of the wasm failed"}(t)))}function X(t,U,l){return p(t).then((t=>WebAssembly.instantiate(t,U))).then(l,(t=>{A(`failed to asynchronously prepare wasm: ${t}`),function(t){n.onAbort?.(t),A(t="Aborted("+t+")"),W=!0,t+=". Build with -sASSERTIONS for more info.";var U=new WebAssembly.RuntimeError(t);throw F(U),U}(t)}))}var S=t=>{for(;t.length>0;)t.shift()(n)};n.noExitRuntime;var y,k,u=t=>{for(var U="",F=t;Z[F];)U+=y[Z[F++]];return U},Y={},T={},x=t=>{throw new k(t)};function H(t,U,F={}){return function(t,U,F={}){var l=U.name;if(t||x(`type "${l}" must have a positive integer typeid pointer`),T.hasOwnProperty(t)){if(F.ignoreDuplicateRegistrations)return;x(`Cannot register type '${l}' twice`)}if(T[t]=U,Y.hasOwnProperty(t)){var n=Y[t];delete Y[t],n.forEach((t=>t()))}}(t,U,F)}var f=[],D=[],v=()=>D.length/2-5-f.length,w=t=>(t||x("Cannot use deleted val. handle = "+t),D[t]),M=t=>{switch(t){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const U=f.pop()||D.length;return D[U]=t,D[U+1]=1,U}}};function z(t){return this.fromWireType(o[t>>2])}var K={name:"emscripten::val",fromWireType:t=>{var U=w(t);return(t=>{t>9&&0==--D[t+1]&&(D[t]=void 0,f.push(t))})(t),U},toWireType:(t,U)=>M(U),argPackAdvance:8,readValueFromPointer:z,destructorFunction:null},j=(t,U)=>{switch(U){case 4:return function(t){return this.fromWireType(r[t>>2])};case 8:return function(t){return this.fromWireType(h[t>>3])};default:throw new TypeError(`invalid float width (${U}): ${t}`)}},O=(t,U,F)=>{switch(U){case 1:return F?t=>i[t]:t=>Z[t];case 2:return F?t=>R[t>>1]:t=>s[t>>1];case 4:return F?t=>c[t>>2]:t=>o[t>>2];default:throw new TypeError(`invalid integer width (${U}): ${t}`)}},L="undefined"!=typeof TextDecoder?new TextDecoder:void 0,P=(t,U)=>t?((t,U,F)=>{for(var l=U+F,n=U;t[n]&&!(n>=l);)++n;if(n-U>16&&t.buffer&&L)return L.decode(t.subarray(U,n));for(var Q="";U<n;){var e=t[U++];if(128&e){var d=63&t[U++];if(192!=(224&e)){var A=63&t[U++];if((e=224==(240&e)?(15&e)<<12|d<<6|A:(7&e)<<18|d<<12|A<<6|63&t[U++])<65536)Q+=String.fromCharCode(e);else{var B=e-65536;Q+=String.fromCharCode(55296|B>>10,56320|1023&B)}}else Q+=String.fromCharCode((31&e)<<6|d)}else Q+=String.fromCharCode(e)}return Q})(Z,t,U):"",_="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0,q=(t,U)=>{for(var F=t,l=F>>1,n=l+U/2;!(l>=n)&&s[l];)++l;if((F=l<<1)-t>32&&_)return _.decode(Z.subarray(t,F));for(var Q="",e=0;!(e>=U/2);++e){var d=R[t+2*e>>1];if(0==d)break;Q+=String.fromCharCode(d)}return Q},$=(t,U,F)=>{if(F??=2147483647,F<2)return 0;for(var l=U,n=(F-=2)<2*t.length?F/2:t.length,Q=0;Q<n;++Q){var e=t.charCodeAt(Q);R[U>>1]=e,U+=2}return R[U>>1]=0,U-l},tt=t=>2*t.length,Ut=(t,U)=>{for(var F=0,l="";!(F>=U/4);){var n=c[t+4*F>>2];if(0==n)break;if(++F,n>=65536){var Q=n-65536;l+=String.fromCharCode(55296|Q>>10,56320|1023&Q)}else l+=String.fromCharCode(n)}return l},Ft=(t,U,F)=>{if(F??=2147483647,F<4)return 0;for(var l=U,n=l+F-4,Q=0;Q<t.length;++Q){var e=t.charCodeAt(Q);if(e>=55296&&e<=57343&&(e=65536+((1023&e)<<10)|1023&t.charCodeAt(++Q)),c[U>>2]=e,(U+=4)+4>n)break}return c[U>>2]=0,U-l},lt=t=>{for(var U=0,F=0;F<t.length;++F){var l=t.charCodeAt(F);l>=55296&&l<=57343&&++F,U+=4}return U},nt=t=>{var U=(t-B.buffer.byteLength+65535)/65536;try{return B.grow(U),I(),1}catch(t){}};(()=>{for(var t=new Array(256),U=0;U<256;++U)t[U]=String.fromCharCode(U);y=t})(),k=n.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},n.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},D.push(0,1,void 0,1,null,1,!0,1,!1,1),n.count_emval_handles=v;var Qt={f:(t,U,F,l,n)=>{},h:(t,U,F,l)=>{H(t,{name:U=u(U),fromWireType:function(t){return!!t},toWireType:function(t,U){return U?F:l},argPackAdvance:8,readValueFromPointer:function(t){return this.fromWireType(Z[t])},destructorFunction:null})},g:t=>H(t,K),e:(t,U,F)=>{H(t,{name:U=u(U),fromWireType:t=>t,toWireType:(t,U)=>U,argPackAdvance:8,readValueFromPointer:j(U,F),destructorFunction:null})},b:(t,U,F,l,n)=>{U=u(U);var Q=t=>t;if(0===l){var e=32-8*F;Q=t=>t<<e>>>e}var d=U.includes("unsigned");H(t,{name:U,fromWireType:Q,toWireType:d?function(t,U){return this.name,U>>>0}:function(t,U){return this.name,U},argPackAdvance:8,readValueFromPointer:O(U,F,0!==l),destructorFunction:null})},a:(t,U,F)=>{var l=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][U];function n(t){var U=o[t>>2],F=o[t+4>>2];return new l(i.buffer,F,U)}H(t,{name:F=u(F),fromWireType:n,argPackAdvance:8,readValueFromPointer:n},{ignoreDuplicateRegistrations:!0})},d:(t,U)=>{var F="std::string"===(U=u(U));H(t,{name:U,fromWireType(t){var U,l=o[t>>2],n=t+4;if(F)for(var Q=n,e=0;e<=l;++e){var d=n+e;if(e==l||0==Z[d]){var A=P(Q,d-Q);void 0===U?U=A:(U+=String.fromCharCode(0),U+=A),Q=d+1}}else{var B=new Array(l);for(e=0;e<l;++e)B[e]=String.fromCharCode(Z[n+e]);U=B.join("")}return Bt(t),U},toWireType(t,U){var l;U instanceof ArrayBuffer&&(U=new Uint8Array(U));var n="string"==typeof U;n||U instanceof Uint8Array||U instanceof Uint8ClampedArray||U instanceof Int8Array||x("Cannot pass non-string to std::string"),l=F&&n?(t=>{for(var U=0,F=0;F<t.length;++F){var l=t.charCodeAt(F);l<=127?U++:l<=2047?U+=2:l>=55296&&l<=57343?(U+=4,++F):U+=3}return U})(U):U.length;var Q=At(4+l+1),e=Q+4;if(o[Q>>2]=l,F&&n)((t,U,F,l)=>{if(!(l>0))return 0;for(var n=F+l-1,Q=0;Q<t.length;++Q){var e=t.charCodeAt(Q);if(e>=55296&&e<=57343&&(e=65536+((1023&e)<<10)|1023&t.charCodeAt(++Q)),e<=127){if(F>=n)break;U[F++]=e}else if(e<=2047){if(F+1>=n)break;U[F++]=192|e>>6,U[F++]=128|63&e}else if(e<=65535){if(F+2>=n)break;U[F++]=224|e>>12,U[F++]=128|e>>6&63,U[F++]=128|63&e}else{if(F+3>=n)break;U[F++]=240|e>>18,U[F++]=128|e>>12&63,U[F++]=128|e>>6&63,U[F++]=128|63&e}}U[F]=0})(U,Z,e,l+1);else if(n)for(var d=0;d<l;++d){var A=U.charCodeAt(d);A>255&&(Bt(e),x("String has UTF-16 code units that do not fit in 8 bits")),Z[e+d]=A}else for(d=0;d<l;++d)Z[e+d]=U[d];return null!==t&&t.push(Bt,Q),Q},argPackAdvance:8,readValueFromPointer:z,destructorFunction(t){Bt(t)}})},c:(t,U,F)=>{var l,n,Q,e;F=u(F),2===U?(l=q,n=$,e=tt,Q=t=>s[t>>1]):4===U&&(l=Ut,n=Ft,e=lt,Q=t=>o[t>>2]),H(t,{name:F,fromWireType:t=>{for(var F,n=o[t>>2],e=t+4,d=0;d<=n;++d){var A=t+4+d*U;if(d==n||0==Q(A)){var B=l(e,A-e);void 0===F?F=B:(F+=String.fromCharCode(0),F+=B),e=A+U}}return Bt(t),F},toWireType:(t,l)=>{"string"!=typeof l&&x(`Cannot pass non-string to C++ string type ${F}`);var Q=e(l),d=At(4+Q+U);return o[d>>2]=Q/U,n(l,d+4,Q+U),null!==t&&t.push(Bt,d),d},argPackAdvance:8,readValueFromPointer:z,destructorFunction(t){Bt(t)}})},i:(t,U)=>{H(t,{isVoid:!0,name:U=u(U),argPackAdvance:0,fromWireType:()=>{},toWireType:(t,U)=>{}})},j:t=>{var U,F,l=Z.length,n=2147483648;if((t>>>=0)>n)return!1;for(var Q=1;Q<=4;Q*=2){var e=l*(1+.2/Q);e=Math.min(e,t+100663296);var d=Math.min(n,(U=Math.max(t,e),F=65536,Math.ceil(U/F)*F));if(nt(d))return!0}return!1}},et=function(){var t,U,l,Q={a:Qt};function e(t,U){var F;return et=t.exports,B=et.k,I(),F=et.l,g.unshift(F),function(){if(C--,n.monitorRunDependencies?.(C),0==C&&N){var t=N;N=null,t()}}(),et}if(C++,n.monitorRunDependencies?.(C),n.instantiateWasm)try{return n.instantiateWasm(Q,e)}catch(t){A(`Module.instantiateWasm callback failed with error: ${t}`),F(t)}return m??="data:application/octet-stream;base64,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FBEDACABLQA1QQFGBEAgAUEDNgIsIAEtADRFDQEMAwsgAUEENgIsCyABIAI2AhQgASABKAIoQQFqNgIoIAEoAiRBAUcNASABKAIYQQJHDQEgAUEBOgA2DwsgACgCCCIAIAEgAiADIAQgACgCACgCGBECAAsLMQAgACABKAIIQQAQCgRAIAEgAiADEBQPCyAAKAIIIgAgASACIAMgACgCACgCHBEAAAsYACAAIAEoAghBABAKBEAgASACIAMQFAsL9wQBBn8jAEFAaiIEJAACf0EBIAAgAUEAEAoNABpBACABRQ0AGiMAQRBrIgYkACAGIAEoAgAiA0EIaygCACIFNgIMIAYgASAFajYCBCAGIANBBGsoAgA2AgggBigCCCIDQewIQQAQCiEFIAYoAgQhBwJAIAUEQCAGKAIMIQEjAEFAaiIDJAAgA0FAayQAQQAgByABGyEDDAELIAMhBSMAQUBqIgMkACABIAdOBEAgA0IANwIcIANCADcCJCADQgA3AiwgA0IANwIUIANBADYCECADQewINgIMIAMgBTYCBCADQQA2AjwgA0KBgICAgICAgAE3AjQgAyABNgIIIAUgA0EEaiAHIAdBAUEAIAUoAgAoAhQRAwAgAUEAIAMoAhwbIQgLIANBQGskACAIIgMNACMAQUBqIgMkACADQQA2AhAgA0G8CDYCDCADIAE2AgggA0HsCDYCBEEAIQEgA0EUakEnEAwgA0EANgI8IANBAToAOyAFIANBBGogB0EBQQAgBSgCACgCGBECAAJAAkACQCADKAIoDgIAAQILIAMoAhhBACADKAIkQQFGG0EAIAMoAiBBAUYbQQAgAygCLEEBRhshAQwBCyADKAIcQQFHBEAgAygCLA0BIAMoAiBBAUcNASADKAIkQQFHDQELIAMoAhQhAQsgA0FAayQAIAEhAwsgBkEQaiQAQQAgA0UNABogBEEIakE4EAwgBEEBOgA7IARBfzYCECAEIAA2AgwgBCADNgIEIARBATYCNCADIARBBGogAigCAEEBIAMoAgAoAhwRAAAgBCgCHCIAQQFGBEAgAiAEKAIUNgIACyAAQQFGCyAEQUBrJAALCgAgACABQQAQCgsEACAACwvXEQIAQYAIC8YRU3Q5dHlwZV9pbmZvAAAAAIQFAAAABAAATjEwX19jeHhhYml2MTE2X19zaGltX3R5cGVfaW5mb0UAAAAArAUAABgEAAAQBAAATjEwX19jeHhhYml2MTE3X19jbGFzc190eXBlX2luZm9FAAAArAUAAEgEAAA8BAAAAAAAALwEAAABAAAAAgAAAAMAAAAEAAAABQAAAE4xMF9fY3h4YWJpdjEyM19fZnVuZGFtZW50YWxfdHlwZV9pbmZvRQCsBQAAlAQAADwEAAB2AAAAgAQAAMgEAABiAAAAgAQAANQEAABjAAAAgAQAAOAEAABoAAAAgAQAAOwEAABhAAAAgAQAAPgEAABzAAAAgAQAAAQFAAB0AAAAgAQAABAFAABpAAAAgAQAABwFAABqAAAAgAQAACgFAABsAAAAgAQAADQFAABtAAAAgAQAAEAFAAB4AAAAgAQAAEwFAAB5AAAAgAQAAFgFAABmAAAAgAQAAGQFAABkAAAAgAQAAHAFAAAAAAAAbAQAAAEAAAAGAAAAAwAAAAQAAAAHAAAACAAAAAkAAAAKAAAAAAAAAPQFAAABAAAACwAAAAMAAAAEAAAABwAAAAwAAAANAAAADgAAAE4xMF9fY3h4YWJpdjEyMF9fc2lfY2xhc3NfdHlwZV9pbmZvRQAAAACsBQAAzAUAAGwEAAB1bnNpZ25lZCBzaG9ydAB1bnNpZ25lZCBpbnQAZmxvYXQAdWludDY0X3QAdW5zaWduZWQgY2hhcgBib29sAHVuc2lnbmVkIGxvbmcAc3RkOjp3c3RyaW5nAHN0ZDo6c3RyaW5nAHN0ZDo6dTE2c3RyaW5nAHN0ZDo6dTMyc3RyaW5nAGRvdWJsZQB2b2lkAGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHNob3J0PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1bnNpZ25lZCBzaG9ydD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8aW50PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1bnNpZ25lZCBpbnQ+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGZsb2F0PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1aW50OF90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxpbnQ4X3Q+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHVpbnQxNl90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxpbnQxNl90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1aW50NjRfdD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8aW50NjRfdD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8dWludDMyX3Q+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGludDMyX3Q+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGNoYXI+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHVuc2lnbmVkIGNoYXI+AHN0ZDo6YmFzaWNfc3RyaW5nPHVuc2lnbmVkIGNoYXI+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHNpZ25lZCBjaGFyPgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxsb25nPgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1bnNpZ25lZCBsb25nPgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxkb3VibGU+AE5TdDNfXzIxMmJhc2ljX3N0cmluZ0ljTlNfMTFjaGFyX3RyYWl0c0ljRUVOU185YWxsb2NhdG9ySWNFRUVFAAAAAIQFAAAyCQAATlN0M19fMjEyYmFzaWNfc3RyaW5nSWhOU18xMWNoYXJfdHJhaXRzSWhFRU5TXzlhbGxvY2F0b3JJaEVFRUUAAIQFAAB8CQAATlN0M19fMjEyYmFzaWNfc3RyaW5nSXdOU18xMWNoYXJfdHJhaXRzSXdFRU5TXzlhbGxvY2F0b3JJd0VFRUUAAIQFAADECQAATlN0M19fMjEyYmFzaWNfc3RyaW5nSURzTlNfMTFjaGFyX3RyYWl0c0lEc0VFTlNfOWFsbG9jYXRvcklEc0VFRUUAAACEBQAADAoAAE5TdDNfXzIxMmJhc2ljX3N0cmluZ0lEaU5TXzExY2hhcl90cmFpdHNJRGlFRU5TXzlhbGxvY2F0b3JJRGlFRUVFAAAAhAUAAFgKAABOMTBlbXNjcmlwdGVuM3ZhbEUAAIQFAACkCgAATjEwZW1zY3JpcHRlbjExbWVtb3J5X3ZpZXdJY0VFAACEBQAAwAoAAE4xMGVtc2NyaXB0ZW4xMW1lbW9yeV92aWV3SWFFRQAAhAUAAOgKAABOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0loRUUAAIQFAAAQCwAATjEwZW1zY3JpcHRlbjExbWVtb3J5X3ZpZXdJc0VFAACEBQAAOAsAAE4xMGVtc2NyaXB0ZW4xMW1lbW9yeV92aWV3SXRFRQAAhAUAAGALAABOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0lpRUUAAIQFAACICwAATjEwZW1zY3JpcHRlbjExbWVtb3J5X3ZpZXdJakVFAACEBQAAsAsAAE4xMGVtc2NyaXB0ZW4xMW1lbW9yeV92aWV3SWxFRQAAhAUAANgLAABOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0ltRUUAAIQFAAAADAAATjEwZW1zY3JpcHRlbjExbWVtb3J5X3ZpZXdJeEVFAACEBQAAKAwAAE4xMGVtc2NyaXB0ZW4xMW1lbW9yeV92aWV3SXlFRQAAhAUAAFAMAABOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0lmRUUAAIQFAAB4DAAATjEwZW1zY3JpcHRlbjExbWVtb3J5X3ZpZXdJZEVFAACEBQAAoAwAQcgZCwPQDgE=",(t=m,U=Q,l=function(t){e(t.instance)},X(t,U,l)).catch(F),{}}();n._pack=(t,U,F,l,Q,e,d,A,B,V,a)=>(n._pack=et.m)(t,U,F,l,Q,e,d,A,B,V,a);var dt,At=n._malloc=t=>(At=n._malloc=et.o)(t),Bt=n._free=t=>(Bt=n._free=et.p)(t);function Vt(){function t(){dt||(dt=!0,n.calledRun=!0,W||(S(g),U(n),n.onRuntimeInitialized?.(),function(){if(n.postRun)for("function"==typeof n.postRun&&(n.postRun=[n.postRun]);n.postRun.length;)t=n.postRun.shift(),b.unshift(t);var t;S(b)}()))}C>0||(function(){if(n.preRun)for("function"==typeof n.preRun&&(n.preRun=[n.preRun]);n.preRun.length;)t=n.preRun.shift(),J.unshift(t);var t;S(J)}(),C>0||(n.setStatus?(n.setStatus("Running..."),setTimeout((()=>{setTimeout((()=>n.setStatus("")),1),t()}),1)):t()))}if(N=function t(){dt||Vt(),dt||(N=t)},n.preInit)for("function"==typeof n.preInit&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return Vt(),Q};class p{constructor(t){this.dataChanged=!1,this.transformsChanged=!1,this.colorTransformsChanged=!1,this._updating=new Set,this._dirty=new Set;let U=0,F=0;this._splatIndices=new Map,this._offsets=new Map;const n=new Map;for(const l of t.objects)l instanceof Z&&(this._splatIndices.set(l,F),this._offsets.set(l,U),n.set(U,l),U+=l.data.vertexCount,F++);this._vertexCount=U,this._width=2048,this._height=Math.ceil(2*this.vertexCount/this.width),this._data=new Uint32Array(this.width*this.height*4),this._transformsWidth=5,this._transformsHeight=n.size,this._transforms=new Float32Array(this._transformsWidth*this._transformsHeight*4),this._transformIndicesWidth=1024,this._transformIndicesHeight=Math.ceil(this.vertexCount/this._transformIndicesWidth),this._transformIndices=new Uint32Array(this._transformIndicesWidth*this._transformIndicesHeight),this._colorTransformsWidth=4,this._colorTransformsHeight=64,this._colorTransforms=new Float32Array(this._colorTransformsWidth*this._colorTransformsHeight*4),this._colorTransforms.fill(0),this._colorTransforms[0]=1,this._colorTransforms[5]=1,this._colorTransforms[10]=1,this._colorTransforms[15]=1,this._colorTransformIndicesWidth=1024,this._colorTransformIndicesHeight=Math.ceil(this.vertexCount/this._colorTransformIndicesWidth),this._colorTransformIndices=new Uint32Array(this._colorTransformIndicesWidth*this._colorTransformIndicesHeight),this.colorTransformIndices.fill(0),this._positions=new Float32Array(3*this.vertexCount),this._rotations=new Float32Array(4*this.vertexCount),this._scales=new Float32Array(3*this.vertexCount),this._worker=new E;const Q=t=>{const U=this._splatIndices.get(t);this._transforms.set(t.transform.buffer,20*U),this._transforms[20*U+16]=t.selected?1:0,t.positionChanged=!1,t.rotationChanged=!1,t.scaleChanged=!1,t.selectedChanged=!1,this.transformsChanged=!0},e=()=>{let t=!1;for(const U of this._splatIndices.keys())if(U.colorTransformChanged){t=!0;break}if(!t)return;const U=[new l];this._colorTransformIndices.fill(0);let F=1;for(const t of this._splatIndices.keys()){const l=this._offsets.get(t);for(const l of t.colorTransforms)U.includes(l)||(U.push(l),F++);for(const U of t.colorTransformsMap.keys()){const n=t.colorTransformsMap.get(U);this._colorTransformIndices[U+l]=n+F-1}t.colorTransformChanged=!1}for(let t=0;t<U.length;t++){const F=U[t];this._colorTransforms.set(F.buffer,16*t)}this.colorTransformsChanged=!0};let d;this._worker.onmessage=t=>{if(t.data.response){const U=t.data.response,F=n.get(U.offset);Q(F),e();const l=this._splatIndices.get(F);for(let t=0;t<F.data.vertexCount;t++)this._transformIndices[U.offset+t]=l;this._data.set(U.data,8*U.offset),F.data.reattach(U.positions,U.rotations,U.scales,U.colors,U.selection),this._positions.set(U.worldPositions,3*U.offset),this._rotations.set(U.worldRotations,4*U.offset),this._scales.set(U.worldScales,3*U.offset),this._updating.delete(F),F.selectedChanged=!1,this.dataChanged=!0}},async function(){d=await G()}();const A=t=>{if(!d)return void async function(){for(;!d;)await new Promise((t=>setTimeout(t,0)))}().then((()=>{A(t)}));Q(t);const U=d._malloc(3*t.data.vertexCount*4),F=d._malloc(4*t.data.vertexCount*4),l=d._malloc(3*t.data.vertexCount*4),n=d._malloc(4*t.data.vertexCount),e=d._malloc(t.data.vertexCount),B=d._malloc(8*t.data.vertexCount*4),V=d._malloc(3*t.data.vertexCount*4),a=d._malloc(4*t.data.vertexCount*4),i=d._malloc(3*t.data.vertexCount*4);d.HEAPF32.set(t.data.positions,U/4),d.HEAPF32.set(t.data.rotations,F/4),d.HEAPF32.set(t.data.scales,l/4),d.HEAPU8.set(t.data.colors,n),d.HEAPU8.set(t.data.selection,e),d._pack(t.selected,t.data.vertexCount,U,F,l,n,e,B,V,a,i);const Z=new Uint32Array(d.HEAPU32.buffer,B,8*t.data.vertexCount),R=new Float32Array(d.HEAPF32.buffer,V,3*t.data.vertexCount),s=new Float32Array(d.HEAPF32.buffer,a,4*t.data.vertexCount),c=new Float32Array(d.HEAPF32.buffer,i,3*t.data.vertexCount),o=this._splatIndices.get(t),r=this._offsets.get(t);for(let U=0;U<t.data.vertexCount;U++)this._transformIndices[r+U]=o;this._data.set(Z,8*r),this._positions.set(R,3*r),this._rotations.set(s,4*r),this._scales.set(c,3*r),d._free(U),d._free(F),d._free(l),d._free(n),d._free(e),d._free(B),d._free(V),d._free(a),d._free(i),this.dataChanged=!0,this.colorTransformsChanged=!0},B=t=>{if((t.positionChanged||t.rotationChanged||t.scaleChanged||t.selectedChanged)&&Q(t),t.colorTransformChanged&&e(),!t.data.changed||t.data.detached)return;const U={position:new Float32Array(t.position.flat()),rotation:new Float32Array(t.rotation.flat()),scale:new Float32Array(t.scale.flat()),selected:t.selected,vertexCount:t.data.vertexCount,positions:t.data.positions,rotations:t.data.rotations,scales:t.data.scales,colors:t.data.colors,selection:t.data.selection,offset:this._offsets.get(t)};this._worker.postMessage({splat:U},[U.position.buffer,U.rotation.buffer,U.scale.buffer,U.positions.buffer,U.rotations.buffer,U.scales.buffer,U.colors.buffer,U.selection.buffer]),this._updating.add(t),t.data.detached=!0};this.getSplat=t=>{let U=null;for(const[F,l]of this._offsets){if(!(t>=l))break;U=F}return U},this.getLocalIndex=(t,U)=>U-this._offsets.get(t),this.markDirty=t=>{this._dirty.add(t)},this.rebuild=()=>{for(const t of this._dirty)B(t);this._dirty.clear()},this.dispose=()=>{this._worker.terminate()};for(const t of this._splatIndices.keys())A(t);e()}get offsets(){return this._offsets}get data(){return this._data}get width(){return this._width}get height(){return this._height}get transforms(){return this._transforms}get transformsWidth(){return this._transformsWidth}get transformsHeight(){return this._transformsHeight}get transformIndices(){return this._transformIndices}get transformIndicesWidth(){return this._transformIndicesWidth}get transformIndicesHeight(){return this._transformIndicesHeight}get colorTransforms(){return this._colorTransforms}get colorTransformsWidth(){return this._colorTransformsWidth}get colorTransformsHeight(){return this._colorTransformsHeight}get colorTransformIndices(){return this._colorTransformIndices}get colorTransformIndicesWidth(){return this._colorTransformIndicesWidth}get colorTransformIndicesHeight(){return this._colorTransformIndicesHeight}get positions(){return this._positions}get rotations(){return this._rotations}get scales(){return this._scales}get vertexCount(){return this._vertexCount}get needsRebuild(){return this._dirty.size>0}get updating(){return this._updating.size>0}}class X{constructor(t=0,U=0,F=0,l=255){this.r=t,this.g=U,this.b=F,this.a=l}flat(){return[this.r,this.g,this.b,this.a]}flatNorm(){return[this.r/255,this.g/255,this.b/255,this.a/255]}toHexString(){return"#"+this.flat().map((t=>t.toString(16).padStart(2,"0"))).join("")}toString(){return`[${this.flat().join(", ")}]`}}class S extends N{constructor(t,U){super(t,U),this._outlineThickness=10,this._outlineColor=new X(255,165,0,255),this._renderData=null,this._depthIndex=new Uint32Array,this._splatTexture=null,this._worker=null;const F=t.canvas,l=t.gl;let n,Q,e,d,A,B,V,a,i,R,s,c,o,r,h,W,I,m,J;this._resize=()=>{this._camera&&(this._camera.data.setSize(F.width,F.height),this._camera.update(),n=l.getUniformLocation(this.program,"projection"),l.uniformMatrix4fv(n,!1,this._camera.data.projectionMatrix.buffer),Q=l.getUniformLocation(this.program,"viewport"),l.uniform2fv(Q,new Float32Array([F.width,F.height])))};const g=()=>{this._worker=new C,this._worker.onmessage=t=>{if(t.data.depthIndex){const{depthIndex:U}=t.data;this._depthIndex=U,l.bindBuffer(l.ARRAY_BUFFER,J),l.bufferData(l.ARRAY_BUFFER,U,l.STATIC_DRAW)}}};this._initialize=()=>{if(this._scene&&this._camera){this._resize(),this._scene.addEventListener("objectAdded",b),this._scene.addEventListener("objectRemoved",N);for(const t of this._scene.objects)t instanceof Z&&t.addEventListener("objectChanged",E);this._renderData=new p(this._scene),e=l.getUniformLocation(this.program,"focal"),l.uniform2fv(e,new Float32Array([this._camera.data.fx,this._camera.data.fy])),d=l.getUniformLocation(this.program,"view"),l.uniformMatrix4fv(d,!1,this._camera.data.viewMatrix.buffer),R=l.getUniformLocation(this.program,"outlineThickness"),l.uniform1f(R,this.outlineThickness),s=l.getUniformLocation(this.program,"outlineColor"),l.uniform4fv(s,new Float32Array(this.outlineColor.flatNorm())),this._splatTexture=l.createTexture(),A=l.getUniformLocation(this.program,"u_texture"),l.uniform1i(A,0),r=l.createTexture(),B=l.getUniformLocation(this.program,"u_transforms"),l.uniform1i(B,1),h=l.createTexture(),V=l.getUniformLocation(this.program,"u_transformIndices"),l.uniform1i(V,2),W=l.createTexture(),a=l.getUniformLocation(this.program,"u_colorTransforms"),l.uniform1i(a,3),I=l.createTexture(),i=l.getUniformLocation(this.program,"u_colorTransformIndices"),l.uniform1i(i,4),m=l.createBuffer(),l.bindBuffer(l.ARRAY_BUFFER,m),l.bufferData(l.ARRAY_BUFFER,new Float32Array([-2,-2,2,-2,2,2,-2,2]),l.STATIC_DRAW),c=l.getAttribLocation(this.program,"position"),l.enableVertexAttribArray(c),l.vertexAttribPointer(c,2,l.FLOAT,!1,0,0),J=l.createBuffer(),o=l.getAttribLocation(this.program,"index"),l.enableVertexAttribArray(o),l.bindBuffer(l.ARRAY_BUFFER,J),g()}else console.error("Cannot render without scene and camera")};const b=t=>{const U=t;U.object instanceof Z&&U.object.addEventListener("objectChanged",E),G()},N=t=>{const U=t;U.object instanceof Z&&U.object.removeEventListener("objectChanged",E),G()},E=t=>{const U=t;U.object instanceof Z&&this._renderData&&this._renderData.markDirty(U.object)},G=()=>{var t,U;null===(t=this._renderData)||void 0===t||t.dispose(),this._renderData=new p(this._scene),null===(U=this._worker)||void 0===U||U.terminate(),g()};this._render=()=>{var t,U;if(this._scene&&this._camera&&this.renderData){if(this.renderData.needsRebuild&&this.renderData.rebuild(),this.renderData.dataChanged||this.renderData.transformsChanged||this.renderData.colorTransformsChanged){this.renderData.dataChanged&&(l.activeTexture(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,this.splatTexture),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.NEAREST),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.NEAREST),l.texImage2D(l.TEXTURE_2D,0,l.RGBA32UI,this.renderData.width,this.renderData.height,0,l.RGBA_INTEGER,l.UNSIGNED_INT,this.renderData.data)),this.renderData.transformsChanged&&(l.activeTexture(l.TEXTURE1),l.bindTexture(l.TEXTURE_2D,r),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.NEAREST),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.NEAREST),l.texImage2D(l.TEXTURE_2D,0,l.RGBA32F,this.renderData.transformsWidth,this.renderData.transformsHeight,0,l.RGBA,l.FLOAT,this.renderData.transforms),l.activeTexture(l.TEXTURE2),l.bindTexture(l.TEXTURE_2D,h),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.NEAREST),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.NEAREST),l.texImage2D(l.TEXTURE_2D,0,l.R32UI,this.renderData.transformIndicesWidth,this.renderData.transformIndicesHeight,0,l.RED_INTEGER,l.UNSIGNED_INT,this.renderData.transformIndices)),this.renderData.colorTransformsChanged&&(l.activeTexture(l.TEXTURE3),l.bindTexture(l.TEXTURE_2D,W),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.NEAREST),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.NEAREST),l.texImage2D(l.TEXTURE_2D,0,l.RGBA32F,this.renderData.colorTransformsWidth,this.renderData.colorTransformsHeight,0,l.RGBA,l.FLOAT,this.renderData.colorTransforms),l.activeTexture(l.TEXTURE4),l.bindTexture(l.TEXTURE_2D,I),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.NEAREST),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.NEAREST),l.texImage2D(l.TEXTURE_2D,0,l.R32UI,this.renderData.colorTransformIndicesWidth,this.renderData.colorTransformIndicesHeight,0,l.RED_INTEGER,l.UNSIGNED_INT,this.renderData.colorTransformIndices));const U=new Float32Array(this.renderData.positions.slice().buffer),F=new Float32Array(this.renderData.transforms.slice().buffer),n=new Uint32Array(this.renderData.transformIndices.slice().buffer);null===(t=this._worker)||void 0===t||t.postMessage({sortData:{positions:U,transforms:F,transformIndices:n,vertexCount:this.renderData.vertexCount}},[U.buffer,F.buffer,n.buffer]),this.renderData.dataChanged=!1,this.renderData.transformsChanged=!1,this.renderData.colorTransformsChanged=!1}this._camera.update(),null===(U=this._worker)||void 0===U||U.postMessage({viewProj:this._camera.data.viewProj.buffer}),l.viewport(0,0,F.width,F.height),l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT),l.disable(l.DEPTH_TEST),l.enable(l.BLEND),l.blendFuncSeparate(l.ONE_MINUS_DST_ALPHA,l.ONE,l.ONE_MINUS_DST_ALPHA,l.ONE),l.blendEquationSeparate(l.FUNC_ADD,l.FUNC_ADD),l.uniformMatrix4fv(n,!1,this._camera.data.projectionMatrix.buffer),l.uniformMatrix4fv(d,!1,this._camera.data.viewMatrix.buffer),l.bindBuffer(l.ARRAY_BUFFER,m),l.vertexAttribPointer(c,2,l.FLOAT,!1,0,0),l.bindBuffer(l.ARRAY_BUFFER,J),l.bufferData(l.ARRAY_BUFFER,this.depthIndex,l.STATIC_DRAW),l.vertexAttribIPointer(o,1,l.INT,0,0),l.vertexAttribDivisor(o,1),l.drawArraysInstanced(l.TRIANGLE_FAN,0,4,this.depthIndex.length)}else console.error("Cannot render without scene and camera")},this._dispose=()=>{var t;if(this._scene&&this._camera&&this.renderData){this._scene.removeEventListener("objectAdded",b),this._scene.removeEventListener("objectRemoved",N);for(const t of this._scene.objects)t instanceof Z&&t.removeEventListener("objectChanged",E);null===(t=this._worker)||void 0===t||t.terminate(),this.renderData.dispose(),l.deleteTexture(this.splatTexture),l.deleteTexture(r),l.deleteTexture(h),l.deleteBuffer(J),l.deleteBuffer(m)}else console.error("Cannot dispose without scene and camera")},this._setOutlineThickness=t=>{this._outlineThickness=t,this._initialized&&l.uniform1f(R,t)},this._setOutlineColor=t=>{this._outlineColor=t,this._initialized&&l.uniform4fv(s,new Float32Array(t.flatNorm()))}}get renderData(){return this._renderData}get depthIndex(){return this._depthIndex}get splatTexture(){return this._splatTexture}get outlineThickness(){return this._outlineThickness}set outlineThickness(t){this._setOutlineThickness(t)}get outlineColor(){return this._outlineColor}set outlineColor(t){this._setOutlineColor(t)}get worker(){return this._worker}_getVertexSource(){return"#version 300 es\nprecision highp float;\nprecision highp int;\n\nuniform highp usampler2D u_texture;\nuniform highp sampler2D u_transforms;\nuniform highp usampler2D u_transformIndices;\nuniform highp sampler2D u_colorTransforms;\nuniform highp usampler2D u_colorTransformIndices;\nuniform mat4 projection, view;\nuniform vec2 focal;\nuniform vec2 viewport;\n\nuniform bool useDepthFade;\nuniform float depthFade;\n\nin vec2 position;\nin int index;\n\nout vec4 vColor;\nout vec2 vPosition;\nout float vSize;\nout float vSelected;\n\nvoid main () {\n    uvec4 cen = texelFetch(u_texture, ivec2((uint(index) & 0x3ffu) << 1, uint(index) >> 10), 0);\n    float selected = float((cen.w >> 24) & 0xffu);\n\n    uint transformIndex = texelFetch(u_transformIndices, ivec2(uint(index) & 0x3ffu, uint(index) >> 10), 0).x;\n    mat4 transform = mat4(\n        texelFetch(u_transforms, ivec2(0, transformIndex), 0),\n        texelFetch(u_transforms, ivec2(1, transformIndex), 0),\n        texelFetch(u_transforms, ivec2(2, transformIndex), 0),\n        texelFetch(u_transforms, ivec2(3, transformIndex), 0)\n    );\n\n    if (selected < 0.5) {\n        selected = texelFetch(u_transforms, ivec2(4, transformIndex), 0).x;\n    }\n\n    mat4 viewTransform = view * transform;\n\n    vec4 cam = viewTransform * vec4(uintBitsToFloat(cen.xyz), 1);\n    vec4 pos2d = projection * cam;\n\n    float clip = 1.2 * pos2d.w;\n    if (pos2d.z < -pos2d.w || pos2d.z > pos2d.w || pos2d.x < -clip || pos2d.x > clip || pos2d.y < -clip || pos2d.y > clip) {\n        gl_Position = vec4(0.0, 0.0, 2.0, 1.0);\n        return;\n    }\n\n    uvec4 cov = texelFetch(u_texture, ivec2(((uint(index) & 0x3ffu) << 1) | 1u, uint(index) >> 10), 0);\n    vec2 u1 = unpackHalf2x16(cov.x), u2 = unpackHalf2x16(cov.y), u3 = unpackHalf2x16(cov.z);\n    mat3 Vrk = mat3(u1.x, u1.y, u2.x, u1.y, u2.y, u3.x, u2.x, u3.x, u3.y);\n\n    mat3 J = mat3(\n        focal.x / cam.z, 0., -(focal.x * cam.x) / (cam.z * cam.z), \n        0., -focal.y / cam.z, (focal.y * cam.y) / (cam.z * cam.z), \n        0., 0., 0.\n    );\n\n    mat3 T = transpose(mat3(viewTransform)) * J;\n    mat3 cov2d = transpose(T) * Vrk * T;\n\n    //ref: https://github.com/graphdeco-inria/diff-gaussian-rasterization/blob/main/cuda_rasterizer/forward.cu#L110-L111\n    cov2d[0][0] += 0.3;\n    cov2d[1][1] += 0.3;\n\n    float mid = (cov2d[0][0] + cov2d[1][1]) / 2.0;\n    float radius = length(vec2((cov2d[0][0] - cov2d[1][1]) / 2.0, cov2d[0][1]));\n    float lambda1 = mid + radius, lambda2 = mid - radius;\n\n    if (lambda2 < 0.0) return;\n    vec2 diagonalVector = normalize(vec2(cov2d[0][1], lambda1 - cov2d[0][0]));\n    vec2 majorAxis = min(sqrt(2.0 * lambda1), 1024.0) * diagonalVector;\n    vec2 minorAxis = min(sqrt(2.0 * lambda2), 1024.0) * vec2(diagonalVector.y, -diagonalVector.x);\n\n    uint colorTransformIndex = texelFetch(u_colorTransformIndices, ivec2(uint(index) & 0x3ffu, uint(index) >> 10), 0).x;\n    mat4 colorTransform = mat4(\n        texelFetch(u_colorTransforms, ivec2(0, colorTransformIndex), 0),\n        texelFetch(u_colorTransforms, ivec2(1, colorTransformIndex), 0),\n        texelFetch(u_colorTransforms, ivec2(2, colorTransformIndex), 0),\n        texelFetch(u_colorTransforms, ivec2(3, colorTransformIndex), 0)\n    );\n\n    vec4 color = vec4((cov.w) & 0xffu, (cov.w >> 8) & 0xffu, (cov.w >> 16) & 0xffu, (cov.w >> 24) & 0xffu) / 255.0;\n    vColor = colorTransform * color;\n\n    vPosition = position;\n    vSize = length(majorAxis);\n    vSelected = selected;\n\n    float scalingFactor = 1.0;\n\n    if (useDepthFade) {\n        float depthNorm = (pos2d.z / pos2d.w + 1.0) / 2.0;\n        float near = 0.1; float far = 100.0;\n        float normalizedDepth = (2.0 * near) / (far + near - depthNorm * (far - near));\n        float start = max(normalizedDepth - 0.1, 0.0);\n        float end = min(normalizedDepth + 0.1, 1.0);\n        scalingFactor = clamp((depthFade - start) / (end - start), 0.0, 1.0);\n    }\n\n    vec2 vCenter = vec2(pos2d) / pos2d.w;\n    gl_Position = vec4(\n        vCenter \n        + position.x * majorAxis * scalingFactor / viewport\n        + position.y * minorAxis * scalingFactor / viewport, 0.0, 1.0);\n}\n"}_getFragmentSource(){return"#version 300 es\nprecision highp float;\n\nuniform float outlineThickness;\nuniform vec4 outlineColor;\n\nin vec4 vColor;\nin vec2 vPosition;\nin float vSize;\nin float vSelected;\n\nout vec4 fragColor;\n\nvoid main () {\n    float A = -dot(vPosition, vPosition);\n\n    if (A < -4.0) discard;\n\n    if (vSelected < 0.5) {\n        float B = exp(A) * vColor.a;\n        fragColor = vec4(B * vColor.rgb, B);\n        return;\n    }\n\n    float outlineThreshold = -4.0 + (outlineThickness / vSize);\n\n    if (A < outlineThreshold) {\n        fragColor = outlineColor;\n    } \n    else {\n        float B = exp(A) * vColor.a;\n        fragColor = vec4(B * vColor.rgb, B);\n    }\n}\n"}}class y{constructor(t=1){let U,F,l,n,Q=0,e=!1;this.initialize=t=>{if(!(t instanceof S))throw new Error("FadeInPass requires a RenderProgram");Q=t.started?1:0,e=!0,U=t,F=t.renderer.gl,l=F.getUniformLocation(U.program,"useDepthFade"),F.uniform1i(l,1),n=F.getUniformLocation(U.program,"depthFade"),F.uniform1f(n,Q)},this.render=()=>{var d;e&&!(null===(d=U.renderData)||void 0===d?void 0:d.updating)&&(F.useProgram(U.program),Q=Math.min(Q+.01*t,1),Q>=1&&(e=!1,F.uniform1i(l,0)),F.uniform1f(n,Q))}}dispose(){}}class k{constructor(t=null,U=null){this._backgroundColor=new X;const F=t||document.createElement("canvas");t||(F.style.display="block",F.style.boxSizing="border-box",F.style.width="100%",F.style.height="100%",F.style.margin="0",F.style.padding="0",document.body.appendChild(F)),F.style.background=this._backgroundColor.toHexString(),this._canvas=F,this._gl=F.getContext("webgl2",{antialias:!1});const l=U||[];U||l.push(new y),this._renderProgram=new S(this,l);const n=[this._renderProgram];this.resize=()=>{const t=F.clientWidth,U=F.clientHeight;F.width===t&&F.height===U||this.setSize(t,U)},this.setSize=(t,U)=>{F.width=t,F.height=U,this._gl.viewport(0,0,F.width,F.height);for(const t of n)t.resize()},this.render=(t,U)=>{for(const F of n)F.render(t,U)},this.dispose=()=>{for(const t of n)t.dispose()},this.addProgram=t=>{n.push(t)},this.removeProgram=t=>{const U=n.indexOf(t);if(U<0)throw new Error("Program not found");n.splice(U,1)},this.resize()}get canvas(){return this._canvas}get gl(){return this._gl}get renderProgram(){return this._renderProgram}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){this._backgroundColor=t,this._canvas.style.background=t.toHexString()}}class u{constructor(F,l,n=.5,Q=.5,e=5,d=!0,B=new t){this.minAngle=-90,this.maxAngle=90,this.minZoom=.1,this.maxZoom=30,this.orbitSpeed=1,this.panSpeed=1,this.zoomSpeed=1,this.dampening=.12,this.setCameraTarget=()=>{};let V=B.clone(),a=V.clone(),i=n,Z=Q,R=e,s=!1,c=!1,o=0,r=0,h=0;const W={};let I=!1;F.addEventListener("objectChanged",(()=>{if(I)return;const U=F.rotation.toEuler();i=-U.y,Z=-U.x;const l=F.position.x-R*Math.sin(i)*Math.cos(Z),n=F.position.y+R*Math.sin(Z),Q=F.position.z+R*Math.cos(i)*Math.cos(Z);a=new t(l,n,Q)})),this.setCameraTarget=U=>{const l=U.x-F.position.x,n=U.y-F.position.y,Q=U.z-F.position.z;R=Math.sqrt(l*l+n*n+Q*Q),Z=Math.atan2(n,Math.sqrt(l*l+Q*Q)),i=-Math.atan2(l,Q),a=new t(U.x,U.y,U.z)};const m=()=>.1+.9*(R-this.minZoom)/(this.maxZoom-this.minZoom),J=t=>{W[t.code]=!0,"ArrowUp"===t.code&&(W.KeyW=!0),"ArrowDown"===t.code&&(W.KeyS=!0),"ArrowLeft"===t.code&&(W.KeyA=!0),"ArrowRight"===t.code&&(W.KeyD=!0)},g=t=>{W[t.code]=!1,"ArrowUp"===t.code&&(W.KeyW=!1),"ArrowDown"===t.code&&(W.KeyS=!1),"ArrowLeft"===t.code&&(W.KeyA=!1),"ArrowRight"===t.code&&(W.KeyD=!1)},b=t=>{y(t),s=!0,c=2===t.button,r=t.clientX,h=t.clientY,window.addEventListener("mouseup",C)},C=t=>{y(t),s=!1,c=!1,window.removeEventListener("mouseup",C)},N=U=>{if(y(U),!s||!F)return;const l=U.clientX-r,n=U.clientY-h;if(c){const U=m(),Q=-l*this.panSpeed*.01*U,e=-n*this.panSpeed*.01*U,d=A.RotationFromQuaternion(F.rotation).buffer,B=new t(d[0],d[3],d[6]),V=new t(d[1],d[4],d[7]);a=a.add(B.multiply(Q)),a=a.add(V.multiply(e))}else i-=l*this.orbitSpeed*.003,Z+=n*this.orbitSpeed*.003,Z=Math.min(Math.max(Z,this.minAngle*Math.PI/180),this.maxAngle*Math.PI/180);r=U.clientX,h=U.clientY},E=t=>{y(t);const U=m();R+=t.deltaY*this.zoomSpeed*.025*U,R=Math.min(Math.max(R,this.minZoom),this.maxZoom)},G=t=>{if(y(t),1===t.touches.length)s=!0,c=!1,r=t.touches[0].clientX,h=t.touches[0].clientY,o=0;else if(2===t.touches.length){s=!0,c=!0,r=(t.touches[0].clientX+t.touches[1].clientX)/2,h=(t.touches[0].clientY+t.touches[1].clientY)/2;const U=t.touches[0].clientX-t.touches[1].clientX,F=t.touches[0].clientY-t.touches[1].clientY;o=Math.sqrt(U*U+F*F)}},p=t=>{y(t),s=!1,c=!1},X=U=>{if(y(U),s&&F)if(c){const l=m(),n=U.touches[0].clientX-U.touches[1].clientX,Q=U.touches[0].clientY-U.touches[1].clientY,e=Math.sqrt(n*n+Q*Q);R+=(o-e)*this.zoomSpeed*.1*l,R=Math.min(Math.max(R,this.minZoom),this.maxZoom),o=e;const d=(U.touches[0].clientX+U.touches[1].clientX)/2,B=(U.touches[0].clientY+U.touches[1].clientY)/2,V=d-r,i=B-h,Z=A.RotationFromQuaternion(F.rotation).buffer,s=new t(Z[0],Z[3],Z[6]),c=new t(Z[1],Z[4],Z[7]);a=a.add(s.multiply(-V*this.panSpeed*.025*l)),a=a.add(c.multiply(-i*this.panSpeed*.025*l)),r=d,h=B}else{const t=U.touches[0].clientX-r,F=U.touches[0].clientY-h;i-=t*this.orbitSpeed*.003,Z+=F*this.orbitSpeed*.003,Z=Math.min(Math.max(Z,this.minAngle*Math.PI/180),this.maxAngle*Math.PI/180),r=U.touches[0].clientX,h=U.touches[0].clientY}},S=(t,U,F)=>(1-F)*t+F*U;this.update=()=>{I=!0,n=S(n,i,this.dampening),Q=S(Q,Z,this.dampening),e=S(e,R,this.dampening),V=V.lerp(a,this.dampening);const l=V.x+e*Math.sin(n)*Math.cos(Q),d=V.y-e*Math.sin(Q),B=V.z-e*Math.cos(n)*Math.cos(Q);F.position=new t(l,d,B);const s=V.subtract(F.position).normalize(),c=Math.asin(-s.y),o=Math.atan2(s.x,s.z);F.rotation=U.FromEuler(new t(c,o,0));const r=.025,h=.01,m=A.RotationFromQuaternion(F.rotation).buffer,J=new t(-m[2],-m[5],-m[8]),g=new t(m[0],m[3],m[6]);W.KeyS&&(a=a.add(J.multiply(r))),W.KeyW&&(a=a.subtract(J.multiply(r))),W.KeyA&&(a=a.subtract(g.multiply(r))),W.KeyD&&(a=a.add(g.multiply(r))),W.KeyE&&(i+=h),W.KeyQ&&(i-=h),W.KeyR&&(Z+=h),W.KeyF&&(Z-=h),I=!1};const y=t=>{t.preventDefault(),t.stopPropagation()};this.dispose=()=>{l.removeEventListener("dragenter",y),l.removeEventListener("dragover",y),l.removeEventListener("dragleave",y),l.removeEventListener("contextmenu",y),l.removeEventListener("mousedown",b),l.removeEventListener("mousemove",N),l.removeEventListener("wheel",E),l.removeEventListener("touchstart",G),l.removeEventListener("touchend",p),l.removeEventListener("touchmove",X),d&&(window.removeEventListener("keydown",J),window.removeEventListener("keyup",g))},d&&(window.addEventListener("keydown",J),window.addEventListener("keyup",g)),l.addEventListener("dragenter",y),l.addEventListener("dragover",y),l.addEventListener("dragleave",y),l.addEventListener("contextmenu",y),l.addEventListener("mousedown",b),l.addEventListener("mousemove",N),l.addEventListener("wheel",E),l.addEventListener("touchstart",G),l.addEventListener("touchend",p),l.addEventListener("touchmove",X),this.update()}}class Y{constructor(F,l){this.moveSpeed=1.5,this.lookSpeed=.7,this.dampening=.5;const n={};let Q=F.rotation.toEuler().x,e=F.rotation.toEuler().y,d=F.position,B=!1;const V=()=>{l.requestPointerLock()},a=()=>{B=document.pointerLockElement===l,B?l.addEventListener("mousemove",i):l.removeEventListener("mousemove",i)},i=t=>{const U=t.movementX,F=t.movementY;e+=U*this.lookSpeed*.001,Q-=F*this.lookSpeed*.001,Q=Math.max(-Math.PI/2,Math.min(Math.PI/2,Q))},Z=t=>{n[t.code]=!0,"ArrowUp"===t.code&&(n.KeyW=!0),"ArrowDown"===t.code&&(n.KeyS=!0),"ArrowLeft"===t.code&&(n.KeyA=!0),"ArrowRight"===t.code&&(n.KeyD=!0)},R=t=>{n[t.code]=!1,"ArrowUp"===t.code&&(n.KeyW=!1),"ArrowDown"===t.code&&(n.KeyS=!1),"ArrowLeft"===t.code&&(n.KeyA=!1),"ArrowRight"===t.code&&(n.KeyD=!1),"Escape"===t.code&&document.exitPointerLock()};this.update=()=>{const l=A.RotationFromQuaternion(F.rotation).buffer,B=new t(-l[2],-l[5],-l[8]),V=new t(l[0],l[3],l[6]);let a=new t(0,0,0);n.KeyS&&(a=a.add(B)),n.KeyW&&(a=a.subtract(B)),n.KeyA&&(a=a.subtract(V)),n.KeyD&&(a=a.add(V)),a=new t(a.x,0,a.z),a.magnitude()>0&&(a=a.normalize()),d=d.add(a.multiply(.01*this.moveSpeed)),F.position=F.position.add(d.subtract(F.position).multiply(this.dampening)),F.rotation=U.FromEuler(new t(Q,e,0))};const s=t=>{t.preventDefault(),t.stopPropagation()};this.dispose=()=>{l.removeEventListener("dragenter",s),l.removeEventListener("dragover",s),l.removeEventListener("dragleave",s),l.removeEventListener("contextmenu",s),l.removeEventListener("mousedown",V),document.removeEventListener("pointerlockchange",a),window.removeEventListener("keydown",Z),window.removeEventListener("keyup",R)},window.addEventListener("keydown",Z),window.addEventListener("keyup",R),l.addEventListener("dragenter",s),l.addEventListener("dragover",s),l.addEventListener("dragleave",s),l.addEventListener("contextmenu",s),l.addEventListener("mousedown",V),document.addEventListener("pointerlockchange",a),this.update()}}class T{constructor(t,U){this.normal=t,this.point=U}intersect(t,U){const F=this.normal.dot(U);if(Math.abs(F)<1e-4)return null;const l=this.normal.dot(this.point.subtract(t))/F;return l<0?null:t.add(U.multiply(l))}}class x{initialize(t){}render(){}dispose(){}}class H extends N{constructor(t,U=[]){super(t,U),this._renderData=null,this._depthIndex=new Uint32Array,this._splatTexture=null;const F=t.canvas,n=t.gl;let Q,e,d,A,B,V,a,i,Z,s,c;this._resize=()=>{this._camera&&(this._camera.data.setSize(F.width,F.height),this._camera.update(),e=n.getUniformLocation(this.program,"projection"),n.uniformMatrix4fv(e,!1,this._camera.data.projectionMatrix.buffer),d=n.getUniformLocation(this.program,"viewport"),n.uniform2fv(d,new Float32Array([F.width,F.height])))};const o=()=>{null!==t.renderProgram.worker?(Q=t.renderProgram.worker,Q.onmessage=t=>{if(t.data.depthIndex){const{depthIndex:U}=t.data;this._depthIndex=U,n.bindBuffer(n.ARRAY_BUFFER,c),n.bufferData(n.ARRAY_BUFFER,U,n.STATIC_DRAW)}}):console.error("Render program is not initialized. Cannot render without worker")};this._initialize=()=>{if(!this._scene||!this._camera)return void console.error("Cannot render without scene and camera");this._resize(),this._scene.addEventListener("objectAdded",r),this._scene.addEventListener("objectRemoved",h);for(const t of this._scene.objects)t instanceof R&&(null===this._renderData?(this._renderData=t.data,t.addEventListener("objectChanged",W)):console.warn("Multiple Splatv objects are not currently supported"));if(null===this._renderData)return void console.error("Cannot render without Splatv object");A=n.getUniformLocation(this.program,"focal"),n.uniform2fv(A,new Float32Array([this._camera.data.fx,this._camera.data.fy])),B=n.getUniformLocation(this.program,"view"),n.uniformMatrix4fv(B,!1,this._camera.data.viewMatrix.buffer),this._splatTexture=n.createTexture(),V=n.getUniformLocation(this.program,"u_texture"),n.uniform1i(V,0),a=n.getUniformLocation(this.program,"time"),n.uniform1f(a,Math.sin(Date.now()/1e3)/2+.5),s=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,s),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-2,-2,2,-2,2,2,-2,2]),n.STATIC_DRAW),i=n.getAttribLocation(this.program,"position"),n.enableVertexAttribArray(i),n.vertexAttribPointer(i,2,n.FLOAT,!1,0,0),c=n.createBuffer(),Z=n.getAttribLocation(this.program,"index"),n.enableVertexAttribArray(Z),n.bindBuffer(n.ARRAY_BUFFER,c),o(),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,this._splatTexture),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texImage2D(n.TEXTURE_2D,0,n.RGBA32UI,this._renderData.width,this._renderData.height,0,n.RGBA_INTEGER,n.UNSIGNED_INT,this._renderData.data);const t=this._renderData.positions,U=new Float32Array((new l).buffer),F=new Uint32Array(this._renderData.vertexCount);F.fill(0),Q.postMessage({sortData:{positions:t,transforms:U,transformIndices:F,vertexCount:this._renderData.vertexCount}},[t.buffer,U.buffer,F.buffer])};const r=t=>{const U=t;U.object instanceof R&&(null===this._renderData?(this._renderData=U.object.data,U.object.addEventListener("objectChanged",W)):console.warn("Splatv not supported by default RenderProgram. Use VideoRenderProgram instead.")),this.dispose()},h=t=>{const U=t;U.object instanceof R&&this._renderData===U.object.data&&(this._renderData=null,U.object.removeEventListener("objectChanged",W)),this.dispose()},W=t=>{const U=t;U.object instanceof R&&this._renderData===U.object.data&&this.dispose()};this._render=()=>{this._scene&&this._camera?this._renderData?(this._camera.update(),Q.postMessage({viewProj:this._camera.data.viewProj.buffer}),n.viewport(0,0,F.width,F.height),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.disable(n.DEPTH_TEST),n.enable(n.BLEND),n.blendFuncSeparate(n.ONE_MINUS_DST_ALPHA,n.ONE,n.ONE_MINUS_DST_ALPHA,n.ONE),n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD),n.uniformMatrix4fv(e,!1,this._camera.data.projectionMatrix.buffer),n.uniformMatrix4fv(B,!1,this._camera.data.viewMatrix.buffer),n.uniform1f(a,Math.sin(Date.now()/1e3)/2+.5),n.bindBuffer(n.ARRAY_BUFFER,s),n.vertexAttribPointer(i,2,n.FLOAT,!1,0,0),n.bindBuffer(n.ARRAY_BUFFER,c),n.bufferData(n.ARRAY_BUFFER,this._depthIndex,n.STATIC_DRAW),n.vertexAttribIPointer(Z,1,n.INT,0,0),n.vertexAttribDivisor(Z,1),n.drawArraysInstanced(n.TRIANGLE_FAN,0,4,this._renderData.vertexCount)):console.warn("Cannot render without Splatv object"):console.error("Cannot render without scene and camera")},this._dispose=()=>{if(this._scene&&this._camera){this._scene.removeEventListener("objectAdded",r),this._scene.removeEventListener("objectRemoved",h);for(const t of this._scene.objects)t instanceof R&&this._renderData===t.data&&(this._renderData=null,t.removeEventListener("objectChanged",W));null==Q||Q.terminate(),n.deleteTexture(this._splatTexture),n.deleteBuffer(c),n.deleteBuffer(s)}else console.error("Cannot dispose without scene and camera")}}get renderData(){return this._renderData}_getVertexSource(){return"#version 300 es\nprecision highp float;\nprecision highp int;\n  \nuniform highp usampler2D u_texture;\nuniform mat4 projection, view;\nuniform vec2 focal;\nuniform vec2 viewport;\nuniform float time;\n  \nin vec2 position;\nin int index;\n  \nout vec4 vColor;\nout vec2 vPosition;\n  \nvoid main () {\n    gl_Position = vec4(0.0, 0.0, 2.0, 1.0);\n\n    uvec4 motion1 = texelFetch(u_texture, ivec2(((uint(index) & 0x3ffu) << 2) | 3u, uint(index) >> 10), 0);\n    vec2 trbf = unpackHalf2x16(motion1.w);\n    float dt = time - trbf.x;\n\n    float topacity = exp(-1.0 * pow(dt / trbf.y, 2.0));\n    if(topacity < 0.02) return;\n\n    uvec4 motion0 = texelFetch(u_texture, ivec2(((uint(index) & 0x3ffu) << 2) | 2u, uint(index) >> 10), 0);\n    uvec4 static0 = texelFetch(u_texture, ivec2(((uint(index) & 0x3ffu) << 2), uint(index) >> 10), 0);\n\n    vec2 m0 = unpackHalf2x16(motion0.x), m1 = unpackHalf2x16(motion0.y), m2 = unpackHalf2x16(motion0.z), \n         m3 = unpackHalf2x16(motion0.w), m4 = unpackHalf2x16(motion1.x); \n      \n    vec4 trot = vec4(unpackHalf2x16(motion1.y).xy, unpackHalf2x16(motion1.z).xy) * dt;\n    vec3 tpos = (vec3(m0.xy, m1.x) * dt + vec3(m1.y, m2.xy) * dt*dt + vec3(m3.xy, m4.x) * dt*dt*dt);\n      \n    vec4 cam = view * vec4(uintBitsToFloat(static0.xyz) + tpos, 1);\n    vec4 pos = projection * cam;\n  \n    float clip = 1.2 * pos.w;\n    if (pos.z < -clip || pos.x < -clip || pos.x > clip || pos.y < -clip || pos.y > clip) return;\n    uvec4 static1 = texelFetch(u_texture, ivec2(((uint(index) & 0x3ffu) << 2) | 1u, uint(index) >> 10), 0);\n\n    vec4 rot = vec4(unpackHalf2x16(static0.w).xy, unpackHalf2x16(static1.x).xy) + trot;\n    vec3 scale = vec3(unpackHalf2x16(static1.y).xy, unpackHalf2x16(static1.z).x);\n    rot /= sqrt(dot(rot, rot));\n  \n    mat3 S = mat3(scale.x, 0.0, 0.0, 0.0, scale.y, 0.0, 0.0, 0.0, scale.z);\n    mat3 R = mat3(\n        1.0 - 2.0 * (rot.z * rot.z + rot.w * rot.w), 2.0 * (rot.y * rot.z - rot.x * rot.w), 2.0 * (rot.y * rot.w + rot.x * rot.z),\n        2.0 * (rot.y * rot.z + rot.x * rot.w), 1.0 - 2.0 * (rot.y * rot.y + rot.w * rot.w), 2.0 * (rot.z * rot.w - rot.x * rot.y),\n        2.0 * (rot.y * rot.w - rot.x * rot.z), 2.0 * (rot.z * rot.w + rot.x * rot.y), 1.0 - 2.0 * (rot.y * rot.y + rot.z * rot.z));\n    mat3 M = S * R;\n    mat3 Vrk = 4.0 * transpose(M) * M;\n    mat3 J = mat3(\n        focal.x / cam.z, 0., -(focal.x * cam.x) / (cam.z * cam.z), \n        0., -focal.y / cam.z, (focal.y * cam.y) / (cam.z * cam.z), \n        0., 0., 0.\n    );\n  \n    mat3 T = transpose(mat3(view)) * J;\n    mat3 cov2d = transpose(T) * Vrk * T;\n  \n    float mid = (cov2d[0][0] + cov2d[1][1]) / 2.0;\n    float radius = length(vec2((cov2d[0][0] - cov2d[1][1]) / 2.0, cov2d[0][1]));\n    float lambda1 = mid + radius, lambda2 = mid - radius;\n  \n    if(lambda2 < 0.0) return;\n    vec2 diagonalVector = normalize(vec2(cov2d[0][1], lambda1 - cov2d[0][0]));\n    vec2 majorAxis = min(sqrt(2.0 * lambda1), 1024.0) * diagonalVector;\n    vec2 minorAxis = min(sqrt(2.0 * lambda2), 1024.0) * vec2(diagonalVector.y, -diagonalVector.x);\n      \n    uint rgba = static1.w;\n    vColor = \n        clamp(pos.z/pos.w+1.0, 0.0, 1.0) * \n        vec4(1.0, 1.0, 1.0, topacity) *\n        vec4(\n            (rgba) & 0xffu, \n            (rgba >> 8) & 0xffu, \n            (rgba >> 16) & 0xffu, \n            (rgba >> 24) & 0xffu) / 255.0;\n\n    vec2 vCenter = vec2(pos) / pos.w;\n    gl_Position = vec4(\n        vCenter \n        + position.x * majorAxis / viewport \n        + position.y * minorAxis / viewport, 0.0, 1.0);\n\n    vPosition = position;\n}\n"}_getFragmentSource(){return"#version 300 es\nprecision highp float;\n  \nin vec4 vColor;\nin vec2 vPosition;\n\nout vec4 fragColor;\n\nvoid main () {\n    float A = -dot(vPosition, vPosition);\n    if (A < -4.0) discard;\n    float B = exp(A) * vColor.a;\n    fragColor = vec4(B * vColor.rgb, B);\n}\n"}}class f{constructor(t,U,F){this.bounds=t,this.boxes=U,this.left=null,this.right=null,this.pointIndices=[],F.length>1?this.split(t,U,F):F.length>0&&(this.pointIndices=F)}split(t,U,F){const l=t.size().maxComponent();F.sort(((t,F)=>U[t].center().getComponent(l)-U[F].center().getComponent(l)));const n=Math.floor(F.length/2),Q=F.slice(0,n),e=F.slice(n);this.left=new f(t,U,Q),this.right=new f(t,U,e)}queryRange(t){return this.bounds.intersects(t)?null!==this.left&&null!==this.right?this.left.queryRange(t).concat(this.right.queryRange(t)):this.pointIndices.filter((U=>t.intersects(this.boxes[U]))):[]}}class D{constructor(t,U){const F=U.map(((t,U)=>U));this.root=new f(t,U,F)}queryRange(t){return this.root.queryRange(t)}}class v{constructor(U,F=100,l=1){let n=0,Q=null,e=[];this.testPoint=(d,A)=>{if(null===U.renderData||null===U.camera)return console.error("IntersectionTester cannot be called before renderProgram has been initialized"),null;if((()=>{if(null===U.renderData)return void console.error("IntersectionTester cannot be called before renderProgram has been initialized");e=[];const F=U.renderData,l=new Array(F.offsets.size);let d=0;const A=new i(new t(1/0,1/0,1/0),new t(-1/0,-1/0,-1/0));for(const t of F.offsets.keys()){const U=t.bounds;l[d++]=U,A.expand(U.min),A.expand(U.max),e.push(t)}A.permute(),Q=new D(A,l),n=F.vertexCount})(),null===Q)return console.error("Failed to build octree for IntersectionTester"),null;const B=U.renderData,V=U.camera;n!==B.vertexCount&&console.warn("IntersectionTester has not been rebuilt since the last render");const a=V.screenPointToRay(d,A);for(let U=0;U<F;U+=l){const F=V.position.add(a.multiply(U)),n=new t(F.x-l/2,F.y-l/2,F.z-l/2),d=new t(F.x+l/2,F.y+l/2,F.z+l/2),A=new i(n,d),B=Q.queryRange(A);if(B.length>0)return e[B[0]]}return null}}}export{o as Camera,s as CameraData,X as Color32,Y as FPSControls,y as FadeInPass,v as IntersectionTester,I as Loader,A as Matrix3,l as Matrix4,d as Object3D,u as OrbitControls,m as PLYLoader,T as Plane,U as Quaternion,p as RenderData,S as RenderProgram,r as Scene,x as ShaderPass,N as ShaderProgram,Z as Splat,B as SplatData,R as Splatv,V as SplatvData,J as SplatvLoader,t as Vector3,c as Vector4,H as VideoRenderProgram,k as WebGLRenderer};
//# sourceMappingURL=index.js.map
